import{j as e}from"./index-iPjIzfj-.js";import{r as t}from"./react-vendor-DD48japz.js";const a=t.memo(({data:a,height:s=300,onBarClick:r,showTooltip:l=!0,animate:n=!0,className:i=""})=>{const[o,c]=t.useState(null),[d,x]=t.useState(0),[h,m]=t.useState(null);if(t.useEffect(()=>{if(n){let e=0;const t=16,a=t/4e3,s=setInterval(()=>{e+=a;const t=Math.min(e,1);x(t),e>=1&&(clearInterval(s),x(1))},t);return()=>clearInterval(s)}x(1)},[n,a]),t.useEffect(()=>()=>{h&&clearTimeout(h)},[h]),!a||0===a.length)return null;const u=15,p=20,g=25,f=40,y=s-u-g,v=a.map(e=>e.value),j=Math.min(...v),b=Math.max(...v),N=b-j,w=Math.max(.1*N,5),k=Math.max(0,j-w),M=b+w-k,C=600-f-p,$=Math.min(C/(2*a.length),40),L=(C-a.length*$)/(a.length+1),T=e=>e>=1e3?`${Math.round(e/1e3)}k`:Math.round(e).toString();return e.jsxs("div",{className:`relative ${i}`,style:{height:s,width:"100%"},children:[e.jsxs("svg",{width:"100%",height:"100%",className:"overflow-visible relative z-10",viewBox:`0 0 600 ${s}`,preserveAspectRatio:"xMidYMid meet",children:[(()=>{const t=[];for(let e=0;e<=4;e++){const a=k+M*e/4,s=u+y*(4-e)/4;t.push({value:Math.round(a),y:s})}return t.map((t,a)=>e.jsxs("g",{children:[e.jsx("line",{x1:f,y1:t.y,x2:600-p,y2:t.y,stroke:"currentColor",className:"text-gray-100",strokeWidth:"0.5",strokeDasharray:"1,3",opacity:"0.3"}),e.jsx("text",{x:f-5,y:t.y+3,textAnchor:"end",className:"text-xs font-medium fill-current text-gray-400",children:T(t.value)})]},a))})(),e.jsx("line",{x1:f,y1:u,x2:f,y2:s-g,stroke:"currentColor",className:"text-gray-200",strokeWidth:"0.5",opacity:"0.5"}),e.jsx("line",{x1:f,y1:s-g,x2:600-p,y2:s-g,stroke:"currentColor",className:"text-gray-200",strokeWidth:"0.5",opacity:"0.5"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"barGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgb(99, 102, 241)"}),e.jsx("stop",{offset:"50%",stopColor:"rgb(139, 92, 246)"}),e.jsx("stop",{offset:"100%",stopColor:"rgb(147, 51, 234)"})]})}),a.map((t,a)=>{const l=f+L+a*($+L),n=Math.max(0,(t.value-k)/M),i=Math.max(2,n*y),x=.2*a,u=Math.max(0,Math.min(1,(d-x)/.8)),p=Math.max(1,i*u),v=s-g-p;return e.jsxs("g",{children:[o===a&&e.jsx("rect",{x:l-2,y:v-2,width:$+4,height:p+4,className:"fill-blue-400/15",rx:"8",style:{pointerEvents:"none"}}),e.jsx("rect",{x:l+2,y:v+2,width:$,height:p,className:"fill-black/10",rx:"6",style:{pointerEvents:"none"}}),e.jsx("rect",{x:l-10,y:v-10,width:$+20,height:p+20,className:"fill-transparent cursor-pointer",onMouseEnter:()=>{h&&clearTimeout(h),c(a)},onMouseLeave:()=>{const e=setTimeout(()=>c(null),50);m(e)},onClick:()=>null==r?void 0:r(t,a)}),e.jsx("rect",{x:l,y:v,width:$,height:p,fill:"url(#barGradient)",className:"transition-all duration-300",rx:"6",style:{filter:o===a?"brightness(1.1) drop-shadow(0 4px 8px rgba(139, 92, 246, 0.3))":"drop-shadow(0 2px 4px rgba(139, 92, 246, 0.1))",transformOrigin:"bottom center",transform:o===a?"scale(1.02)":"scale(1)",pointerEvents:"none"}}),e.jsx("text",{x:l+$/2,y:v-8,textAnchor:"middle",className:"text-xs font-semibold transition-all duration-300 "+(o===a?"fill-indigo-600":"fill-gray-600"),style:{opacity:u,transform:o===a?"scale(1.1)":"scale(1)",transformOrigin:"center"},children:T(Math.round(t.value*u))}),e.jsx("text",{x:l+$/2,y:s-g+15,textAnchor:"middle",className:"text-xs font-medium fill-current text-gray-400",children:t.label})]},a)})]}),l&&null!==o&&e.jsxs("div",{className:"absolute bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800 text-white text-sm px-4 py-3 rounded-xl pointer-events-none z-50 shadow-2xl border border-white/10 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-2 duration-200",style:{left:(f+L+o*($+L)+$/2)/600*100+"%",top:`${Math.max(10,s-g-(a[o].value-k)/M*y-60)}px`,transform:"translateX(-50%)",minWidth:"150px"},children:[e.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-slate-800 rotate-45"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-bold text-blue-300 text-center border-b border-white/20 pb-1",children:a[o].label}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Revenue:"}),e.jsx("span",{className:"font-semibold text-green-400",children:T(a[o].value)})]}),a[o].details&&e.jsx("div",{className:"text-xs text-gray-400 pt-1 border-t border-white/10",children:a[o].details}),null!==a[o].change&&e.jsxs("div",{className:"flex items-center justify-between text-xs pt-1 border-t border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Change:"}),e.jsxs("span",{className:"font-medium "+(a[o].change>0?a[o].change>50?"text-orange-400":"text-green-400":"text-red-400"),children:[a[o].change>0?"+":"",a[o].change,"%"]})]})]})]})]})]})}),s=t.memo(({data:a,height:s=300,onPointClick:r,showTooltip:l=!0,animate:n=!0,className:i=""})=>{const[o,c]=t.useState(null),[d,x]=t.useState(0),[h,m]=t.useState(null);if(t.useEffect(()=>{if(n){x(0);const e=setTimeout(()=>{const e=performance.now(),t=a=>{const s=a-e,r=Math.min(s/4e3,1);x(r),r<1?requestAnimationFrame(t):x(1)};requestAnimationFrame(t)},400);return()=>clearTimeout(e)}x(1)},[n,a]),t.useEffect(()=>()=>{h&&clearTimeout(h)},[h]),!a||0===a.length)return null;Math.max(...a.map(e=>e.value)),Math.min(...a.map(e=>e.value));const u=15,p=20,g=25,f=40,y=s-u-g,v=a.map(e=>e.value),j=Math.min(...v),b=Math.max(...v),N=b-j,w=Math.max(.1*N,5),k=Math.max(0,j-w),M=b+w,C=M-k,$=a.map((e,t)=>{const s=600-f-p;return{x:f+t/(a.length-1)*s,y:u+(M-e.value)/C*y,...e}}),L=$.reduce((e,t,a)=>{if(0===a)return 0;const s=$[a-1];return e+Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))},0),T=$.map((e,t)=>`${0===t?"M":"L"} ${e.x} ${e.y}`).join(" "),S=[];for(let e=0;e<=4;e++){const t=k+C*e/4,a=u+y*(4-e)/4;S.push({value:Math.round(t),y:a})}const A=e=>e>=1e3?`${Math.round(e/1e3)}k`:Math.round(e).toString();return e.jsxs("div",{className:`relative ${i}`,style:{height:s,width:"100%"},children:[e.jsxs("svg",{width:"100%",height:"100%",className:"overflow-visible relative z-10",viewBox:`0 0 600 ${s}`,preserveAspectRatio:"xMidYMid meet",children:[S.map((t,a)=>e.jsx("line",{x1:f,y1:t.y,x2:600-p,y2:t.y,stroke:"currentColor",className:"text-gray-100",strokeWidth:"0.5",strokeDasharray:"1,3",opacity:"0.3"},a)),e.jsx("line",{x1:f,y1:u,x2:f,y2:s-g,stroke:"currentColor",className:"text-gray-200",strokeWidth:"0.5",opacity:"0.5"}),e.jsx("line",{x1:f,y1:s-g,x2:600-p,y2:s-g,stroke:"currentColor",className:"text-gray-200",strokeWidth:"0.5",opacity:"0.5"}),S.map((t,a)=>e.jsx("text",{x:f-5,y:t.y+3,textAnchor:"end",className:"text-xs font-medium fill-current text-gray-400",children:A(t.value)},a)),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgb(99, 102, 241)",stopOpacity:"0.2"}),e.jsx("stop",{offset:"50%",stopColor:"rgb(139, 92, 246)",stopOpacity:"0.1"}),e.jsx("stop",{offset:"100%",stopColor:"rgb(147, 51, 234)",stopOpacity:"0"})]}),e.jsxs("linearGradient",{id:"lineStroke",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgb(99, 102, 241)"}),e.jsx("stop",{offset:"50%",stopColor:"rgb(139, 92, 246)"}),e.jsx("stop",{offset:"100%",stopColor:"rgb(147, 51, 234)"})]})]}),e.jsx("path",{d:`${T} L ${$[$.length-1].x} ${s-g} L ${$[0].x} ${s-g} Z`,fill:"url(#lineGradient)",opacity:.8*d,className:"transition-opacity duration-500"}),e.jsx("path",{d:T,fill:"none",stroke:"url(#lineStroke)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:L,strokeDashoffset:L*(1-d),style:{filter:null!==o?"drop-shadow(0 0 8px rgba(139, 92, 246, 0.4))":"drop-shadow(0 2px 4px rgba(139, 92, 246, 0.1))"}}),$.map((t,a)=>{const s=t.change,l=null!==s;return e.jsxs("g",{children:[e.jsx("circle",{cx:t.x,cy:t.y,r:"15",className:"fill-transparent cursor-pointer",onMouseEnter:()=>{h&&clearTimeout(h),c(a)},onMouseLeave:()=>{const e=setTimeout(()=>c(null),100);m(e)},onClick:()=>null==r?void 0:r(t,a)}),e.jsx("circle",{cx:t.x,cy:t.y,r:o===a?"5":"4",fill:"url(#lineStroke)",className:"cursor-pointer transition-all duration-300",opacity:d,style:{filter:o===a?"drop-shadow(0 0 6px rgba(139, 92, 246, 0.6))":"drop-shadow(0 1px 2px rgba(139, 92, 246, 0.2))",transform:o===a?"scale(1.2)":"scale(1)",transformOrigin:"center"}}),e.jsx("circle",{cx:t.x,cy:t.y,r:o===a?"2":"1.5",className:"fill-white cursor-pointer transition-all duration-300",opacity:d}),l&&e.jsxs("text",{x:t.x,y:t.y-18,textAnchor:"middle",className:"text-xs font-bold transition-all duration-500 "+(s>0?s>50?"fill-orange-600":"fill-green-600":"fill-red-500"),opacity:d,children:[s>0?"+":"",s,"%"]}),o===a&&e.jsx("text",{x:t.x,y:t.y-(l?35:25),textAnchor:"middle",className:"text-xs font-bold fill-indigo-600 animate-in fade-in duration-200",children:A(t.value)})]},a)}),$.map((t,a)=>e.jsx("text",{x:t.x,y:s-g+15,textAnchor:"middle",className:"text-xs font-medium fill-current text-gray-400",children:t.label},a))]}),l&&null!==o&&e.jsxs("div",{className:"absolute bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800 text-white text-sm px-4 py-3 rounded-xl pointer-events-none z-50 shadow-2xl border border-white/10 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-2 duration-200",style:{left:$[o].x/600*100+"%",top:$[o].y-50+"px",transform:"translateX(-50%)",minWidth:"150px"},children:[e.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-slate-800 rotate-45"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-bold text-blue-300 text-center border-b border-white/20 pb-1",children:$[o].label}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Revenue:"}),e.jsx("span",{className:"font-semibold text-green-400",children:A($[o].value)})]}),$[o].details&&e.jsx("div",{className:"text-xs text-gray-400 pt-1 border-t border-white/10",children:$[o].details}),null!==$[o].change&&e.jsxs("div",{className:"flex items-center justify-between text-xs pt-1 border-t border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Change:"}),e.jsxs("span",{className:"font-medium "+($[o].change>0?$[o].change>50?"text-orange-400":"text-green-400":"text-red-400"),children:[$[o].change>0?"+":"",$[o].change,"%"]})]})]})]})]})]})}),r=t.memo(({data:t,size:a=200,className:s=""})=>{if(!t||0===t.length)return null;const r=t.reduce((e,t)=>e+t.value,0),l=a/2-20,n=a/2,i=a/2;let o=-90;const c=["text-blue-500","text-green-500","text-purple-500","text-orange-500","text-red-500","text-indigo-500"];return e.jsxs("div",{className:`relative ${s}`,style:{width:a,height:a},children:[e.jsx("svg",{width:a,height:a,children:t.map((t,a)=>{const s=t.value/r*360,d=o*Math.PI/180,x=(o+s)*Math.PI/180,h=n+l*Math.cos(d),m=i+l*Math.sin(d),u=n+l*Math.cos(x),p=i+l*Math.sin(x),g=[`M ${n} ${i}`,`L ${h} ${m}`,`A ${l} ${l} 0 ${s>180?1:0} 1 ${u} ${p}`,"Z"].join(" ");return o+=s,e.jsx("path",{d:g,className:`fill-current transition-all duration-300 hover:opacity-80 ${t.color||c[a%c.length]}`},a)})}),e.jsx("div",{className:"absolute top-full left-0 right-0 mt-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:t.map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t.color||c[a%c.length]}`}),e.jsx("span",{className:"text-gray-600 truncate",children:t.label})]},a))})})]})});a.displayName="BarChart",s.displayName="LineChart",r.displayName="PieChart";const l=t.memo(({data:t,color:a="white",height:s=32,className:r=""})=>{if(!t||0===t.length)return null;const l=Math.max(...t),n=Math.min(...t),i=l-n||1,o=t.map((e,a)=>`${a/(t.length-1)*100},${(l-e)/i*(s-4)+2}`).join(" ");return e.jsx("div",{className:`w-full ${r}`,style:{height:s},children:e.jsx("svg",{width:"100%",height:"100%",className:"overflow-visible",children:e.jsx("polyline",{points:o,fill:"none",stroke:a,strokeWidth:"2",className:"opacity-60",strokeLinecap:"round",strokeLinejoin:"round"})})})}),n=t.memo(({timeRange:t,onTimeRangeChange:a,onExport:s,onRefresh:r,chartType:l,onChartTypeChange:n})=>e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["7D","30D","90D","1Y"].map(s=>e.jsx("button",{onClick:()=>a(s),className:"px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 "+(t===s?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:s},s))}),n&&e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>n("line"),className:"p-2 rounded-md transition-all duration-300 transform hover:scale-110 "+("line"===l?"bg-white text-blue-600 shadow-lg scale-105 ring-2 ring-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:shadow-md"),title:"Line Chart",children:e.jsx("svg",{className:"w-4 h-4 transition-all duration-300 "+("line"===l?"animate-pulse":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4"})})}),e.jsx("button",{onClick:()=>n("bar"),className:"p-2 rounded-md transition-all duration-300 transform hover:scale-110 "+("bar"===l?"bg-white text-blue-600 shadow-lg scale-105 ring-2 ring-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:shadow-md"),title:"Bar Chart",children:e.jsx("svg",{className:"w-4 h-4 transition-all duration-300 "+("bar"===l?"animate-pulse":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&e.jsxs("button",{onClick:r,className:"relative p-2 text-gray-600 hover:text-white rounded-lg transition-all duration-200 \n                     overflow-hidden group hover:shadow-md hover:scale-110",children:[e.jsx("svg",{className:"w-4 h-4 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 \n                          transform scale-0 group-hover:scale-100 \n                          transition-transform duration-200 ease-out rounded-lg"})]}),s&&e.jsxs("button",{onClick:s,className:"relative px-3 py-2 bg-blue-600 text-white rounded-lg text-sm transition-all duration-200 \n                     flex items-center space-x-2 overflow-hidden group hover:shadow-lg hover:scale-105",children:[e.jsx("svg",{className:"w-4 h-4 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"relative z-10",children:"Export"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500 to-green-600 \n                          transform translate-x-full group-hover:translate-x-0 \n                          transition-transform duration-200 ease-out"})]})]})]})),i=t.memo(({data:r,height:l=300,onPointClick:n,onBarClick:i,showTooltip:o=!0,animate:c=!0,className:d="",chartType:x="line",onChartTypeChange:h})=>{const[m,u]=t.useState(String(x)),[p,g]=t.useState(!1);return t.useEffect(()=>{const e=String(x);e!==m&&u(e)},[x,m]),r&&Array.isArray(r)&&0!==r.length?e.jsxs("div",{className:`relative ${d}`,children:[p&&e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm z-20 flex items-center justify-center rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Switching chart..."})]})}),e.jsx("div",{className:"transition-all duration-300 "+(p?"opacity-50 scale-95":"opacity-100 scale-100"),children:"line"===m?e.jsx(s,{data:r,height:l,onPointClick:n,showTooltip:o,animate:c&&!p,className:d}):e.jsx(a,{data:r,height:l,onBarClick:i,showTooltip:o,animate:c&&!p,className:d})})]}):e.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No data available"})});l.displayName="MiniSparkline",n.displayName="ChartControls",i.displayName="ChartContainer";export{n as C,l as M,i as a};
