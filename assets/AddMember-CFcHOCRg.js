import{a as e,j as a,B as s}from"./index-CovdTvDO.js";import{r as t}from"./react-vendor-DD48japz.js";import{C as l}from"./Card-c7eKR8DJ.js";import{I as r}from"./Input-D9LuThJq.js";import{a as i}from"./router-vendor-CA0F1SnT.js";import{O as n,j as c,B as m,a7 as o,at as d,ag as x,ac as h,ao as u,ad as g,Z as p,U as j,a0 as b,r as v,X as y,ap as f,W as N,a as w,C as k,an as C,au as S}from"./icons-vendor-Cvv-27T5.js";import"./http-vendor-ei4kQ0Q2.js";const A=()=>{const A=i(),{showToast:E}=e(),[I,P]=t.useState({name:"",email:"",phone:"",employeeId:"",role:"User",department:"General",manager:"",startDate:"",contractType:"Full-time",salary:"",location:"",timezone:"America/New_York",workingHours:{start:"09:00",end:"17:00"},performanceRating:3,skills:[],certifications:[],birthday:"",emergencyContact:{name:"",phone:"",relationship:""},status:"active",permissions:[],notes:"",avatar:null}),[M,T]=t.useState(1),[D,R]=t.useState(!1),[F,H]=t.useState({}),[U,q]=t.useState(""),[z,B]=t.useState(""),[G,O]=t.useState(!1),[L,K]=t.useState(""),W=[{id:"Admin",name:"Admin",icon:x,color:"text-purple-600",permissions:["all"]},{id:"Manager",name:"Manager",icon:j,color:"text-blue-600",permissions:["candidates","deals","companies","reports","team"]},{id:"User",name:"User",icon:c,color:"text-green-600",permissions:["candidates","deals","companies"]},{id:"Viewer",name:"Viewer",icon:b,color:"text-gray-600",permissions:["view"]}],$=["General","Sales","Marketing","Finance","HR","IT","Management","Operations","Customer Success"],V=["Full-time","Part-time","Contract","Intern","Consultant","Freelance"],Y=["Asia/Kolkata","Asia/Dubai","Asia/Singapore","Asia/Tokyo","Asia/Shanghai","America/New_York","America/Los_Angeles","Europe/London","Europe/Paris","Australia/Sydney","UTC"],_=["Spouse","Parent","Sibling","Child","Friend","Colleague","Other"],Z=[{id:1,title:"Basic Information",icon:c},{id:2,title:"Work Details",icon:m},{id:3,title:"Skills & Performance",icon:o},{id:4,title:"Personal & Emergency",icon:d},{id:5,title:"System & Permissions",icon:x}],J=e=>{const a={};switch(e){case 1:I.name.trim()||(a.name="Name is required"),I.email.trim()?/\S+@\S+\.\S+/.test(I.email)||(a.email="Email is invalid"):a.email="Email is required",I.employeeId.trim()||(a.employeeId="Employee ID is required");break;case 2:I.role||(a.role="Role is required"),I.department||(a.department="Department is required"),I.startDate||(a.startDate="Start date is required");break;case 3:(I.performanceRating<0||I.performanceRating>5)&&(a.performanceRating="Rating must be between 0 and 5")}return H(a),0===Object.keys(a).length},Q=(e,a)=>{P(s=>({...s,[e]:a})),F[e]&&H(a=>({...a,[e]:void 0}))},X=(e,a,s)=>{P(t=>({...t,[e]:{...t[e],[a]:s}}))},ee=()=>{U.trim()&&!I.skills.includes(U.trim())&&(P(e=>({...e,skills:[...e.skills,U.trim()]})),q(""))},ae=()=>{z.trim()&&!I.certifications.includes(z.trim())&&(P(e=>({...e,certifications:[...e.certifications,z.trim()]})),B(""))},se=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let a="";for(let s=0;s<12;s++)a+=e.charAt(Math.floor(70*Math.random()));K(a)},te=()=>{const e=I.department.substring(0,2).toUpperCase(),a=Math.floor(9e3*Math.random())+1e3;Q("employeeId",`${e}${a}`)};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsxs(s,{variant:"secondary",onClick:()=>A("/team"),size:"sm",children:[a.jsx(n,{className:"w-4 h-4 mr-2"}),"Back to Team"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Team Member"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create a new team member account with complete profile information"})]})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(l,{className:"p-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:Z.map((e,s)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors "+(M>=e.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-400"),children:a.jsx(e.icon,{className:"w-5 h-5"})}),a.jsxs("div",{className:"ml-3 hidden sm:block",children:[a.jsxs("p",{className:"text-sm font-medium "+(M>=e.id?"text-blue-600":"text-gray-500"),children:["Step ",e.id]}),a.jsx("p",{className:"text-xs "+(M>=e.id?"text-blue-500":"text-gray-400"),children:e.title})]}),s<Z.length-1&&a.jsx("div",{className:"w-12 h-0.5 mx-4 "+(M>e.id?"bg-blue-600":"bg-gray-300")})]},e.id))}),a.jsxs("div",{className:"min-h-[500px]",children:[1===M&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(u,{className:"w-8 h-8 text-white"})}),a.jsxs(s,{variant:"secondary",size:"sm",children:[a.jsx(g,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx(r,{value:I.name,onChange:e=>Q("name",e.target.value),placeholder:"Enter full name",error:F.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx(r,{type:"email",value:I.email,onChange:e=>Q("email",e.target.value),placeholder:"Enter email address",error:F.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx(r,{type:"tel",value:I.phone,onChange:e=>Q("phone",e.target.value),placeholder:"Enter phone number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee ID *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(r,{value:I.employeeId,onChange:e=>Q("employeeId",e.target.value),placeholder:"Enter employee ID",error:F.employeeId}),a.jsx(s,{variant:"secondary",onClick:te,title:"Generate ID",children:a.jsx(p,{className:"w-4 h-4"})})]})]})]})]}),2===M&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),a.jsx("select",{value:I.role,onChange:e=>{Q("role",e.target.value);const a=W.find(a=>a.id===e.target.value);a&&Q("permissions",a.permissions)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:W.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),a.jsx("select",{value:I.department,onChange:e=>Q("department",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:$.map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manager"}),a.jsx(r,{value:I.manager,onChange:e=>Q("manager",e.target.value),placeholder:"Enter manager name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),a.jsx(r,{type:"date",value:I.startDate,onChange:e=>Q("startDate",e.target.value),error:F.startDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contract Type"}),a.jsx("select",{value:I.contractType,onChange:e=>Q("contractType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:V.map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Salary"}),a.jsx(r,{type:"number",value:I.salary,onChange:e=>Q("salary",e.target.value),placeholder:"Enter annual salary"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx(r,{value:I.location,onChange:e=>Q("location",e.target.value),placeholder:"Enter work location"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),a.jsx("select",{value:I.timezone,onChange:e=>Q("timezone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:Y.map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Hours"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(r,{type:"time",value:I.workingHours.start,onChange:e=>X("workingHours","start",e.target.value)}),a.jsx("span",{className:"flex items-center text-gray-500",children:"to"}),a.jsx(r,{type:"time",value:I.workingHours.end,onChange:e=>X("workingHours","end",e.target.value)})]})]})]})]}),3===M&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Performance Rating"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:I.performanceRating,onChange:e=>Q("performanceRating",parseFloat(e.target.value)),className:"flex-1"}),a.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((e,s)=>a.jsx(o,{className:"w-5 h-5 "+(s<Math.floor(I.performanceRating)?"text-yellow-400 fill-current":"text-gray-300")},s)),a.jsxs("span",{className:"ml-2 font-medium",children:[I.performanceRating.toFixed(1),"/5"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(r,{value:U,onChange:e=>q(e.target.value),placeholder:"Add a skill",onKeyPress:e=>"Enter"===e.key&&ee()}),a.jsx(s,{onClick:ee,variant:"secondary",children:a.jsx(v,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:I.skills.map(e=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[e,a.jsx("button",{onClick:()=>{return a=e,void P(e=>({...e,skills:e.skills.filter(e=>e!==a)}));var a},className:"ml-2 text-blue-600 hover:text-blue-800",children:a.jsx(y,{className:"w-3 h-3"})})]},e))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(r,{value:z,onChange:e=>B(e.target.value),placeholder:"Add a certification",onKeyPress:e=>"Enter"===e.key&&ae()}),a.jsx(s,{onClick:ae,variant:"secondary",children:a.jsx(v,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"space-y-2",children:I.certifications.map(e=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(f,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-green-800",children:e})]}),a.jsx("button",{onClick:()=>{return a=e,void P(e=>({...e,certifications:e.certifications.filter(e=>e!==a)}));var a},className:"text-green-600 hover:text-green-800",children:a.jsx(N,{className:"w-4 h-4"})})]},e))})]})]}),4===M&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birthday"}),a.jsx(r,{type:"date",value:I.birthday,onChange:e=>Q("birthday",e.target.value)})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Emergency Contact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),a.jsx(r,{value:I.emergencyContact.name,onChange:e=>X("emergencyContact","name",e.target.value),placeholder:"Enter contact name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),a.jsx(r,{type:"tel",value:I.emergencyContact.phone,onChange:e=>X("emergencyContact","phone",e.target.value),placeholder:"Enter contact phone"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship"}),a.jsxs("select",{value:I.emergencyContact.relationship,onChange:e=>X("emergencyContact","relationship",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select relationship"}),_.map(e=>a.jsx("option",{value:e,children:e},e))]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:I.notes,onChange:e=>Q("notes",e.target.value),placeholder:"Add any additional notes about this team member...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]})]}),5===M&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Status"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"status",value:"active",checked:"active"===I.status,onChange:e=>Q("status",e.target.value),className:"mr-2"}),a.jsx(w,{className:"w-4 h-4 text-green-600 mr-1"}),"Active"]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"status",value:"inactive",checked:"inactive"===I.status,onChange:e=>Q("status",e.target.value),className:"mr-2"}),a.jsx(k,{className:"w-4 h-4 text-red-600 mr-1"}),"Inactive"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generate Login Password"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(r,{type:G?"text":"password",value:L,placeholder:"Click generate to create password",readOnly:!0})}),a.jsx(s,{variant:"secondary",onClick:()=>O(!G),title:G?"Hide password":"Show password",children:G?a.jsx(C,{className:"w-4 h-4"}):a.jsx(b,{className:"w-4 h-4"})}),a.jsx(s,{variant:"secondary",onClick:se,title:"Generate password",children:a.jsx(p,{className:"w-4 h-4"})}),L&&a.jsx(s,{variant:"secondary",onClick:()=>{navigator.clipboard.writeText(L),E("success","Password copied to clipboard")},title:"Copy password",children:a.jsx(S,{className:"w-4 h-4"})})]}),L&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Make sure to share this password securely with the new team member."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions Summary"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(x,{className:"w-5 h-5 text-blue-600"}),a.jsxs("span",{className:"font-medium",children:["Role: ",I.role]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["This role includes access to: ",I.permissions.join(", ")]})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-8 border-t border-gray-200",children:[a.jsx("div",{children:M>1&&a.jsx(s,{variant:"secondary",onClick:()=>{T(e=>Math.max(e-1,1))},children:"Previous"})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(s,{variant:"secondary",onClick:()=>A("/team"),children:"Cancel"}),M<Z.length?a.jsx(s,{onClick:()=>{J(M)&&T(e=>Math.min(e+1,Z.length))},children:"Next Step"}):a.jsx(s,{onClick:async()=>{if(J(M)){R(!0);try{await new Promise(e=>setTimeout(e,2e3)),E("success",`Team member ${I.name} has been created successfully!`),A("/team")}catch(e){E("error","Failed to create team member. Please try again.")}finally{R(!1)}}},disabled:D,className:"min-w-[120px]",children:D?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(h,{className:"w-4 h-4 mr-2"}),"Create Member"]})})]})]})]})})]})})};export{A as default};
