import{j as e,B as t,C as a,I as s}from"./index-BKRGk-ud.js";import{r as l}from"./react-vendor-DD48japz.js";import{E as r}from"./EmptyState-BC9U71xQ.js";import{B as n,C as i}from"./csvService-BMrZyQ8f.js";import{M as c}from"./Modal-CTl15aAw.js";import{i as d,m as o,y as u,M as m,B as x,Q as g,D as h,T as p,G as b,an as y,E as j,b as f,F as v,w as N,a as w,ab as S,k,P as C,z as D,X as F,p as A,V as B,C as I,a4 as E,U as P,N as $,o as L,W as R,a0 as M,$ as U,Y as T,O as V}from"./icons-vendor-DHuFQz5q.js";import{a as O}from"./router-vendor-CZVZXlDA.js";import"./http-vendor-ei4kQ0Q2.js";import"./csvMappings-CudA6gLI.js";const q=({candidate:t,isEditing:a})=>{var s,r;const[n,i]=l.useState({name:t.name||"",email:t.email||"",phone:t.phone||"",location:t.location||"",currentCompany:t.currentCompany||"",designation:t.designation||"",totalExperience:t.totalExperience||"",lastSalary:t.lastSalary||"",salaryExpectation:t.salaryExpectation||"",qualification:t.qualification||"",industry:t.industry||""}),c=(e,t)=>{i(a=>({...a,[e]:t}))};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(d,{className:"w-5 h-5 mr-2 text-blue-600"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a?e.jsx("input",{type:"text",value:n.name,onChange:e=>c("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a?e.jsx("input",{type:"email",value:n.email,onChange:e=>c("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:t.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a?e.jsx("input",{type:"tel",value:n.phone,onChange:e=>c("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:t.phone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a?e.jsx("input",{type:"text",value:n.location,onChange:e=>c("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:t.location})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(x,{className:"w-5 h-5 mr-2 text-blue-600"}),"Professional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Company"}),a?e.jsx("input",{type:"text",value:n.currentCompany,onChange:e=>c("currentCompany",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:t.currentCompany||"Not specified"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation"}),a?e.jsx("input",{type:"text",value:n.designation,onChange:e=>c("designation",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:t.designation})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Experience"}),a?e.jsx("input",{type:"text",value:n.totalExperience,onChange:e=>c("totalExperience",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:t.totalExperience})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),a?e.jsx("input",{type:"text",value:n.industry,onChange:e=>c("industry",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:t.industry||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Salary"}),a?e.jsx("input",{type:"text",value:n.lastSalary,onChange:e=>c("lastSalary",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:t.lastSalary})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary Expectation"}),a?e.jsx("input",{type:"text",value:n.salaryExpectation,onChange:e=>c("salaryExpectation",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:t.salaryExpectation})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(b,{className:"w-5 h-5 mr-2 text-blue-600"}),"Education"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Qualification"}),a?e.jsx("input",{type:"text",value:n.qualification,onChange:e=>c("qualification",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:t.qualification})]})]}),t.skills&&t.skills.length>0&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2 text-blue-600"}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((t,a)=>e.jsx("span",{className:"inline-block bg-blue-50 text-blue-700 text-sm px-3 py-1 rounded-full",children:t},a))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"CV Number:"}),e.jsx("p",{className:"text-gray-900 mt-1",children:t.cvNo})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Allocation:"}),e.jsx("p",{className:"text-gray-900 mt-1",children:t.allocation})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Registration Date:"}),e.jsx("p",{className:"text-gray-900 mt-1",children:(null==(s=t.registration)?void 0:s.date)?new Date(t.registration.date).toLocaleDateString():"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Registration Source:"}),e.jsx("p",{className:"text-gray-900 mt-1",children:(null==(r=t.registration)?void 0:r.resource)||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Created By:"}),e.jsx("p",{className:"text-gray-900 mt-1",children:t.createdByName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Last Modified By:"}),e.jsx("p",{className:"text-gray-900 mt-1",children:t.lastModifiedByName||"Not modified"})]})]})]})]})},H=({candidate:t})=>{var a,s;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2 text-blue-600"}),"Application Overview"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position Applied For"}),e.jsx("p",{className:"text-gray-900",children:t.interestedFor})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Date"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:t.createdAt?new Date(t.createdAt).toLocaleDateString():"Not specified"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stage"}),e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium "+("registration"===t.currentStage?"bg-blue-100 text-blue-800":"resume-sharing"===t.currentStage?"bg-purple-100 text-purple-800":"shortlisting"===t.currentStage?"bg-amber-100 text-amber-800":"lineup-feedback"===t.currentStage?"bg-cyan-100 text-cyan-800":"selection"===t.currentStage?"bg-green-100 text-green-800":"closure"===t.currentStage?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"),children:null==(a=t.currentStage)?void 0:a.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Status"}),e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium "+("new"===t.overallStatus?"bg-blue-100 text-blue-800":"in-process"===t.overallStatus?"bg-yellow-100 text-yellow-800":"shortlisted"===t.overallStatus?"bg-purple-100 text-purple-800":"interviewed"===t.overallStatus?"bg-cyan-100 text-cyan-800":"selected"===t.overallStatus?"bg-green-100 text-green-800":"placed"===t.overallStatus?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"),children:null==(s=t.overallStatus)?void 0:s.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())})]})]})]}),t.resumeSharing&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(v,{className:"w-5 h-5 mr-2 text-purple-600"}),"Resume Sharing"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client"}),e.jsx("p",{className:"text-gray-900",children:t.resumeSharing.shortlistsForClient||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+("Done"===t.resumeSharing.resumeShareStatus?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.resumeSharing.resumeShareStatus})]}),t.resumeSharing.remark&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),e.jsx("p",{className:"text-gray-900",children:t.resumeSharing.remark})]})]})]}),t.shortlisting&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2 text-amber-600"}),"Shortlisting"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shortlist Date"}),e.jsx("p",{className:"text-gray-900",children:t.shortlisting.shortlistDate?new Date(t.shortlisting.shortlistDate).toLocaleDateString():"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client"}),e.jsx("p",{className:"text-gray-900",children:t.shortlisting.shortlistsForClient||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource"}),e.jsx("p",{className:"text-gray-900",children:t.shortlisting.resource||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+("Done"===t.shortlisting.shortlistStatus?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.shortlisting.shortlistStatus})]})]})]}),t.lineupFeedback&&t.lineupFeedback.feedbacks&&t.lineupFeedback.feedbacks.length>0&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(N,{className:"w-5 h-5 mr-2 text-cyan-600"}),"Client Feedback"]}),e.jsx("div",{className:"space-y-4",children:t.lineupFeedback.feedbacks.map((t,a)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.clientName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Feedback #",t.feedbackNumber]})]}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Selected"===t.feedback?"bg-green-100 text-green-800":"Rejected"===t.feedback?"bg-red-100 text-red-800":"Hold"===t.feedback?"bg-yellow-100 text-yellow-800":"Joined"===t.feedback?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"),children:t.feedback})]}),t.scheduledDate&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-2",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Scheduled: ",new Date(t.scheduledDate).toLocaleDateString()]})]})]},a))})]}),t.selection&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(w,{className:"w-5 h-5 mr-2 text-green-600"}),"Selection"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client"}),e.jsx("p",{className:"text-gray-900",children:t.selection.client||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selection Date"}),e.jsx("p",{className:"text-gray-900",children:t.selection.selectionDate?new Date(t.selection.selectionDate).toLocaleDateString():"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selection Status"}),e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+("Selected"===t.selection.selectionStatus?"bg-green-100 text-green-800":"Rejected"===t.selection.selectionStatus?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:t.selection.selectionStatus||"Pending"})]})]})]}),t.closure&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Closure"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Placed In"}),e.jsx("p",{className:"text-gray-900",children:t.closure.placedIn||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Joining Date"}),e.jsx("p",{className:"text-gray-900",children:t.closure.joiningDate?new Date(t.closure.joiningDate).toLocaleDateString():"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Offered Salary"}),e.jsx("p",{className:"text-gray-900",children:t.closure.offeredSalary||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency Charges"}),e.jsx("p",{className:"text-gray-900",children:t.closure.charges||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Joining Status"}),e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+("Yes"===t.closure.joiningStatus?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"Yes"===t.closure.joiningStatus?"Joined":"Not Joined"})]})]})]})]})},_=({candidate:a,onDocumentUpload:s,uploadingDocument:l})=>{var r,n,i;const c=a.documents||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Documents"]}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",className:"hidden",onChange:s,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",disabled:l}),e.jsx(t,{variant:"primary",size:"sm",icon:l?e.jsx(k,{className:"w-4 h-4 animate-spin"}):e.jsx(C,{className:"w-4 h-4"}),disabled:l,children:l?"Uploading...":"Add Document"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("p",{children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG"}),e.jsx("p",{children:"Maximum file size: 10MB"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(v,{className:"w-5 h-5 mr-2 text-blue-600"}),"Documents (",c.length,")"]}),0===c.length?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(v,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No documents uploaded yet"}),e.jsx("p",{className:"text-sm",children:"Upload resumes, certificates, and other relevant documents"})]}):e.jsx("div",{className:"space-y-3",children:c.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[(a.size/1024/1024).toFixed(2)," MB"]}),e.jsxs("span",{children:["Uploaded by ",a.uploadedBy]}),e.jsx("span",{children:new Date(a.uploadedAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{variant:"outline",size:"sm",icon:e.jsx(D,{className:"w-4 h-4"}),children:"Download"}),e.jsx(t,{variant:"outline",size:"sm",icon:e.jsx(F,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700",children:"Remove"})]})]},s))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resume Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resume Shared With"}),e.jsx("p",{className:"text-gray-900",children:(null==(r=a.resumeSharing)?void 0:r.shortlistsForClient)||"Not shared yet"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resume Share Status"}),e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+("Done"===(null==(n=a.resumeSharing)?void 0:n.resumeShareStatus)?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:(null==(i=a.resumeSharing)?void 0:i.resumeShareStatus)||"Pending"})]})]})]})]})},z=({candidate:a,newNote:s,setNewNote:l,onAddNote:r})=>{const n=a.notes||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(C,{className:"w-5 h-5 mr-2 text-blue-600"}),"Add Note"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("textarea",{value:s,onChange:e=>l(e.target.value),placeholder:"Add a note about this candidate...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:4}),e.jsx("div",{className:"flex justify-end",children:e.jsx(t,{onClick:r,disabled:!s.trim(),variant:"primary",size:"sm",children:"Add Note"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(N,{className:"w-5 h-5 mr-2 text-blue-600"}),"Notes (",n.length,")"]}),0===n.length?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(N,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No notes added yet"}),e.jsx("p",{className:"text-sm",children:"Add notes to track important information about this candidate"})]}):e.jsx("div",{className:"space-y-4",children:n.map((t,a)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(d,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.createdByName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(t.createdAt).toLocaleDateString()," at ",new Date(t.createdAt).toLocaleTimeString()]})]})]}),t.isPrivate&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Private"})]}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.content})]},a))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(k,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recent Activity"]}),a.changeHistory&&a.changeHistory.length>0?e.jsxs("div",{className:"space-y-4",children:[a.changeHistory.slice(0,5).map((t,a)=>e.jsxs("div",{className:"flex items-start space-x-3 pb-4 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(k,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.changedByName}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.timestamp).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:t.changeType.replace("_"," ")}),t.reason&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1 italic",children:["Reason: ",t.reason]})]})]},a)),a.changeHistory.length>5&&e.jsx("div",{className:"text-center",children:e.jsxs(t,{variant:"outline",size:"sm",children:["View All Activity (",a.changeHistory.length,")"]})})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(k,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No activity history available"})]})]})]})},J={registration:{name:"Registration",description:"Initial candidate registration and data collection",color:"#3B82F6",order:1,requiredFields:["name","phone","email","interestedFor"]},"resume-sharing":{name:"Resume Sharing",description:"Resume shared with potential clients",color:"#8B5CF6",order:2,requiredFields:["resumeSharing.shortlistsForClient"]},shortlisting:{name:"Shortlisting",description:"Candidate shortlisted by client",color:"#F59E0B",order:3,requiredFields:["shortlisting.shortlistDate"]},"lineup-feedback":{name:"Lineup & Feedback",description:"Interview scheduled and feedback collected",color:"#06B6D4",order:4,requiredFields:["lineupFeedback.feedbacks"]},selection:{name:"Selection",description:"Candidate selected by client",color:"#10B981",order:5,requiredFields:["selection.selectionStatus"]},closure:{name:"Closure",description:"Candidate placement completed",color:"#059669",order:6,requiredFields:["closure.joiningStatus"]},completed:{name:"Completed",description:"Full recruitment cycle completed",color:"#047857",order:7,requiredFields:[]}},Y={new:{name:"New",color:"#6B7280",description:"Recently added candidate"},"in-process":{name:"In Process",color:"#3B82F6",description:"Actively being processed"},shortlisted:{name:"Shortlisted",color:"#F59E0B",description:"Shortlisted by client"},interviewed:{name:"Interviewed",color:"#06B6D4",description:"Interview completed"},selected:{name:"Selected",color:"#10B981",description:"Selected by client"},placed:{name:"Placed",color:"#059669",description:"Successfully placed"},rejected:{name:"Rejected",color:"#EF4444",description:"Rejected by client"}},K={generateCandidateId:()=>`cand_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,generateCVNumber:(e=[])=>{let t,a=1;do{t=String(a),a++}while(e.includes(t));return t},determineCurrentStage:e=>{var t,a,s,l,r,n,i,c;return"Yes"===(null==(t=e.closure)?void 0:t.joiningStatus)?"completed":(null==(a=e.closure)?void 0:a.joiningDate)||(null==(s=e.closure)?void 0:s.placedIn)?"closure":"Selected"===(null==(l=e.selection)?void 0:l.selectionStatus)?"selection":(null==(n=null==(r=e.lineupFeedback)?void 0:r.feedbacks)?void 0:n.length)&&"Done"===e.lineupFeedback.lineupStatus?"lineup-feedback":"Done"===(null==(i=e.shortlisting)?void 0:i.shortlistStatus)?"shortlisting":"Done"===(null==(c=e.resumeSharing)?void 0:c.resumeShareStatus)?"resume-sharing":"registration"},determineOverallStatus:e=>{var t,a,s;const l=K.determineCurrentStage(e);if("Rejected"===(null==(t=e.selection)?void 0:t.selectionStatus)||(null==(s=null==(a=e.lineupFeedback)?void 0:a.feedbacks)?void 0:s.some(e=>"Rejected"===e.feedback||"Reject"===e.feedback)))return"rejected";switch(l){case"completed":return"placed";case"closure":case"selection":return"selected";case"lineup-feedback":return"interviewed";case"shortlisting":return"shortlisted";case"resume-sharing":return"in-process";default:return"new"}},createNewCandidate:(e,t,a)=>{var s,l,r,n,i,c,d,o,u,m,x,g,h,p,b,y,j,f,v,N,w,S,k,C;const D=new Date,F=K.generateCandidateId(),A={id:F,cvNo:e.cvNo||K.generateCVNumber(),name:e.name||"",phone:e.phone||"",email:e.email||"",location:e.location||"",interestedFor:e.interestedFor||"",declaration:e.declaration,currentCompany:e.currentCompany,industry:e.industry,designation:e.designation||"",totalExperience:e.totalExperience||"",lastSalary:e.lastSalary||"",salaryExpectation:e.salaryExpectation||"",qualification:e.qualification||"",allocation:e.allocation||"",registration:{date:(null==(s=e.registration)?void 0:s.date)||D,resource:(null==(l=e.registration)?void 0:l.resource)||"",registrationStatus:(null==(r=e.registration)?void 0:r.registrationStatus)||"Yes",registrationAmount:null==(n=e.registration)?void 0:n.registrationAmount},resumeSharing:{date:null==(i=e.resumeSharing)?void 0:i.date,shortlistsForClient:null==(c=e.resumeSharing)?void 0:c.shortlistsForClient,resumeShareStatus:(null==(d=e.resumeSharing)?void 0:d.resumeShareStatus)||"Pending",remark:null==(o=e.resumeSharing)?void 0:o.remark},shortlisting:{shortlistDate:null==(u=e.shortlisting)?void 0:u.shortlistDate,shortlistsForClient:null==(m=e.shortlisting)?void 0:m.shortlistsForClient,resource:null==(x=e.shortlisting)?void 0:x.resource,shortlistStatus:(null==(g=e.shortlisting)?void 0:g.shortlistStatus)||"Pending"},lineupFeedback:{shortlistDate:null==(h=e.lineupFeedback)?void 0:h.shortlistDate,shortlistsForClient:null==(p=e.lineupFeedback)?void 0:p.shortlistsForClient,feedbacks:(null==(b=e.lineupFeedback)?void 0:b.feedbacks)||[],lineupStatus:(null==(y=e.lineupFeedback)?void 0:y.lineupStatus)||"Pending"},selection:{client:null==(j=e.selection)?void 0:j.client,selectionDate:null==(f=e.selection)?void 0:f.selectionDate,selectionStatus:null==(v=e.selection)?void 0:v.selectionStatus},closure:{joiningDate:null==(N=e.closure)?void 0:N.joiningDate,placedIn:null==(w=e.closure)?void 0:w.placedIn,offeredSalary:null==(S=e.closure)?void 0:S.offeredSalary,charges:null==(k=e.closure)?void 0:k.charges,joiningStatus:null==(C=e.closure)?void 0:C.joiningStatus},avatar:e.avatar,rating:e.rating,tags:e.tags||[],notes:e.notes||[],createdBy:t,createdByName:a,lastModifiedBy:t,lastModifiedByName:a,changeHistory:[K.createChangeHistoryEntry(F,t,a,"created",[],"Candidate created")],createdAt:D,updatedAt:D,currentStage:"registration",overallStatus:"new"};return A.currentStage=K.determineCurrentStage(A),A.overallStatus=K.determineOverallStatus(A),A},updateCandidateStage:(e,t)=>{const a={...e,...t,updatedAt:new Date};return a.currentStage=K.determineCurrentStage(a),a.overallStatus=K.determineOverallStatus(a),a},getStageConfig:e=>J[e],getStatusConfig:e=>Y[e],getNextStages:e=>{const t=Object.values(J).sort((e,t)=>e.order-t.order),a=t.findIndex(t=>Object.keys(J).find(e=>J[e]===t)===e);return-1===a||a===t.length-1?[]:t.slice(a+1).map(e=>Object.keys(J).find(t=>J[t]===e))},validateCandidate:e=>{var t,a,s,l;const r=[];(null==(t=e.name)?void 0:t.trim())||r.push("Name is required"),(null==(a=e.phone)?void 0:a.trim())||r.push("Phone number is required"),(null==(s=e.email)?void 0:s.trim())?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||r.push("Invalid email format"):r.push("Email is required"),(null==(l=e.interestedFor)?void 0:l.trim())||r.push("Position of interest is required");const n=e.currentStage||K.determineCurrentStage(e),i=J[n];return i&&i.requiredFields.forEach(t=>{const a=K.getNestedValue(e,t);(!a||Array.isArray(a)&&0===a.length)&&r.push(`${t} is required for ${i.name} stage`)}),{isValid:0===r.length,errors:r}},getNestedValue:(e,t)=>t.split(".").reduce((e,t)=>{var a;if(t.includes("[")&&t.includes("]")){const[s,l]=t.split("["),r=parseInt(l.replace("]",""));return null==(a=null==e?void 0:e[s])?void 0:a[r]}return null==e?void 0:e[t]},e),setNestedValue:(e,t,a)=>{const s=t.split("."),l=s.pop(),r=s.reduce((e,t)=>{if(t.includes("[")&&t.includes("]")){const[a,s]=t.split("["),l=parseInt(s.replace("]",""));return e[a]||(e[a]=[]),e[a][l]||(e[a][l]={}),e[a][l]}return e[t]||(e[t]={}),e[t]},e);if(l.includes("[")&&l.includes("]")){const[e,t]=l.split("["),s=parseInt(t.replace("]",""));r[e]||(r[e]=[]),r[e][s]=a}else r[l]=a},formatCandidateForDisplay:e=>{const t=K.getStageConfig(e.currentStage),a=K.getStatusConfig(e.overallStatus);return{...e,displayName:e.name,displayPhone:K.formatPhoneNumber(e.phone),displayStage:t.name,displayStatus:a.name,stageColor:t.color,statusColor:a.color,experienceYears:K.parseExperience(e.totalExperience),salaryRange:`${e.lastSalary} → ${e.salaryExpectation}`,daysInCurrentStage:K.calculateDaysInStage(e)}},formatPhoneNumber:e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 10===t.length?`${t.slice(0,3)}-${t.slice(3,6)}-${t.slice(6)}`:e},parseExperience:e=>{if(!e)return 0;const t=e.match(/(\d+)/);return t?parseInt(t[1]):0},calculateDaysInStage:e=>{const t=new Date;let a=e.createdAt;switch(e.currentStage){case"resume-sharing":a=e.resumeSharing.date||e.createdAt;break;case"shortlisting":a=e.shortlisting.shortlistDate||e.createdAt;break;case"lineup-feedback":a=e.lineupFeedback.shortlistDate||e.createdAt;break;case"selection":a=e.selection.selectionDate||e.createdAt;break;case"closure":a=e.closure.joiningDate||e.createdAt}const s=Math.abs(t.getTime()-a.getTime());return Math.ceil(s/864e5)},createClientFeedback:(e,t,a,s)=>({feedbackNumber:e,clientName:t,feedback:a,scheduledDate:s,createdAt:new Date}),getCandidateProgress:e=>{const t=K.getStageConfig(e.currentStage),a=Object.keys(J).length;return Math.round(t.order/a*100)},createChangeHistoryEntry:(e,t,a,s,l,r)=>({id:`change_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,candidateId:e,changedBy:t,changedByName:a,changeType:s,changes:l,timestamp:new Date,reason:r}),trackFieldChanges:(e,t)=>{const a=[];Object.entries({name:"Name",phone:"Phone Number",email:"Email",location:"Location",interestedFor:"Position of Interest",currentCompany:"Current Company",designation:"Designation",totalExperience:"Total Experience",lastSalary:"Last Salary",salaryExpectation:"Salary Expectation",qualification:"Qualification",allocation:"Allocation",currentStage:"Current Stage",overallStatus:"Overall Status",rating:"Rating"}).forEach(([s,l])=>{const r=K.getNestedValue(e,s),n=K.getNestedValue(t,s);r!==n&&a.push({field:s,fieldDisplayName:l,oldValue:r,newValue:n,changeDescription:`${l} changed from "${r||"empty"}" to "${n||"empty"}"`})});return Object.entries({"registration.registrationStatus":"Registration Status","resumeSharing.resumeShareStatus":"Resume Share Status","shortlisting.shortlistStatus":"Shortlist Status","lineupFeedback.lineupStatus":"Lineup Status","selection.selectionStatus":"Selection Status","closure.joiningStatus":"Joining Status"}).forEach(([s,l])=>{const r=K.getNestedValue(e,s),n=K.getNestedValue(t,s);r!==n&&a.push({field:s,fieldDisplayName:l,oldValue:r,newValue:n,changeDescription:`${l} changed from "${r||"empty"}" to "${n||"empty"}"`})}),a},updateCandidateWithHistory:(e,t,a,s,l)=>{const r={...e},n=K.updateCandidateStage(e,t),i=K.trackFieldChanges(r,n);if(i.length>0){const t=K.createChangeHistoryEntry(e.id,a,s,"updated",i,l);n.changeHistory=[...e.changeHistory,t],n.lastModifiedBy=a,n.lastModifiedByName=s}return n},addNoteWithHistory:(e,t,a,s,l=!1)=>{const r={id:`note_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,content:t,createdBy:a,createdAt:new Date,isPrivate:l},n=K.createChangeHistoryEntry(e.id,a,s,"note_added",[{field:"notes",fieldDisplayName:"Notes",oldValue:null,newValue:t,changeDescription:`Added ${l?"private":"public"} note: "${t.substring(0,50)}${t.length>50?"...":""}"`}],"Note added");return{...e,notes:[...e.notes||[],r],changeHistory:[...e.changeHistory,n],lastModifiedBy:a,lastModifiedByName:s,updatedAt:new Date}},getFormattedChangeHistory:e=>e.changeHistory.sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()).map(e=>({id:e.id,timestamp:e.timestamp,changedBy:e.changedBy,changedByName:e.changedByName,changeType:K.getChangeTypeDisplay(e.changeType),description:K.getChangeDescription(e),changes:e.changes,reason:e.reason})),getChangeTypeDisplay:e=>({created:"Created",updated:"Updated",status_changed:"Status Changed",stage_changed:"Stage Changed",note_added:"Note Added",document_uploaded:"Document Uploaded",interview_scheduled:"Interview Scheduled",merged:"Merged",imported:"Imported"}[e]||e),getChangeDescription:e=>{switch(e.changeType){case"created":return`Candidate created by ${e.changedByName}`;case"updated":return`${e.changes.length} field(s) updated by ${e.changedByName}`;case"status_changed":const t=e.changes.find(e=>"overallStatus"===e.field);return t?`Status changed from ${t.oldValue} to ${t.newValue} by ${e.changedByName}`:`Status updated by ${e.changedByName}`;case"stage_changed":const a=e.changes.find(e=>"currentStage"===e.field);return a?`Stage changed from ${a.oldValue} to ${a.newValue} by ${e.changedByName}`:`Stage updated by ${e.changedByName}`;case"note_added":return`Note added by ${e.changedByName}`;case"document_uploaded":return`Document uploaded by ${e.changedByName}`;case"interview_scheduled":return`Interview scheduled by ${e.changedByName}`;case"merged":return`Candidate merged by ${e.changedByName}`;case"imported":return`Candidate imported by ${e.changedByName}`;default:return`Action performed by ${e.changedByName}`}}},W=({candidate:a,onStageUpdate:s,currentUser:r})=>{var n;const[i,c]=l.useState(!1),d=(null==(n=J[a.currentStage])?void 0:n.order)||0,o=Object.entries(J).filter(([e,t])=>t.order===d+1).map(([e,t])=>({stage:e,config:t}));return 0===o.length?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(w,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),e.jsx("p",{className:"text-sm",children:"Recruitment process completed"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Advance to Next Stage"}),o.map(({stage:l,config:n})=>e.jsxs(t,{onClick:()=>(async e=>{c(!0);try{const t={currentStage:e,lastModifiedBy:null==r?void 0:r.id,lastModifiedByName:null==r?void 0:r.name},l=new Date;switch(e){case"resume-sharing":t.resumeSharing={...a.resumeSharing,date:l,resumeShareStatus:"Done"};break;case"shortlisting":t.shortlisting={...a.shortlisting,shortlistDate:l,shortlistStatus:"Done"};break;case"lineup-feedback":t.lineupFeedback={...a.lineupFeedback,shortlistDate:l,lineupStatus:"Done"};break;case"selection":t.selection={...a.selection,selectionDate:l,selectionStatus:"Selected"};break;case"closure":t.closure={...a.closure,joiningDate:l}}await s(t)}catch(t){}finally{c(!1)}})(l),disabled:i,className:"w-full justify-between",variant:"outline",children:[e.jsxs("span",{children:["Move to ",n.name]}),e.jsx(A,{className:"w-4 h-4"})]},l))]})},G=({candidate:a,onFeedbackSubmit:s,currentUser:r})=>{const[n,i]=l.useState(!1),[d,o]=l.useState({clientName:"",feedback:"Pending",scheduledDate:"",notes:""}),[u,m]=l.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(t,{onClick:()=>i(!0),icon:e.jsx(N,{className:"w-4 h-4"}),className:"w-full",children:"Add Client Feedback"}),e.jsx(c,{isOpen:n,onClose:()=>i(!1),title:"Add Client Feedback",className:"max-w-md",children:e.jsxs("form",{onSubmit:async e=>{var t;e.preventDefault(),m(!0);try{const e=(null==(t=a.lineupFeedback)?void 0:t.feedbacks)||[],l={feedbackNumber:e.length+1,clientName:d.clientName,feedback:d.feedback,scheduledDate:d.scheduledDate?new Date(d.scheduledDate):void 0,notes:d.notes,createdAt:new Date},n=[...e,l],c={lineupFeedback:{...a.lineupFeedback,feedbacks:n,lineupStatus:"Done"},lastModifiedBy:null==r?void 0:r.id,lastModifiedByName:null==r?void 0:r.name};await s(c),o({clientName:"",feedback:"Pending",scheduledDate:"",notes:""}),i(!1)}catch(l){}finally{m(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name *"}),e.jsx("input",{type:"text",value:d.clientName,onChange:e=>o(t=>({...t,clientName:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback Status *"}),e.jsx("select",{value:d.feedback,onChange:e=>o(t=>({...t,feedback:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[{value:"Selected",label:"Selected",color:"text-green-600"},{value:"Rejected",label:"Rejected",color:"text-red-600"},{value:"Hold",label:"On Hold",color:"text-yellow-600"},{value:"Joined",label:"Joined",color:"text-emerald-600"},{value:"Pending",label:"Pending",color:"text-gray-600"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Date"}),e.jsx("input",{type:"datetime-local",value:d.scheduledDate,onChange:e=>o(t=>({...t,scheduledDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:d.notes,onChange:e=>o(t=>({...t,notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes about the feedback..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),e.jsx(t,{type:"submit",disabled:u,className:"flex-1",children:u?"Saving...":"Save Feedback"})]})]})})]})},X=({candidate:a,onInterviewSchedule:s,currentUser:r})=>{const[n,i]=l.useState(!1),[d,o]=l.useState({type:"video",scheduledDate:"",duration:60,interviewer:"",interviewerEmail:"",meetingLink:"",location:"",notes:""}),[x,g]=l.useState(!1),h=[{value:"phone",label:"Phone Interview",icon:u},{value:"video",label:"Video Interview",icon:B},{value:"in-person",label:"In-Person Interview",icon:m}];return e.jsxs(e.Fragment,{children:[e.jsx(t,{onClick:()=>i(!0),icon:e.jsx(f,{className:"w-4 h-4"}),className:"w-full",variant:"outline",children:"Schedule Interview"}),e.jsx(c,{isOpen:n,onClose:()=>i(!1),title:"Schedule Interview",className:"max-w-lg",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),g(!0);try{const e={id:`interview_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,candidateId:a.id,type:d.type,scheduledDate:new Date(d.scheduledDate),duration:parseInt(d.duration),interviewer:{id:(null==r?void 0:r.id)||"current-user",name:d.interviewer||(null==r?void 0:r.name)||"Current User",email:d.interviewerEmail||(null==r?void 0:r.email)||""},status:"scheduled",meetingLink:d.meetingLink,location:d.location,notes:d.notes,createdAt:new Date};await s(e),o({type:"video",scheduledDate:"",duration:60,interviewer:"",interviewerEmail:"",meetingLink:"",location:"",notes:""}),i(!1)}catch(t){}finally{g(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interview Type *"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:h.map(t=>{const a=t.icon;return e.jsxs("button",{type:"button",onClick:()=>o(e=>({...e,type:t.value})),className:"p-3 border rounded-lg text-center transition-colors "+(d.type===t.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[e.jsx(a,{className:"w-5 h-5 mx-auto mb-1"}),e.jsx("span",{className:"text-xs",children:t.label})]},t.value)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date & Time *"}),e.jsx("input",{type:"datetime-local",value:d.scheduledDate,onChange:e=>o(t=>({...t,scheduledDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),e.jsxs("select",{value:d.duration,onChange:e=>o(t=>({...t,duration:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"}),e.jsx("option",{value:120,children:"2 hours"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interviewer Name"}),e.jsx("input",{type:"text",value:d.interviewer,onChange:e=>o(t=>({...t,interviewer:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:(null==r?void 0:r.name)||"Enter interviewer name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interviewer Email"}),e.jsx("input",{type:"email",value:d.interviewerEmail,onChange:e=>o(t=>({...t,interviewerEmail:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:(null==r?void 0:r.email)||"Enter email"})]})]}),"video"===d.type&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Link"}),e.jsx("input",{type:"url",value:d.meetingLink,onChange:e=>o(t=>({...t,meetingLink:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://zoom.us/j/... or Teams link"})]}),"in-person"===d.type&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:d.location,onChange:e=>o(t=>({...t,location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Office address or meeting room"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:d.notes,onChange:e=>o(t=>({...t,notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Interview agenda, preparation notes, etc."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),e.jsx(t,{type:"submit",disabled:x,className:"flex-1",children:x?"Scheduling...":"Schedule Interview"})]})]})})]})},Q=({candidate:a,onPlacementUpdate:s,currentUser:r})=>{var n,i,d,o,u;const[m,x]=l.useState(!1),[h,p]=l.useState({placedIn:(null==(n=a.closure)?void 0:n.placedIn)||"",joiningDate:(null==(i=a.closure)?void 0:i.joiningDate)?new Date(a.closure.joiningDate).toISOString().split("T")[0]:"",offeredSalary:(null==(d=a.closure)?void 0:d.offeredSalary)||"",charges:(null==(o=a.closure)?void 0:o.charges)||"",joiningStatus:(null==(u=a.closure)?void 0:u.joiningStatus)||"No",notes:""}),[b,y]=l.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(t,{onClick:()=>x(!0),icon:e.jsx(g,{className:"w-4 h-4"}),className:"w-full",variant:"outline",children:"Update Placement Details"}),e.jsx(c,{isOpen:m,onClose:()=>x(!1),title:"Placement Details",className:"max-w-lg",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0);try{const e={closure:{...a.closure,placedIn:h.placedIn,joiningDate:h.joiningDate?new Date(h.joiningDate):void 0,offeredSalary:h.offeredSalary,charges:h.charges,joiningStatus:h.joiningStatus},currentStage:"Yes"===h.joiningStatus?"completed":"closure",overallStatus:"Yes"===h.joiningStatus?"placed":"selected",lastModifiedBy:null==r?void 0:r.id,lastModifiedByName:null==r?void 0:r.name};await s(e),x(!1)}catch(t){}finally{y(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Placed In *"}),e.jsx("input",{type:"text",value:h.placedIn,onChange:e=>p(t=>({...t,placedIn:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Company name",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),e.jsx("input",{type:"date",value:h.joiningDate,onChange:e=>p(t=>({...t,joiningDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Status *"}),e.jsxs("select",{value:h.joiningStatus,onChange:e=>p(t=>({...t,joiningStatus:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"No",children:"Not Joined"}),e.jsx("option",{value:"Yes",children:"Joined"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Offered Salary"}),e.jsx("input",{type:"text",value:h.offeredSalary,onChange:e=>p(t=>({...t,offeredSalary:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 50K, 8 LPA"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agency Charges"}),e.jsx("input",{type:"text",value:h.charges,onChange:e=>p(t=>({...t,charges:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10K, 15%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:h.notes,onChange:e=>p(t=>({...t,notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional placement details, terms, etc."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"Cancel"}),e.jsx(t,{type:"submit",disabled:b,className:"flex-1",children:b?"Saving...":"Save Details"})]})]})})]})},Z=({candidate:t,onCandidateUpdate:a,onInterviewSchedule:s,currentUser:l})=>{var r,n,i;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(k,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Workflow Management"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b border-gray-100 pb-6",children:e.jsx(W,{candidate:t,onStageUpdate:async e=>{await a(t.id,e)},currentUser:l})}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx(G,{candidate:t,onFeedbackSubmit:async e=>{await a(t.id,e)},currentUser:l}),e.jsx(X,{candidate:t,onInterviewSchedule:s,currentUser:l}),e.jsx(Q,{candidate:t,onPlacementUpdate:async e=>{await a(t.id,e)},currentUser:l})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Stage"}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Completed"===(null==(r=J[t.currentStage])?void 0:r.name)?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:(null==(n=J[t.currentStage])?void 0:n.name)||"Unknown"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:(null==(i=J[t.currentStage])?void 0:i.description)||"Stage description not available"}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[K.getCandidateProgress(t),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${K.getCandidateProgress(t)}%`}})})]})]})]})]})},ee=e=>({registration:{label:"Registration",color:"bg-blue-100 text-blue-800",progress:1,icon:d},"resume-sharing":{label:"Resume Sharing",color:"bg-purple-100 text-purple-800",progress:2,icon:v},shortlisting:{label:"Shortlisting",color:"bg-amber-100 text-amber-800",progress:3,icon:j},"lineup-feedback":{label:"Lineup & Feedback",color:"bg-cyan-100 text-cyan-800",progress:4,icon:N},selection:{label:"Selection",color:"bg-green-100 text-green-800",progress:5,icon:w},closure:{label:"Closure",color:"bg-emerald-100 text-emerald-800",progress:6,icon:y},completed:{label:"Completed",color:"bg-gray-100 text-gray-800",progress:7,icon:w}}[e]||{label:"Unknown",color:"bg-gray-100 text-gray-800",progress:0,icon:I}),te=e=>({new:{label:"New",color:"bg-blue-100 text-blue-800"},"in-process":{label:"In Process",color:"bg-yellow-100 text-yellow-800"},shortlisted:{label:"Shortlisted",color:"bg-purple-100 text-purple-800"},interviewed:{label:"Interviewed",color:"bg-cyan-100 text-cyan-800"},selected:{label:"Selected",color:"bg-green-100 text-green-800"},placed:{label:"Placed",color:"bg-emerald-100 text-emerald-800"},rejected:{label:"Rejected",color:"bg-red-100 text-red-800"}}[e]||{label:"Unknown",color:"bg-gray-100 text-gray-800"}),ae=({candidate:t})=>{const a=["registration","resume-sharing","shortlisting","lineup-feedback","selection","closure","completed"],s=a.indexOf(t.currentStage);return e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recruitment Progress"}),e.jsx("div",{className:"flex items-center justify-between",children:a.map((t,l)=>{const r=ee(t),n=r.icon,i=l<s,c=l===s;return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`\n                w-12 h-12 rounded-full flex items-center justify-center mb-2 transition-all duration-300\n                ${i?"bg-green-500 text-white":c?"bg-blue-500 text-white animate-pulse":"bg-gray-200 text-gray-400"}\n              `,children:e.jsx(n,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-xs font-medium text-center px-2 "+(c?"text-blue-600":i?"text-green-600":"text-gray-400"),children:r.label}),l<a.length-1&&e.jsx("div",{className:`\n                  absolute h-0.5 w-full mt-6 -z-10\n                  ${i?"bg-green-500":"bg-gray-200"}\n                `,style:{left:"50%",width:"calc(100% - 48px)"}})]},t)})})]})},se=({isOpen:r,onClose:n,candidateId:i,onStatusUpdate:g,onAddNote:h,currentUser:p})=>{const[b,y]=l.useState(null),[j,f]=l.useState(!1),[w,S]=l.useState(null),[C,D]=l.useState("profile"),[F,A]=l.useState(!1),[B,L]=l.useState(""),[R,M]=l.useState(!1);l.useEffect(()=>{r&&i&&U()},[r,i]);const U=async()=>{try{f(!0),S(null);const e=await a.getById(i);e.success?y(e.data):S(e.message||"Failed to load candidate details")}catch(e){S("Failed to load candidate details")}finally{f(!1)}},T=async(e,t)=>{try{(await a.update(e,t)).success&&(y(e=>({...e,...t})),await U())}catch(s){}};if(!r)return null;const V=[{id:"profile",label:"Profile",icon:d},{id:"application",label:"Application",icon:x},{id:"workflow",label:"Workflow",icon:k},{id:"documents",label:"Documents",icon:v},{id:"notes",label:"Notes",icon:N}];return e.jsx(c,{isOpen:r,onClose:n,title:b?`${b.name} - Candidate Details`:"Loading...",className:"max-w-6xl",children:j?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading candidate details..."})]}):w?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(I,{className:"w-12 h-12 mx-auto mb-3 text-red-500"}),e.jsx("p",{className:"text-red-600 mb-4",children:w}),e.jsx(t,{onClick:U,variant:"outline",children:"Try Again"})]}):b?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-6 pb-6 border-b border-gray-200",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx("span",{className:"text-3xl font-bold text-white",children:b.name.split(" ").map(e=>e[0]).join("").toUpperCase()})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:b.name}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:b.interestedFor||b.designation}),e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${te(b.overallStatus).color}`,children:te(b.overallStatus).label}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ee(b.currentStage).color}`,children:ee(b.currentStage).label}),b.rating&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600",children:b.rating})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:b.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:b.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:b.location})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsxs("span",{children:["Added by ",b.createdByName]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{variant:"outline",size:"sm",icon:e.jsx($,{className:"w-4 h-4"}),onClick:()=>A(!F),children:F?"Cancel":"Edit"}),e.jsxs("select",{value:b.overallStatus,onChange:e=>(async e=>{try{(await a.update(i,{overallStatus:e,lastModifiedBy:null==p?void 0:p.id,lastModifiedByName:null==p?void 0:p.name})).success&&(y(t=>({...t,overallStatus:e})),null==g||g(e))}catch(t){}})(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"in-process",children:"In Process"}),e.jsx("option",{value:"shortlisted",children:"Shortlisted"}),e.jsx("option",{value:"interviewed",children:"Interviewed"}),e.jsx("option",{value:"selected",children:"Selected"}),e.jsx("option",{value:"placed",children:"Placed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})})]}),e.jsx(ae,{candidate:b}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8",children:V.map(t=>{const a=t.icon;return e.jsxs("button",{onClick:()=>D(t.id),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors "+(C===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.jsx(a,{className:"w-4 h-4"}),e.jsx("span",{children:t.label})]},t.id)})})}),e.jsxs("div",{className:"min-h-[400px]",children:["profile"===C&&e.jsx(q,{candidate:b,isEditing:F}),"application"===C&&e.jsx(H,{candidate:b}),"workflow"===C&&e.jsx(Z,{candidate:b,onCandidateUpdate:T,onInterviewSchedule:async e=>{try{if((await s.create(e)).success){const e={lastModifiedBy:null==p?void 0:p.id,lastModifiedByName:null==p?void 0:p.name};await T(i,e)}}catch(t){}},currentUser:p}),"documents"===C&&e.jsx(_,{candidate:b,onDocumentUpload:async e=>{const t=e.target.files[0];if(t)try{M(!0),await new Promise(e=>setTimeout(e,1e3));const e={id:Date.now().toString(),name:t.name,type:t.type,size:t.size,uploadedAt:(new Date).toISOString(),uploadedBy:(null==p?void 0:p.name)||"Current User"},s=[...b.documents||[],e];(await a.update(i,{documents:s,lastModifiedBy:null==p?void 0:p.id,lastModifiedByName:null==p?void 0:p.name})).success&&y(e=>({...e,documents:s}))}catch(s){}finally{M(!1)}},uploadingDocument:R}),"notes"===C&&e.jsx(z,{candidate:b,newNote:B,setNewNote:L,onAddNote:async()=>{if(B.trim())try{const e={content:B,createdBy:(null==p?void 0:p.id)||"current-user",createdByName:(null==p?void 0:p.name)||"Current User",createdAt:(new Date).toISOString(),isPrivate:!1},t=[...b.notes||[],e];(await a.update(i,{notes:t,lastModifiedBy:null==p?void 0:p.id,lastModifiedByName:null==p?void 0:p.name})).success&&(y(e=>({...e,notes:t})),L(""),null==h||h(B))}catch(e){}}})]})]}):null})},le=e=>({registration:{label:"Registration",color:"bg-blue-100 text-blue-800",progress:1},"resume-sharing":{label:"Resume Sharing",color:"bg-purple-100 text-purple-800",progress:2},shortlisting:{label:"Shortlisting",color:"bg-amber-100 text-amber-800",progress:3},"lineup-feedback":{label:"Lineup & Feedback",color:"bg-cyan-100 text-cyan-800",progress:4},selection:{label:"Selection",color:"bg-green-100 text-green-800",progress:5},closure:{label:"Closure",color:"bg-emerald-100 text-emerald-800",progress:6},completed:{label:"Completed",color:"bg-gray-100 text-gray-800",progress:7}}[e]||{label:"Unknown",color:"bg-gray-100 text-gray-800",progress:0}),re=e=>({new:{label:"New",color:"bg-blue-100 text-blue-800"},"in-process":{label:"In Process",color:"bg-yellow-100 text-yellow-800"},shortlisted:{label:"Shortlisted",color:"bg-purple-100 text-purple-800"},interviewed:{label:"Interviewed",color:"bg-cyan-100 text-cyan-800"},selected:{label:"Selected",color:"bg-green-100 text-green-800"},placed:{label:"Placed",color:"bg-emerald-100 text-emerald-800"},rejected:{label:"Rejected",color:"bg-red-100 text-red-800"}}[e]||{label:"Unknown",color:"bg-gray-100 text-gray-800"}),ne=()=>{const s=O(),[c,x]=l.useState([]),[g,h]=l.useState(!0),[p,b]=l.useState(null),[y,j]=l.useState([]),[v,N]=l.useState(!1),[w,S]=l.useState("list"),[k,D]=l.useState({name:"",phone:"",status:"all",stage:"all",allocation:"all"}),[F,A]=l.useState(null),[B,I]=l.useState(!1);l.useEffect(()=>{$()},[]);const $=async()=>{try{h(!0),b(null);const e=await a.getAll();e.success?x(Array.isArray(e.data)?e.data:[]):(b(e.message||"Failed to load candidates. Please try again."),x(q))}catch(e){b("Failed to load candidates. Please try again."),x(q)}finally{h(!1)}},q=[{id:1,cvNo:"CV001",name:"Priya Sharma",email:"priya.sharma@gmail.com",phone:"+91 98765 43210",position:"Senior React Developer",experience:"5 years",location:"Bengaluru, Karnataka",skills:["React","TypeScript","Node.js","AWS"],currentStage:"shortlisting",overallStatus:"shortlisted",allocation:"Sheet-1",createdByName:"Rahul Kumar",rating:4.5,appliedDate:"2024-01-15",interestedFor:"Senior React Developer",totalExperience:"5 years",lastSalary:"12L",salaryExpectation:"18L",currentCompany:"TechCorp Solutions",designation:"Senior Frontend Developer",qualification:"B.Tech Computer Science",industry:"Information Technology",registration:{date:new Date("2024-01-15"),resource:"Naukri",registrationStatus:"Yes"},resumeSharing:{shortlistsForClient:"Infosys",resumeShareStatus:"Done",remark:"Strong React skills"},shortlisting:{shortlistDate:new Date("2024-01-18"),shortlistsForClient:"Infosys",resource:"Internal",shortlistStatus:"Done"},lineupFeedback:{feedbacks:[{feedbackNumber:1,clientName:"Infosys",feedback:"Selected",scheduledDate:new Date("2024-01-20")}],lineupStatus:"Done"},notes:[{id:"1",content:"Excellent technical skills, good communication",createdBy:"rahul-kumar",createdByName:"Rahul Kumar",createdAt:new Date("2024-01-16"),isPrivate:!1}],documents:[{id:"1",name:"Priya_Sharma_Resume.pdf",type:"application/pdf",size:1024e3,uploadedAt:new Date("2024-01-15"),uploadedBy:"Rahul Kumar"}],changeHistory:[{id:"1",candidateId:"1",changedBy:"rahul-kumar",changedByName:"Rahul Kumar",changeType:"created",changes:[],timestamp:new Date("2024-01-15"),reason:"Initial candidate registration"}],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:2,cvNo:"CV002",name:"Amit Patel",email:"amit.patel@gmail.com",phone:"+91 87654 32109",position:"Full Stack Developer",experience:"3 years",location:"Mumbai, Maharashtra",skills:["JavaScript","Python","Django","React"],currentStage:"lineup-feedback",overallStatus:"interviewed",allocation:"Sheet-2",createdByName:"Sneha Gupta",rating:4.2,appliedDate:"2024-01-18",interestedFor:"Full Stack Developer",totalExperience:"3 years",lastSalary:"8L",salaryExpectation:"12L",currentCompany:"WebTech Solutions",designation:"Software Developer",qualification:"MCA",industry:"Software Development",registration:{date:new Date("2024-01-18"),resource:"LinkedIn",registrationStatus:"Yes"},resumeSharing:{shortlistsForClient:"TCS",resumeShareStatus:"Done"},lineupFeedback:{feedbacks:[{feedbackNumber:1,clientName:"TCS",feedback:"Hold",scheduledDate:new Date("2024-01-22")}],lineupStatus:"Done"},notes:[],documents:[],changeHistory:[],createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-22")},{id:3,cvNo:"CV003",name:"Kavya Reddy",email:"kavya.reddy@gmail.com",phone:"+91 76543 21098",position:"UI/UX Designer",experience:"4 years",location:"Hyderabad, Telangana",skills:["Figma","Adobe XD","Sketch","Prototyping"],currentStage:"selection",overallStatus:"selected",allocation:"Team Alpha",createdByName:"Vikram Singh",rating:4.8,appliedDate:"2024-01-12",interestedFor:"Senior UI/UX Designer",totalExperience:"4 years",lastSalary:"10L",salaryExpectation:"15L",currentCompany:"Design Studio",designation:"UI/UX Designer",qualification:"B.Des Visual Communication",industry:"Design & Creative",registration:{date:new Date("2024-01-12"),resource:"Behance",registrationStatus:"Yes"},selection:{client:"Adobe",selectionDate:new Date("2024-01-25"),selectionStatus:"Selected"},notes:[],documents:[],changeHistory:[],createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-25")},{id:4,cvNo:"CV004",name:"Rohit Verma",email:"rohit.verma@gmail.com",phone:"+91 65432 10987",position:"DevOps Engineer",experience:"6 years",location:"Pune, Maharashtra",skills:["AWS","Docker","Kubernetes","Jenkins"],currentStage:"resume-sharing",overallStatus:"in-process",allocation:"Sheet-3",createdByName:"Anita Sharma",rating:4.3,appliedDate:"2024-01-20",interestedFor:"Senior DevOps Engineer",totalExperience:"6 years",lastSalary:"15L",salaryExpectation:"22L",currentCompany:"CloudTech Systems",designation:"DevOps Engineer",qualification:"B.Tech Information Technology",industry:"Cloud Computing",registration:{date:new Date("2024-01-20"),resource:"Indeed",registrationStatus:"Yes"},resumeSharing:{shortlistsForClient:"Amazon",resumeShareStatus:"Pending"},notes:[],documents:[],changeHistory:[],createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20")},{id:5,cvNo:"CV005",name:"Neha Agarwal",email:"neha.agarwal@gmail.com",phone:"+91 54321 09876",position:"Data Scientist",experience:"4 years",location:"Delhi, NCR",skills:["Python","Machine Learning","TensorFlow","SQL"],currentStage:"closure",overallStatus:"placed",allocation:"Team Beta",createdByName:"Rajesh Kumar",rating:4.7,appliedDate:"2024-01-10",interestedFor:"Senior Data Scientist",totalExperience:"4 years",lastSalary:"14L",salaryExpectation:"20L",currentCompany:"DataTech Analytics",designation:"Data Scientist",qualification:"M.Tech Data Science",industry:"Analytics & AI",registration:{date:new Date("2024-01-10"),resource:"Kaggle",registrationStatus:"Yes"},closure:{joiningDate:new Date("2024-02-01"),placedIn:"Microsoft",offeredSalary:"22L",charges:"2.2L",joiningStatus:"Yes"},notes:[{id:"1",content:"Exceptional ML skills, placed successfully at Microsoft",createdBy:"rajesh-kumar",createdByName:"Rajesh Kumar",createdAt:new Date("2024-01-28"),isPrivate:!1}],documents:[],changeHistory:[],createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-02-01")}],[H,_]=l.useState(""),z=async e=>{if(window.confirm("Are you sure you want to delete this candidate?"))try{h(!0),await a.delete(e),await $(),alert("Candidate deleted successfully!")}catch(t){alert("Failed to delete candidate. Please try again.")}finally{h(!1)}},J=(e,t)=>{j(a=>t?[...a,e]:a.filter(t=>t!==e))},Y=e=>{A(e),I(!0)},K=c.filter(e=>{var t,a,s,l,r,n,i;if("all"!==k.status&&e.overallStatus!==k.status)return!1;if("all"!==k.stage&&e.currentStage!==k.stage)return!1;if("all"!==k.allocation&&e.allocation!==k.allocation)return!1;if(k.name&&!(null==(t=e.name)?void 0:t.toLowerCase().includes(k.name.toLowerCase())))return!1;if(k.phone&&!(null==(a=e.phone)?void 0:a.includes(k.phone)))return!1;if(H){const t=H.toLowerCase();return(null==(s=e.name)?void 0:s.toLowerCase().includes(t))||(null==(l=e.email)?void 0:l.toLowerCase().includes(t))||(null==(r=e.phone)?void 0:r.includes(t))||(null==(n=e.position)?void 0:n.toLowerCase().includes(t))||(null==(i=e.interestedFor)?void 0:i.toLowerCase().includes(t))}return!0});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Candidates"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your talent pipeline and candidate relationships"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(t,{variant:"primary",icon:e.jsx(C,{className:"w-4 h-4"}),onClick:()=>s("/app/recruiter/candidates/add"),children:"Add Candidate"})})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"w-80 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:H,onChange:e=>_(e.target.value),placeholder:"Search candidates...",className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>N(!v),className:"flex items-center justify-between w-full text-left font-medium text-gray-900 mb-3",children:[e.jsx("span",{children:"Filters"}),e.jsx(R,{className:"w-4 h-4"})]}),v&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:k.name,onChange:e=>D(t=>({...t,name:e.target.value})),placeholder:"Filter by name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"text",value:k.phone,onChange:e=>D(t=>({...t,phone:e.target.value})),placeholder:"Filter by phone...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:k.status,onChange:e=>D(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"in-process",children:"In Process"}),e.jsx("option",{value:"shortlisted",children:"Shortlisted"}),e.jsx("option",{value:"interviewed",children:"Interviewed"}),e.jsx("option",{value:"selected",children:"Selected"}),e.jsx("option",{value:"placed",children:"Placed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stage"}),e.jsxs("select",{value:k.stage,onChange:e=>D(t=>({...t,stage:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Stages"}),e.jsx("option",{value:"registration",children:"Registration"}),e.jsx("option",{value:"resume-sharing",children:"Resume Sharing"}),e.jsx("option",{value:"shortlisting",children:"Shortlisting"}),e.jsx("option",{value:"lineup-feedback",children:"Lineup & Feedback"}),e.jsx("option",{value:"selection",children:"Selection"}),e.jsx("option",{value:"closure",children:"Closure"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allocation"}),e.jsxs("select",{value:k.allocation,onChange:e=>D(t=>({...t,allocation:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Allocations"}),e.jsx("option",{value:"Sheet-1",children:"Sheet-1"}),e.jsx("option",{value:"Sheet-2",children:"Sheet-2"}),e.jsx("option",{value:"Sheet-3",children:"Sheet-3"}),e.jsx("option",{value:"Sheet-4",children:"Sheet-4"}),e.jsx("option",{value:"Sheet-5",children:"Sheet-5"}),e.jsx("option",{value:"Sheet-6",children:"Sheet-6"}),e.jsx("option",{value:"Team Alpha",children:"Team Alpha"}),e.jsx("option",{value:"Team Beta",children:"Team Beta"})]})]}),e.jsx("button",{onClick:()=>D({name:"",phone:"",status:"all",stage:"all",allocation:"all"}),className:"w-full text-sm text-blue-600 hover:text-blue-700 transition-colors",children:"Clear Filters"})]})]})]})}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[e.jsx(n,{selectedItems:y,onBulkEdit:async(e,t)=>{try{h(!0);const s=e.map(e=>a.update(e,t));await Promise.all(s),await $(),j([]),alert(`Successfully updated ${e.length} candidates!`)}catch(s){alert("Bulk edit failed: "+s.message)}finally{h(!1)}},onBulkDelete:async e=>{try{h(!0);const t=e.map(e=>a.delete(e));await Promise.all(t),await $(),j([]),alert(`Successfully deleted ${e.length} candidates!`)}catch(t){alert("Bulk delete failed: "+t.message)}finally{h(!1)}},onBulkExport:async e=>{try{const t=await i.exportCandidates(c,e);t.success||alert("Export failed: "+t.message)}catch(t){alert("Export failed: "+t.message)}},onImport:async(e,t,a)=>{try{const s=await i.importCandidates(e,t,a);return await $(),s.successful>0&&alert(`Successfully imported ${s.successful} candidates!`),s.failed>0&&alert(`${s.failed} candidates failed to import. Check console for details.`),s}catch(s){throw s}},totalSelected:y.length,data:c,onClearSelection:()=>j([])}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[K.length>0&&e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:y.length===K.length&&K.length>0,onChange:e=>{return t=e.target.checked,void j(t?c.map(e=>e.id):[]);var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," of ",K.length," selected"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",K.length," of ",c.length," candidates"]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>S("list"),className:"flex items-center space-x-1 px-3 py-1 rounded-md text-sm transition-colors "+("list"===w?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"List"})]}),e.jsxs("button",{onClick:()=>S("grid"),className:"flex items-center space-x-1 px-3 py-1 rounded-md text-sm transition-colors "+("grid"===w?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Grid"})]})]})]})]}),0===K.length?e.jsx(r,{icon:e.jsx(P,{className:"w-16 h-16"}),title:"No candidates found",description:"No candidates match your current filters. Try adjusting your search criteria or add new candidates to your database.",action:e.jsx(t,{variant:"primary",icon:e.jsx(C,{className:"w-4 h-4"}),onClick:()=>s("/app/recruiter/candidates/add"),children:"Add New Candidate"})}):"list"===w?e.jsx("div",{className:"space-y-4",children:K.map(t=>{const a=le(t.currentStage),s=re(t.overallStatus);return e.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:y.includes(t.id),onChange:e=>J(t.id,e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx("span",{className:"text-xl font-bold text-white",children:t.name.split(" ").map(e=>e[0]).join("").toUpperCase()})})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.name}),t.rating&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600",children:t.rating})]})]}),e.jsx("p",{className:"text-gray-600 font-medium mb-1",children:t.interestedFor||t.position}),e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${s.color}`,children:s.label}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${a.color}`,children:a.label}),t.allocation&&e.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:t.allocation})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:t.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:t.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:t.location})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:["Added by ",t.createdByName]})]})]}),t.skills&&t.skills.length>0&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[t.skills.slice(0,4).map((t,a)=>e.jsx("span",{className:"inline-block bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded",children:t},a)),t.skills.length>4&&e.jsxs("span",{className:"inline-block bg-gray-50 text-gray-600 text-xs px-2 py-1 rounded",children:["+",t.skills.length-4," more"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>Y(t.id),title:"View Profile",className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx("button",{title:"Schedule Interview",className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx("button",{title:"Send Email",className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:e.jsx(o,{className:"w-4 h-4"})}),e.jsx("button",{title:"Delete Candidate",onClick:()=>z(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(V,{className:"w-4 h-4"})})]})]})})]})},t.id)})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map(t=>{const a=le(t.currentStage),s=re(t.overallStatus);return e.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("input",{type:"checkbox",checked:y.includes(t.id),onChange:e=>J(t.id,e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.rating&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600",children:t.rating})]})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg mx-auto mb-3",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:t.name.split(" ").map(e=>e[0]).join("").toUpperCase()})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:t.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:t.interestedFor||t.position}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-3",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${s.color}`,children:s.label}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${a.color}`,children:a.label})]}),t.allocation&&e.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full mb-3",children:t.allocation})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:t.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.location})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Added by ",t.createdByName]})]})]}),t.skills&&t.skills.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.skills.slice(0,3).map((t,a)=>e.jsx("span",{className:"inline-block bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded",children:t},a)),t.skills.length>3&&e.jsxs("span",{className:"inline-block bg-gray-50 text-gray-600 text-xs px-2 py-1 rounded",children:["+",t.skills.length-3]})]})}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>Y(t.id),title:"View Profile",className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx("button",{title:"Schedule Interview",className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx("button",{title:"Send Email",className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:e.jsx(o,{className:"w-4 h-4"})}),e.jsx("button",{title:"Delete Candidate",onClick:()=>z(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(V,{className:"w-4 h-4"})})]})]},t.id)})})]})]})]}),e.jsx(se,{isOpen:B,onClose:()=>{I(!1),A(null)},candidateId:F,onStatusUpdate:async e=>{await $()},onAddNote:e=>{},currentUser:{id:"current-user",name:"Current User"}})]})};export{ne as default};
