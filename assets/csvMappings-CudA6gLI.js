const e={registration:{DATE:"registration.date",RESOURCE:"registration.resource","CV No":"cvNo",NAME:"name",PHONE:"phone",EMAIL:"email","LOC.(City,State)":"location","INTERSTED FOR":"interestedFor",DECLARATION:"declaration","CURRENT COMPANY":"currentCompany",INDUSTRY:"industry",DESIGNATION:"designation","TOTAL EXP IN YEARS":"totalExperience","LAST SALARY":"lastSalary","SALARY EXP.":"salaryExpectation",QUALIFICATION:"qualification",REGISTRATION:"registration.registrationStatus","REG.AMT":"registration.registrationAmount",ALLOCATION:"allocation"},resumeShare:{DATE:"resumeSharing.date","SHORTLISTS FOR CLIENT":"resumeSharing.shortlistsForClient","CV No":"cvNo",NAME:"name",PHONE:"phone",EMAIL:"email","RESUME SHARE":"resumeSharing.resumeShareStatus",Remark:"resumeSharing.remark"},shortlist:{"Shortlist Date":"shortlisting.shortlistDate","SHORTLISTS FOR CLIENT":"shortlisting.shortlistsForClient",RESOURCE:"shortlisting.resource","CV No":"cvNo",NAME:"name",PHONE:"phone",EMAIL:"email",SHORTLISTS:"shortlisting.shortlistStatus"},lineupFeedback:{"SHORTLIST DATE":"lineupFeedback.shortlistDate","SHORTLISTS FOR CLIENT":"lineupFeedback.shortlistsForClient","FEEDBACK-1":"lineupFeedback.feedbacks[0].feedback","SCH.DATE-2":"lineupFeedback.feedbacks[0].scheduledDate","CLIENT NAME":"lineupFeedback.feedbacks[0].clientName","FEEDBACK-2":"lineupFeedback.feedbacks[1].feedback","SCH.DATE-3":"lineupFeedback.feedbacks[1].scheduledDate","FEEDBCAK-3":"lineupFeedback.feedbacks[2].feedback","CV No":"cvNo",NAME:"name","LINEUP/FEEDBACK":"lineupFeedback.lineupStatus"},selection:{CLIENT:"selection.client","SELECTION DATE":"selection.selectionDate",NAME:"name",PHONE:"phone",EMAIL:"email","LINEUP/FEEDBACK":"selection.selectionStatus"},closure:{"JOINING DATE":"closure.joiningDate",ALLOCATION:"allocation",NAME:"name",PHONE:"phone",EMAIL:"email","LAST SALARY":"lastSalary","PLACED IN":"closure.placedIn","OFFERED SALARY":"closure.offeredSalary",CHARGES:"closure.charges","JOINING STATUS":"closure.joiningStatus"}},t={email:{required:!0,type:"email",pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,validate:e=>e?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Invalid email format":"Email is required"},phone:{required:!0,type:"phone",minLength:10,transform:e=>null==e?void 0:e.replace(/\D/g,""),validate:e=>{if(!e)return"Phone number is required";return!(e.replace(/\D/g,"").length<10)||"Phone number must be at least 10 digits"}},name:{required:!0,type:"string",minLength:2,maxLength:100,transform:e=>null==e?void 0:e.trim(),validate:e=>(null==e?void 0:e.trim())?!(e.trim().length<2)||"Name must be at least 2 characters":"Name is required"},cvNo:{required:!0,type:"string",transform:e=>String(e).trim(),validate:e=>!!(null==e?void 0:e.trim())||"CV number is required"},date:{type:"date",transform:e=>{if(!e)return null;const t=e.trim();if(!t)return null;const i=[/^\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{2}:\d{2}$/,/^\d{1,2}-\d{1,2}-\d{4}$/,/^\d{4}-\d{2}-\d{2}$/];try{if(i[0].test(t)||i[1].test(t)){const e=t.split(" ")[0].split("-");if(3===e.length){const[t,i,r]=e,s=`${r}-${i.padStart(2,"0")}-${t.padStart(2,"0")}`;return new Date(s)}}return new Date(t)}catch{return null}}},salary:{type:"string",transform:e=>null==e?void 0:e.trim().toUpperCase(),validate:e=>!e||(!!/^\d+[Kk]?$/.test(e.replace(/[,\s]/g,""))||"Invalid salary format (use formats like 5K, 45k, or 10000)")},status:{type:"string",transform:e=>null==e?void 0:e.trim(),validate:e=>{if(!e)return!0;const t=["Yes","No","Done","Pending","Selected","Rejected","Hold","Joined"];return!!t.includes(e)||`Status must be one of: ${t.join(", ")}`}}},i={registration:{requiredFields:["cvNo","name","phone","email","interestedFor"],optionalFields:["location","declaration","currentCompany","industry","designation","totalExperience","lastSalary","salaryExpectation","qualification","allocation"],fieldMappings:Object.entries(e.registration).reduce((e,[t,i])=>(e[t]={csvField:t,targetField:i,required:["CV No","NAME","PHONE","EMAIL","INTERSTED FOR"].includes(t)},e),{}),dateFields:["DATE"],numericFields:["REG.AMT"]},resumeShare:{requiredFields:["cvNo","name"],optionalFields:["resumeSharing.shortlistsForClient","resumeSharing.resumeShareStatus","resumeSharing.remark"],fieldMappings:Object.entries(e.resumeShare).reduce((e,[t,i])=>(e[t]={csvField:t,targetField:i,required:["CV No","NAME"].includes(t)},e),{}),dateFields:["DATE"],numericFields:[]},shortlist:{requiredFields:["cvNo","name"],optionalFields:["shortlisting.shortlistDate","shortlisting.shortlistsForClient","shortlisting.resource","shortlisting.shortlistStatus"],fieldMappings:Object.entries(e.shortlist).reduce((e,[t,i])=>(e[t]={csvField:t,targetField:i,required:["CV No","NAME"].includes(t)},e),{}),dateFields:["Shortlist Date"],numericFields:[]},lineupFeedback:{requiredFields:["cvNo","name"],optionalFields:["lineupFeedback.shortlistDate","lineupFeedback.shortlistsForClient","lineupFeedback.feedbacks","lineupFeedback.lineupStatus"],fieldMappings:Object.entries(e.lineupFeedback).reduce((e,[t,i])=>(e[t]={csvField:t,targetField:i,required:["CV No","NAME"].includes(t)},e),{}),dateFields:["SHORTLIST DATE","SCH.DATE-2","SCH.DATE-3"],numericFields:[]},selection:{requiredFields:["name"],optionalFields:["selection.client","selection.selectionDate","selection.selectionStatus"],fieldMappings:Object.entries(e.selection).reduce((e,[t,i])=>(e[t]={csvField:t,targetField:i,required:["NAME"].includes(t)},e),{}),dateFields:["SELECTION DATE"],numericFields:[]},closure:{requiredFields:["name"],optionalFields:["closure.joiningDate","closure.placedIn","closure.offeredSalary","closure.charges","closure.joiningStatus"],fieldMappings:Object.entries(e.closure).reduce((e,[t,i])=>(e[t]={csvField:t,targetField:i,required:["NAME"].includes(t)},e),{}),dateFields:["JOINING DATE"],numericFields:["OFFERED SALARY","CHARGES"]}},r={normalizeHeader:e=>e.trim().replace(/[""]/g,'"').replace(/\s+/g," "),detectCSVType:e=>{const t=e.map(e=>r.normalizeHeader(e));return t.includes("CV No")&&t.includes("REGISTRATION")?"registration":t.includes("RESUME SHARE")?"resumeShare":t.includes("SHORTLISTS")&&t.includes("Shortlist Date")?"shortlist":t.includes("FEEDBACK-1")||t.includes("LINEUP/FEEDBACK")?"lineupFeedback":t.includes("SELECTION DATE")?"selection":t.includes("PLACED IN")||t.includes("JOINING STATUS")?"closure":null},generateSuggestedMappings:(t,i)=>{const s=e[i];if(!s)return{};const a={},n=t.map(e=>r.normalizeHeader(e));return Object.entries(s).forEach(([e,t])=>{const i=n.find(t=>t===e||t.toLowerCase()===e.toLowerCase()||t.replace(/[^\w]/g,"").toLowerCase()===e.replace(/[^\w]/g,"").toLowerCase());i&&(a[i]=t)}),a}};export{i as C,t as V,e as a,r as c};
