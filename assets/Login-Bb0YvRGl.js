import{u as e,a as s,j as r,B as a}from"./index-DY7wqN6k.js";import{r as t}from"./react-vendor-DD48japz.js";import{v as l,a as i}from"./validation-Bmklxit8.js";import{I as o}from"./Input-Dq9qmb5C.js";import{a as d}from"./router-vendor-CZVZXlDA.js";import"./http-vendor-ei4kQ0Q2.js";import"./icons-vendor-BGI4c9j6.js";const n=()=>{const n=d(),{login:c,isAuthenticated:m,isLoading:h,user:u}=e(),{showToast:x}=s();t.useEffect(()=>{if(!h&&m&&u){let e="/app/dashboard";"recruiter"===u.role||"recruiter"===u.dashboardType?e="/app/recruiter/dashboard":"crm"!==u.dashboardType&&"admin"!==u.role||(e="/app/dashboard"),n(e,{replace:!0})}},[m,h,u,n]);const[p,b]=t.useState({email:"",password:""}),[j,g]=t.useState({email:"",password:""}),[v,y]=t.useState(!1),[f,w]=t.useState(!1),[N,k]=t.useState(!1),S=e=>{const{name:s,value:r}=e.target;b(e=>({...e,[s]:r})),j[s]&&g(e=>({...e,[s]:""}))};return r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mr-3 shadow-lg",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-6m-2-5.5v3m0 0v3m0-3h3m-3 0h-3"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CRM Pro"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Business Management Suite"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sign In"}),r.jsx("p",{className:"text-gray-600",children:"Welcome back! Please sign in to your account"})]})]}),r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return l(p.email)?i(p.email)||(e.email="Please enter a valid email address"):e.email="Email is required",l(p.password)||(e.password="Password is required"),g(e),0===Object.keys(e).length})()){y(!0);try{const e=await c(p.email,p.password);e.success?x("success","Login successful! Welcome back."):x("error",e.error)}catch{x("error","An unexpected error occurred. Please try again.")}finally{y(!1)}}},className:"space-y-6",children:[r.jsx("div",{children:r.jsx(o,{label:"Email Address",type:"email",name:"email",placeholder:"patricia@ryker.com",value:p.email,onChange:S,disabled:v,error:j.email})}),r.jsx("div",{children:r.jsx(o,{label:"Password",type:"password",name:"password",placeholder:"Enter your password",value:p.password,onChange:S,disabled:v,error:j.password})}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("label",{className:"flex items-center cursor-pointer group",onClick:()=>w(!f),children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:f,onChange:e=>w(e.target.checked),className:"sr-only"}),r.jsx("div",{className:"w-5 h-5 border-2 rounded transition-all duration-200 "+(f?"bg-blue-600 border-blue-600":"border-gray-300 group-hover:border-blue-400"),children:f&&r.jsx("svg",{className:"w-3 h-3 text-white absolute top-0.5 left-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),r.jsx("span",{className:"ml-3 text-sm text-gray-700 group-hover:text-gray-900 transition-colors",children:"Remember me"})]}),r.jsx(a,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 font-semibold px-3 py-2 rounded-lg hover:bg-blue-50",children:"Forgot password?"})]}),r.jsx(a,{type:"submit",variant:"primary",size:"lg",loading:v,disabled:v,className:"w-full",children:v?"Signing in...":"Sign In"})]}),!1,r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Need access to the system?"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Contact your administrator to create your account"})]})})]})};export{n as default};
