const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-B1_1-CxI.js","assets/react-vendor-DD48japz.js","assets/validation-Bmklxit8.js","assets/Input-D9LuThJq.js","assets/router-vendor-CA0F1SnT.js","assets/http-vendor-ei4kQ0Q2.js","assets/icons-vendor-Cvv-27T5.js","assets/Dashboard-CyM9bmkw.js","assets/Chart-C-YcFh5j.js","assets/Contacts-D5_XCwYe.js","assets/Avatar-lc3MsGDe.js","assets/Badge-CRPRSDPx.js","assets/EmptyState-B504n3Gj.js","assets/Modal-BRF5mHqC.js","assets/useContacts-nl3UmV59.js","assets/ContactDetails-CGpWHBAN.js","assets/Card-c7eKR8DJ.js","assets/Jobs-CCIza69F.js","assets/Companies-BaCNYV8v.js","assets/formatters-q2aaZgzz.js","assets/Calendar-B0Gk7ThT.js","assets/Tasks-CPR-4TGw.js","assets/Candidates-Dq6Ak7yU.js","assets/BulkActionsPanel-BSA3iNKf.js","assets/csvService-DMgoVriE.js","assets/csvMappings-CudA6gLI.js","assets/AddCandidate-5VFXvnSX.js","assets/AddClient-BDgNTN1G.js","assets/AddJob-qIr541ff.js","assets/Settings-2iD9lI1B.js","assets/Profile-BP1mjwM2.js","assets/Team-Be-PnHPD.js","assets/AddMember-CFcHOCRg.js","assets/EmailAutomation-t6VDuf7l.js","assets/ReminderSystem-D9z7pIFR.js","assets/AutomationDashboard-CMZkpBbZ.js","assets/NotFound-CRKlBLC4.js","assets/ComingSoon-s66vMaM_.js","assets/AnalyticsDashboard-BdTWsAEL.js","assets/CSVImport-BHWOJ68s.js","assets/CSVExport-Cmkccbdo.js","assets/RecruiterDashboard-B_ea4573.js","assets/RecruiterCandidates-CD2t7kEa.js","assets/candidateUtils-CAE7rsIc.js","assets/RecruiterAddCandidate-BXF0wYau.js","assets/useDuplicateDetection-CyNTkaf_.js","assets/RecruiterClients-DahqDhWJ.js","assets/RecruiterClientDetail-BBil_xJn.js","assets/RecruiterAddClient-B9aEchJn.js","assets/RecruiterCalendar-C4Z8kuW6.js","assets/useInterviews-B1pbTDF1.js","assets/RecruiterScheduleInterview-CHjqSlgd.js","assets/RecruiterInterviews-Bh7347ut.js","assets/RecruiterOffers-DXzOusbb.js","assets/RecruiterDuplicateManagement-DWqq2_1O.js","assets/RecruiterWorkflowAutomation-Bgpv1bvN.js","assets/RecruiterAdvancedAnalytics-FRxrpXJa.js","assets/RecruiterCommunication-DDtSovpg.js","assets/IntegrationsPage-CiElqbjq.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,a,r)=>((t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r)(t,"symbol"!=typeof a?a+"":a,r);import{r as a,a as r,b as s}from"./react-vendor-DD48japz.js";import{u as n,O as o,L as i,a as l,N as c,B as d,R as u,b as p}from"./router-vendor-CA0F1SnT.js";import{a as m}from"./http-vendor-ei4kQ0Q2.js";import{X as h,I as g,C as f,a as x,L as b,U as y,B as v,V as w,F as j,b as N,c as R,M as S,Z as E,T as k,P as _,d as D,S as A,D as I,H as C,e as T,f as P,G as L,g as O,h as M,i as z,j as $,k as V,l as W,m as J,n as U,o as Z,p as B,q,r as H,s as Y,t as F,R as G}from"./icons-vendor-Cvv-27T5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const K={},X=function(e,t,a){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in K)return;K[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,a&&s.setAttribute("nonce",a),document.head.appendChild(s),t?new Promise((t,a)=>{s.addEventListener("load",t),s.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};var Q={exports:{}},ee={},te=a,ae=Symbol.for("react.element"),re=Symbol.for("react.fragment"),se=Object.prototype.hasOwnProperty,ne=te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oe={key:!0,ref:!0,__self:!0,__source:!0};function ie(e,t,a){var r,s={},n=null,o=null;for(r in void 0!==a&&(n=""+a),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(o=t.ref),t)se.call(t,r)&&!oe.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:ae,type:e,key:n,ref:o,props:s,_owner:ne.current}}ee.Fragment=re,ee.jsx=ie,ee.jsxs=ie,Q.exports=ee;var le=Q.exports,ce={},de=r;ce.createRoot=de.createRoot,ce.hydrateRoot=de.hydrateRoot;const ue=(...e)=>{},pe=(...e)=>{},me=(...e)=>{},he=e=>{if(!e||!e.data)return[];const t=e.data;return Array.isArray(t)?t:void 0!==t.data?t.data:void 0!==t.result?t.result:void 0!==t.items?t.items:void 0!==t.records?t.records:void 0!==t.content?t.content:t.success&&t.payload?t.payload:"success"===t.status&&t.data?t.data:t},ge=(e,t=[])=>{var a,r,s,n;let o="An error occurred";return(null==(r=null==(a=e.response)?void 0:a.data)?void 0:r.message)?o=e.response.data.message:(null==(n=null==(s=e.response)?void 0:s.data)?void 0:n.error)?o=e.response.data.error:e.message&&(o=e.message),{error:!0,message:o,data:t}},fe=m.create({baseURL:"https://localhost:7244/api/v1",headers:{"Content-Type":"application/json"}});fe.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),fe.interceptors.response.use(e=>{var t;return(null==(t=e.config.url)?void 0:t.includes("/auth/"))||e.data&&(void 0!==e.data.data?e.data=e.data.data:void 0!==e.data.result?e.data=e.data.result:void 0!==e.data.items&&(e.data=e.data.items)),e},e=>{var t;return 401===(null==(t=e.response)?void 0:t.status)&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(e)});const xe={getAll:async()=>{try{const e=await fe.get("/employers");return{success:!0,data:he(e)}}catch(e){return ge(e)}},getById:async e=>{try{const t=await fe.get(`/employers/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}},create:async e=>{try{const t={name:e.name,industry:e.industry||"",websiteUrl:e.websiteUrl||"",contactPerson:e.contactPerson||"",contactEmail:e.contactEmail||"",contactPhone:e.contactPhone||"",gstNumber:e.gstNumber||"",panNumber:e.panNumber||"",tanNumber:e.tanNumber||"",billingAddress:e.billingAddress||"",bankAccountNumber:e.bankAccountNumber||"",ifscCode:e.ifscCode||"",paymentTerms:e.paymentTerms||""},a=await fe.post("/employers",t);return{success:!0,data:he(a)}}catch(t){return ge(t)}},update:async(e,t)=>{try{const a={name:t.name,industry:t.industry||"",websiteUrl:t.websiteUrl||"",contactPerson:t.contactPerson||"",contactEmail:t.contactEmail||"",contactPhone:t.contactPhone||"",gstNumber:t.gstNumber||"",panNumber:t.panNumber||"",tanNumber:t.tanNumber||"",billingAddress:t.billingAddress||"",bankAccountNumber:t.bankAccountNumber||"",ifscCode:t.ifscCode||"",paymentTerms:t.paymentTerms||""},r=await fe.put(`/employers/${e}`,a);return{success:!0,data:he(r)}}catch(a){return ge(a)}},delete:async e=>{try{const t=await fe.delete(`/employers/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}}},be={getAll:async()=>{try{const e=await fe.get("/jobpostings");return{success:!0,data:he(e)}}catch(e){return ge(e)}},getById:async e=>{try{const t=await fe.get(`/jobpostings/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}},create:async e=>{try{const t={employerId:e.employerId,title:e.title,description:e.description||"",location:e.location||"",employmentType:e.employmentType||"",minExperienceYears:e.minExperienceYears||null,maxExperienceYears:e.maxExperienceYears||null,minSalary:e.minSalary||null,maxSalary:e.maxSalary||null,qualification:e.qualification||"",closingDate:e.closingDate||null},a=await fe.post("/jobpostings",t);return{success:!0,data:he(a)}}catch(t){return ge(t)}},update:async(e,t)=>{try{const a={employerId:t.employerId,title:t.title,description:t.description||"",location:t.location||"",employmentType:t.employmentType||"",minExperienceYears:t.minExperienceYears||null,maxExperienceYears:t.maxExperienceYears||null,minSalary:t.minSalary||null,maxSalary:t.maxSalary||null,qualification:t.qualification||"",closingDate:t.closingDate||null},r=await fe.put(`/jobpostings/${e}`,a);return{success:!0,data:he(r)}}catch(a){return ge(a)}},delete:async e=>{try{const t=await fe.delete(`/jobpostings/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}}},ye={getAll:async()=>{try{const e=await fe.get("/candidates");return{success:!0,data:he(e)}}catch(e){return ge(e)}},getById:async e=>{try{const t=await fe.get(`/candidates/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}},create:async e=>{try{const t=await fe.post("/candidates",e);return{success:!0,data:he(t)}}catch(t){return ge(t)}},update:async(e,t)=>{try{const a=await fe.put(`/candidates/${e}`,t);return{success:!0,data:he(a)}}catch(a){return ge(a)}},delete:async e=>{try{const t=await fe.delete(`/candidates/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}},checkDuplicates:async e=>{try{const t=await fe.post("/candidates/check-duplicates",e);return{success:!0,data:he(t)}}catch(t){return ge(t)}},merge:async(e,t,a)=>{try{const r=await fe.post("/candidates/merge",{primaryCandidateId:e,duplicateCandidateId:t,mergeDecisions:a});return{success:!0,data:he(r)}}catch(r){return ge(r)}},getDuplicateGroups:async(e={})=>{try{const t=await fe.get("/candidates/duplicate-groups",{params:e});return{success:!0,data:he(t)}}catch(t){return ge(t)}},resolveDuplicateGroup:async(e,t)=>{try{const a=await fe.post(`/candidates/duplicate-groups/${e}/resolve`,t);return{success:!0,data:he(a)}}catch(a){return ge(a)}},getDuplicateAudit:async e=>{try{const t=await fe.get(`/candidates/${e}/duplicate-audit`);return{success:!0,data:he(t)}}catch(t){return ge(t)}}},ve={getAll:async()=>{try{const e=await fe.get("/interviews");return{success:!0,data:he(e)}}catch(e){return ge(e)}},getById:async e=>{try{const t=await fe.get(`/interviews/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}},create:async e=>{try{const t=await fe.post("/interviews",e);return{success:!0,data:he(t)}}catch(t){return ge(t)}},update:async(e,t)=>{try{const a=await fe.put(`/interviews/${e}`,t);return{success:!0,data:he(a)}}catch(a){return ge(a)}},delete:async e=>{try{const t=await fe.delete(`/interviews/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}},getByCandidateId:async e=>{try{const t=await fe.get(`/interviews/candidate/${e}`);return{success:!0,data:he(t)}}catch(t){return ge(t)}}},we=async(e,t)=>{try{const a=await fe.post("/auth/login",{email:e,password:t});ue("ðŸ” Raw login response:",a),ue("ðŸ” Response data:",a.data);const r=a.data;return ue("ðŸ” Extracted data:",r),{success:!0,data:r}}catch(a){return me("âŒ Login error:",a),ge(a)}},je=async e=>{try{return{success:!0,data:(await fe.post("/auth/register",e)).data}}catch(t){return ge(t)}},Ne=async()=>{try{return{success:!0,data:(await fe.post("/auth/logout")).data}}catch(e){return ge(e)}},Re=async()=>{try{const e=await fe.get("/auth/me");return{success:!0,data:e.data.user||e.data}}catch(e){return ge(e)}};const Se=new class{constructor(){this.primaryStorage=null,this.fallbackStorage=null,this.initializeStorage()}initializeStorage(){this.testStorage(window.localStorage)&&(this.primaryStorage=window.localStorage),this.testStorage(window.sessionStorage)&&(this.fallbackStorage=window.sessionStorage)}testStorage(e){try{const t="__storage_test__";return e.setItem(t,"test"),e.removeItem(t),!0}catch(t){return!1}}getActiveStorage(){return this.primaryStorage||this.fallbackStorage}isAvailable(){return!(!this.primaryStorage&&!this.fallbackStorage)}set(e,t){if(!this.isAvailable())return!1;if(!e||"string"!=typeof e)return!1;if(void 0===t)return!1;try{const a=this.getActiveStorage();if(!this.validateDataForStorage(t))return!1;const r=JSON.stringify(t);return!(r.length>5242880)&&(a.setItem(e,r),!0)}catch(a){return this.handleStorageError(a,"set",e,t)}}handleStorageError(e,t,a,r=null){var s;if(e.message,e.name,"QuotaExceededError"===e.name)try{if(this.clearOldEntries(),this.emergencyCleanup(),"set"===t&&a&&null!==r)try{const e=this.getActiveStorage(),t=JSON.stringify(r);return e.setItem(a,t),!0}catch(n){return!1}}catch(o){return!1}if("SecurityError"===e.name){if(this.primaryStorage&&this.fallbackStorage)try{if("set"===t&&a&&null!==r){const e=JSON.stringify(r);return this.fallbackStorage.setItem(a,e),!0}}catch(i){}return!1}if("DataError"===e.name||(null==(s=e.message)?void 0:s.includes("serialize"))){if("get"===t&&a)try{this.remove(a)}catch(l){}return!1}return!1}validateDataForStorage(e){try{return JSON.stringify(e),e&&"object"==typeof e&&e.path?this.validateLastPageState(e):null!=e}catch(t){return!1}}emergencyCleanup(){if(this.isAvailable())try{const t=this.getActiveStorage(),a=[];for(let r=0;r<t.length;r++){const s=t.key(r);if(s)try{const e=t.getItem(s);e&&"undefined"!==e&&"null"!==e?JSON.parse(e):a.push(s)}catch(e){a.push(s)}}a.forEach(a=>{try{t.removeItem(a)}catch(e){}})}catch(t){}}get(e){if(!this.isAvailable())return null;if(!e||"string"!=typeof e)return null;try{const a=this.getActiveStorage().getItem(e);if(!a)return null;if("undefined"===a||"null"===a||0===a.length)return this.remove(e),null;let r;try{r=JSON.parse(a)}catch(t){return this.remove(e),null}return e.includes("lastVisitedPage")?this.validateLastPageState(r)?this.isDataExpired(r)?(this.remove(e),null):r:(this.remove(e),null):null!=r?r&&"object"==typeof r&&r.path&&!this.validateLastPageState(r)?(this.remove(e),null):r:null}catch(a){return this.handleStorageError(a,"get",e)}}isDataExpired(e,t=6048e5){if(!e||!e.timestamp||"number"!=typeof e.timestamp)return!0;const a=Date.now(),r=a-e.timestamp;return e.timestamp>a+3e5||r>t}remove(e){if(!this.isAvailable())return!1;try{return this.getActiveStorage().removeItem(e),!0}catch(t){return!1}}validateLastPageState(e){return e&&"object"==typeof e&&"string"==typeof e.path&&"number"==typeof e.timestamp&&"string"==typeof e.userRole&&"string"==typeof e.userId&&e.path.length>0&&e.timestamp>0}clearOldEntries(){if(this.isAvailable())try{const t=this.getActiveStorage(),a=Date.now()-2592e6,r=[];for(let s=0;s<t.length;s++){const n=t.key(s);if(n&&n.includes("lastVisitedPage"))try{const e=t.getItem(n),s=JSON.parse(e);s.timestamp&&s.timestamp<a&&r.push(n)}catch(e){r.push(n)}}r.forEach(e=>t.removeItem(e)),r.length}catch(t){}}getStorageInfo(){return{primaryAvailable:!!this.primaryStorage,fallbackAvailable:!!this.fallbackStorage,activeStorage:this.primaryStorage?"localStorage":this.fallbackStorage?"sessionStorage":"none"}}},Ee=[{path:"/app/dashboard",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/contacts",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/contacts/*",allowedRoles:["admin","user"],defaultRedirect:"/app/contacts"},{path:"/app/companies",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/companies/*",allowedRoles:["admin","user"],defaultRedirect:"/app/companies"},{path:"/app/deals",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/tasks",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/calendar",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/analytics",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/automation",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/email-automation",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/reminders",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/email",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/calls",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/documents",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/goals",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/projects",allowedRoles:["admin","user"],defaultRedirect:"/app/dashboard"},{path:"/app/team",allowedRoles:["admin"],defaultRedirect:"/app/dashboard"},{path:"/app/team/*",allowedRoles:["admin"],defaultRedirect:"/app/team"},{path:"/app/settings",allowedRoles:["admin"],defaultRedirect:"/app/dashboard"},{path:"/app/add-member",allowedRoles:["admin"],defaultRedirect:"/app/team"},{path:"/app/recruiter",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/dashboard",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/candidates",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/candidates/*",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/candidates"},{path:"/app/recruiter/jobs",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/interviews",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/offers",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/calendar",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/analytics",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/reports",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/dashboard"},{path:"/app/recruiter/csv-import",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/candidates"},{path:"/app/recruiter/csv-export",allowedRoles:["recruiter"],defaultRedirect:"/app/recruiter/candidates"},{path:"/app/profile",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/dashboard"},{path:"/app/candidates",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/dashboard"},{path:"/app/candidates/*",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/candidates"},{path:"/app/jobs",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/dashboard"},{path:"/app/jobs/*",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/jobs"},{path:"/app/add-candidate",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/candidates"},{path:"/app/add-job",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/jobs"},{path:"/app/add-client",allowedRoles:["admin","user"],defaultRedirect:"/app/companies"},{path:"/app/csv-import",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/candidates"},{path:"/app/csv-export",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/candidates"},{path:"/app/csv-demo",allowedRoles:["admin","user","recruiter"],defaultRedirect:"/app/candidates"}],ke=e=>"recruiter"===e?"/app/recruiter/dashboard":"/app/dashboard",_e=(e,t)=>{const a=Ee.find(t=>{if(t.path.endsWith("/*")){const a=t.path.slice(0,-2);return e.startsWith(a)}return t.path===e});return!a||a.allowedRoles.includes(t)},De=(e,t)=>{const a=Ee.find(t=>{if(t.path.endsWith("/*")){const a=t.path.slice(0,-2);return e.startsWith(a)}return t.path===e});return a?a.defaultRedirect:ke(t)},Ae=(e,t,a=null)=>{if(!e||"string"!=typeof e)return{allowed:!1,reason:"invalid_path",redirectTo:ke(t||"user")};if(!t||"string"!=typeof t)return{allowed:!1,reason:"invalid_role",redirectTo:"/app/dashboard"};const r=Ie(e);if(!r)return{allowed:!1,reason:"malformed_path",redirectTo:ke(t)};if(Ce(r)){return{allowed:!1,reason:"invalid_parameters",redirectTo:Te(r)||ke(t)}}if(!Pe(r))return{allowed:!1,reason:"route_not_found",redirectTo:ke(t)};if(!_e(r,t))return{allowed:!1,reason:"insufficient_permissions",redirectTo:De(r,t)};if(r.startsWith("/app/recruiter/")&&"recruiter"!==t)return{allowed:!1,reason:"role_mismatch",redirectTo:ke(t)};return["/app/team","/app/settings","/app/add-member"].some(e=>r.startsWith(e))&&"admin"!==t?{allowed:!1,reason:"admin_required",redirectTo:ke(t)}:{allowed:!0,reason:"authorized",redirectTo:null}},Ie=e=>{if(!e||"string"!=typeof e)return null;const t=e.replace(/[<>'"&]/g,"").replace(/\/+/g,"/").replace(/\/$/,"").trim();return t.startsWith("/")?t.length>500?null:t||"/":null},Ce=e=>["undefined","null","NaN","[object Object]"].some(t=>e.includes(t)),Te=e=>{if(!e||!e.startsWith("/app/"))return null;const t=e.split("/").filter(Boolean);return t.length<=2?e:"recruiter"===t[1]&&t.length>3?`/${t.slice(0,4).join("/")}`:t.length>2?`/${t.slice(0,3).join("/")}`:e},Pe=e=>{if(!e||!e.startsWith("/app/"))return!1;if(Ee.some(t=>t.path===e||t.path.endsWith("/*")&&e.startsWith(t.path.slice(0,-2))))return!0;return["/app/dashboard","/app/contacts","/app/companies","/app/candidates","/app/jobs","/app/calendar","/app/tasks","/app/analytics","/app/team","/app/settings","/app/profile","/app/automation","/app/email-automation","/app/reminders","/app/csv-import","/app/csv-export","/app/recruiter/dashboard","/app/recruiter/candidates","/app/recruiter/jobs","/app/recruiter/interviews","/app/recruiter/offers","/app/recruiter/calendar","/app/recruiter/analytics","/app/recruiter/reports","/app/recruiter/csv-import","/app/recruiter/csv-export"].some(t=>e===t||e.startsWith(t+"/"))},Le=(e,t)=>{try{if(!e||"string"!=typeof e)return{isValid:!1,sanitizedPath:null,error:"Invalid path format",fallbackPath:ke(t)};const a=Ie(e);if(!a)return{isValid:!1,sanitizedPath:null,error:"Path sanitization failed",fallbackPath:ke(t)};if(Ce(a)){const e=Te(a);return{isValid:!1,sanitizedPath:e,error:"Invalid route parameters detected",fallbackPath:e||ke(t)}}if(!Pe(a))return{isValid:!1,sanitizedPath:null,error:"Route not found",fallbackPath:ke(t)};const r=Ae(a,t);return r.allowed?{isValid:!0,sanitizedPath:a,error:null,fallbackPath:null}:{isValid:!1,sanitizedPath:null,error:`Access denied: ${r.reason}`,fallbackPath:r.redirectTo}}catch(a){return{isValid:!1,sanitizedPath:null,error:"Validation process failed",fallbackPath:ke(t)}}},Oe=a.createContext(null),Me=({children:e})=>{const[t,r]=a.useState(null),[s,n]=a.useState(null),[o,i]=a.useState(!1),[l,c]=a.useState(!0),[d,u]=a.useState(null),[p,m]=a.useState(!1),h=a.useCallback(e=>`lastVisitedPage_${e}`,[]);a.useEffect(()=>{(async()=>{try{0;const e=localStorage.getItem("authToken"),t="true"===localStorage.getItem("isDemoMode");if(e)if(n(e),t){let t;e.includes("token-admin")?t={id:"demo-user-admin",name:"Company Admin",email:"admin@crm.com",avatar:null,role:"admin",dashboardType:"crm",isDemo:!0}:e.includes("token-recruiter")?t={id:"demo-user-recruiter",name:"Recruiter Agent",email:"demo@crm.com",avatar:null,role:"recruiter",dashboardType:"recruiter",isDemo:!0}:(e.includes("token-user")||pe("Unknown token format, defaulting to user role:",e),t={id:"demo-user-user",name:"Sales User",email:"sales@crm.com",avatar:null,role:"user",isDemo:!0}),r(t),i(!0)}else{const e=await Re();r(e.data),i(!0)}}catch(e){localStorage.removeItem("authToken"),localStorage.removeItem("isDemoMode"),n(null),r(null),i(!1)}finally{c(!1)}})()},[h]);const g=a.useCallback(async(e,t)=>{var a,s;const o=[{email:"admin@crm.com",password:"admin123",name:"Company Admin",role:"admin",dashboardType:"crm"},{email:"sales@crm.com",password:"sales123",name:"Sales User",role:"user"},{email:"demo@crm.com",password:"demo123",name:"Recruiter Agent",role:"recruiter",dashboardType:"recruiter"}].find(a=>a.email===e&&a.password===t);if(o){const e=`demo-token-${o.role}-${Date.now()}`,t={id:"demo-user-"+o.role,name:o.name,email:o.email,avatar:null,role:o.role,dashboardType:o.dashboardType,isDemo:!0};localStorage.setItem("authToken",e),localStorage.setItem("isDemoMode","true"),n(e),r(t),i(!0);const a=h(t.id),s=Se.get(a);if(s&&s.userId===t.id){const e=s.path;if(_e(e,t.role)){const t=Date.now()-6048e5;if(s.timestamp>=t)return u(e),m(!0),{success:!0,redirectTo:e}}Se.remove(a)}return{success:!0,redirectTo:ke(t.role)}}try{ue("ðŸ” Attempting real API login...");const a=await we(e,t);if(ue("ðŸ“¦ Login response:",a),ue("ðŸ“¦ Response success:",a.success),ue("ðŸ“¦ Response data:",a.data),!a.success)return me("âŒ Login failed:",a.message),{success:!1,error:a.message||"Login failed"};const{token:s,user:o}=a.data;if(ue("ðŸŽ« Extracted token:",s?"âœ“ Present":"âœ— Missing"),ue("ðŸ‘¤ Extracted user:",o?"âœ“ Present":"âœ— Missing"),!s||!o)return me("âŒ Missing token or user data in response"),{success:!1,error:"Invalid response from server"};localStorage.setItem("authToken",s),n(s),r(o),i(!0),ue("âœ… Login successful, state updated");const l=h(o.id),c=Se.get(l);if(c&&c.userId===o.id){const e=c.path;if(_e(e,o.role)){const t=Date.now()-6048e5;if(c.timestamp>=t)return u(e),m(!0),{success:!0,redirectTo:e}}Se.remove(l)}return{success:!0,redirectTo:ke(o.role)}}catch(l){return{success:!1,error:(null==(s=null==(a=l.response)?void 0:a.data)?void 0:s.message)||"Login failed. Please try again."}}},[h]),f=a.useCallback(()=>{const e={id:"demo-user",name:"Demo User",email:"demo@crm.com",avatar:null,role:"user",isDemo:!0},t=`demo-token-${e.role}-${Date.now()}`;localStorage.setItem("authToken",t),localStorage.setItem("isDemoMode","true"),n(t),r(e),i(!0);const a=h(e.id),s=Se.get(a);if(s&&s.userId===e.id){const t=s.path;if(_e(t,e.role)){const e=Date.now()-6048e5;if(s.timestamp>=e)return u(t),m(!0),{success:!0,redirectTo:t}}Se.remove(a)}return{success:!0,redirectTo:ke(e.role)}},[h]),x=a.useCallback(async(e,t,a)=>{var s,o;try{ue("ðŸ“ Attempting registration...");const s=await je({name:e,email:t,password:a});if(ue("ðŸ“¦ Register response:",s),!s.success)return me("âŒ Registration failed:",s.message),{success:!1,error:s.message||"Registration failed"};const{token:o,user:l}=s.data;return o&&l?(localStorage.setItem("authToken",o),n(o),r(l),i(!0),ue("âœ… Registration successful"),{success:!0}):(me("âŒ Missing token or user data in registration response"),{success:!1,error:"Invalid response from server"})}catch(l){me("âŒ Registration error:",l);return{success:!1,error:(null==(o=null==(s=l.response)?void 0:s.data)?void 0:o.message)||"Registration failed. Please try again."}}},[]),b=a.useCallback(async()=>{const e="true"===localStorage.getItem("isDemoMode");try{e||await Ne()}catch(a){me("Logout API call failed:",a)}finally{if(localStorage.removeItem("authToken"),localStorage.removeItem("isDemoMode"),t){const e=h(t.id);Se.remove(e)}n(null),r(null),i(!1),u(null),m(!1)}},[t,h]),y=a.useCallback(()=>{localStorage.removeItem("authToken"),localStorage.removeItem("isDemoMode"),n(null),r(null),i(!1),u(null),m(!1)},[]),v=a.useCallback(()=>{},[]);a.useEffect(()=>{},[v]);const w=a.useCallback(()=>{if(!t)return null;const e=h(t.id),a=Se.get(e);return a&&a.userId===t.id?a.path:null},[t,h]),j=a.useCallback(()=>{if(!t)return m(!1),null;const e=w();if(!e)return m(!1),ke(t.role);if(!_e(e,t.role)){const e=h(t.id);return Se.remove(e),m(!1),ke(t.role)}const a=h(t.id),r=Se.get(a);if(r){const e=Date.now()-6048e5;if(r.timestamp<e)return Se.remove(a),m(!1),ke(t.role)}return u(e),m(!0),e},[t,w,h]),N=a.useCallback(async e=>{var t,a;try{const e=await Re();return r(e.data),{success:!0}}catch(s){return{success:!1,error:(null==(a=null==(t=s.response)?void 0:t.data)?void 0:a.message)||"Failed to update user."}}},[]),R={user:t,token:s,isAuthenticated:o,isLoading:l,login:g,register:x,logout:b,forceLogout:y,updateUser:N,loginAsDemo:f,lastVisitedPage:d,shouldRestoreLastPage:p,restoreLastPage:j,clearAuthOnNextReload:v};return le.jsx(Oe.Provider,{value:R,children:e})},ze=()=>{const e=a.useContext(Oe);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},$e=({id:e,type:t="info",message:r,duration:s=5e3,onClose:n})=>{a.useEffect(()=>{if(s>0){const t=setTimeout(()=>{n(e)},s);return()=>clearTimeout(t)}},[e,s,n]);const o={success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:le.jsx(x,{className:"w-5 h-5 text-green-500"})},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:le.jsx(f,{className:"w-5 h-5 text-red-500"})},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:le.jsx(f,{className:"w-5 h-5 text-yellow-500"})},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:le.jsx(g,{className:"w-5 h-5 text-blue-500"})}},i=o[t]||o.info;return le.jsxs("div",{className:`\n        ${i.bg} ${i.border} ${i.text}\n        border rounded-lg shadow-lg p-4 mb-3\n        flex items-start gap-3 min-w-[320px] max-w-md\n        animate-slide-in\n      `,role:"alert","aria-live":"polite",children:[le.jsx("div",{className:"flex-shrink-0 mt-0.5",children:i.icon}),le.jsx("div",{className:"flex-1 text-sm font-medium",children:r}),le.jsx("button",{onClick:()=>n(e),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close notification",children:le.jsx(h,{className:"w-5 h-5"})})]})},Ve=a.createContext(null),We=({children:e})=>{const[t,r]=a.useState([]),s=a.useCallback((e,t,a=5e3)=>{const s=Date.now()+Math.random(),n={id:s,type:e,message:t,duration:a};return r(e=>[...e,n]),s},[]),n=a.useCallback(e=>{r(t=>t.filter(t=>t.id!==e))},[]);return le.jsxs(Ve.Provider,{value:{showToast:s,hideToast:n},children:[e,le.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col items-end","aria-live":"polite","aria-atomic":"true",children:t.map(e=>le.jsx($e,{id:e.id,type:e.type,message:e.message,duration:e.duration,onClose:n},e.id))})]})},Je=()=>{const e=a.useContext(Ve);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Ue=({children:e})=>{const t=n(),[r,s]=a.useState(t),[o,i]=a.useState("fade-in");return a.useEffect(()=>{t!==r&&i("fade-out")},[t,r]),a.useEffect(()=>{if("fade-out"===o){const e=setTimeout(()=>{s(t),i("fade-in")},150);return()=>clearTimeout(e)}},[o,t]),le.jsx("div",{className:`\n        transition-all duration-150 ease-out\n        ${"fade-out"===o?"opacity-0 transform translate-y-2":"opacity-100 transform translate-y-0"}\n      `,children:e},r.pathname)};function Ze(){return le.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 flex",children:[le.jsx("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12",children:le.jsx("div",{className:"w-full max-w-md",children:le.jsx(Ue,{children:le.jsx(o,{})})})}),le.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 relative overflow-hidden",children:[le.jsxs("div",{className:"absolute inset-0 opacity-10",children:[le.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full blur-xl"}),le.jsx("div",{className:"absolute bottom-32 right-16 w-48 h-48 bg-white rounded-full blur-2xl"}),le.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white rounded-full blur-lg"})]}),le.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center text-white p-12 text-center",children:[le.jsxs("div",{className:"mb-8",children:[le.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center mb-6 shadow-2xl",children:le.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-6m-2-5.5v3m0 0v3m0-3h3m-3 0h-3"})})}),le.jsx("h1",{className:"text-4xl font-bold mb-4",children:"CRM Pro"}),le.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Streamline your customer relationships with our powerful, intuitive platform"})]}),le.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[le.jsxs("div",{className:"flex flex-col items-center",children:[le.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mb-2",children:le.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),le.jsx("span",{className:"text-sm text-blue-100",children:"Contacts"})]}),le.jsxs("div",{className:"flex flex-col items-center",children:[le.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mb-2",children:le.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),le.jsx("span",{className:"text-sm text-blue-100",children:"Analytics"})]}),le.jsxs("div",{className:"flex flex-col items-center",children:[le.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mb-2",children:le.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),le.jsx("span",{className:"text-sm text-blue-100",children:"Automation"})]})]}),le.jsxs("div",{className:"flex space-x-8 text-center",children:[le.jsxs("div",{children:[le.jsx("div",{className:"text-2xl font-bold",children:"10K+"}),le.jsx("div",{className:"text-sm text-blue-200",children:"Active Users"})]}),le.jsxs("div",{children:[le.jsx("div",{className:"text-2xl font-bold",children:"99.9%"}),le.jsx("div",{className:"text-sm text-blue-200",children:"Uptime"})]}),le.jsxs("div",{children:[le.jsx("div",{className:"text-2xl font-bold",children:"24/7"}),le.jsx("div",{className:"text-sm text-blue-200",children:"Support"})]})]})]})]})]})}const Be={crm:{id:"crm",name:"CRM",displayName:"Business CRM",description:"Customer Relationship Management",primaryColor:"blue",routes:[{name:"Dashboard",href:"/app/dashboard",icon:b,color:"from-blue-500 to-blue-600"},{name:"Candidates",href:"/app/candidates",icon:y,color:"from-green-500 to-green-600"},{name:"Jobs",href:"/app/jobs",icon:v,color:"from-purple-500 to-purple-600"},{name:"Calendar",href:"/app/calendar",icon:R,color:"from-pink-500 to-rose-600"},{name:"Tasks",href:"/app/tasks",icon:O,color:"from-cyan-500 to-blue-600"},{name:"Clients",href:"/app/companies",icon:N,color:"from-orange-500 to-orange-600"},{name:"Analytics",href:"/app/analytics",icon:D,color:"from-indigo-500 to-indigo-600"},{name:"Automation",href:"/app/automation",icon:E,color:"from-yellow-500 to-orange-600"},{name:"Team",href:"/app/team",icon:M,color:"from-violet-500 to-violet-600"},{name:"Settings",href:"/app/settings",icon:A,color:"from-gray-500 to-gray-600"}]},recruitment:{id:"recruitment",name:"Recruitment",displayName:"Recruitment Suite",description:"Talent Acquisition & Management",primaryColor:"purple",routes:[{name:"Dashboard",href:"/app/recruiter/dashboard",icon:b,color:"from-blue-500 to-blue-600"},{name:"Candidates",href:"/app/recruiter/candidates",icon:y,color:"from-green-500 to-green-600",submenu:[{name:"All Candidates",href:"/app/recruiter/candidates",description:"View and manage all candidates"},{name:"Add Candidate",href:"/app/recruiter/candidates/add",description:"Add a new candidate"},{name:"Duplicate Management",href:"/app/recruiter/candidates/duplicates",description:"Manage duplicate candidates"}]},{name:"Jobs",href:"/app/recruiter/jobs",icon:v,color:"from-purple-500 to-purple-600"},{name:"Interviews",href:"/app/recruiter/interviews",icon:w,color:"from-amber-500 to-orange-600"},{name:"Offers",href:"/app/recruiter/offers",icon:j,color:"from-emerald-500 to-teal-600"},{name:"Clients",href:"/app/recruiter/clients",icon:N,color:"from-orange-500 to-orange-600"},{name:"Calendar",href:"/app/recruiter/calendar",icon:R,color:"from-pink-500 to-rose-600"},{name:"Communication",href:"/app/recruiter/communication",icon:S,color:"from-blue-500 to-cyan-600"},{name:"Automation",href:"/app/recruiter/automation",icon:E,color:"from-yellow-500 to-orange-600"},{name:"Analytics",href:"/app/recruiter/analytics",icon:k,color:"from-indigo-500 to-indigo-600"},{name:"Integrations",href:"/app/recruiter/integrations",icon:_,color:"from-violet-500 to-purple-600"},{name:"Reports",href:"/app/recruiter/reports",icon:D,color:"from-cyan-500 to-blue-600"},{name:"Settings",href:"/app/settings",icon:A,color:"from-gray-500 to-gray-600"}]},sales:{id:"sales",name:"Sales",displayName:"Sales Management",description:"Sales Pipeline & Lead Management",primaryColor:"green",routes:[{name:"Dashboard",href:"/app/sales/dashboard",icon:b,color:"from-blue-500 to-blue-600"},{name:"Leads",href:"/app/sales/leads",icon:y,color:"from-green-500 to-green-600"},{name:"Opportunities",href:"/app/sales/opportunities",icon:I,color:"from-yellow-500 to-orange-600"},{name:"Accounts",href:"/app/sales/accounts",icon:N,color:"from-purple-500 to-purple-600"},{name:"Analytics",href:"/app/sales/analytics",icon:k,color:"from-indigo-500 to-indigo-600"},{name:"Settings",href:"/app/settings",icon:A,color:"from-gray-500 to-gray-600"}]},realEstate:{id:"realEstate",name:"Real Estate",displayName:"Real Estate Management",description:"Property & Client Management",primaryColor:"orange",routes:[{name:"Dashboard",href:"/app/realestate/dashboard",icon:b,color:"from-blue-500 to-blue-600"},{name:"Properties",href:"/app/realestate/properties",icon:C,color:"from-orange-500 to-red-600"},{name:"Clients",href:"/app/realestate/clients",icon:y,color:"from-green-500 to-green-600"},{name:"Locations",href:"/app/realestate/locations",icon:T,color:"from-purple-500 to-purple-600"},{name:"Analytics",href:"/app/realestate/analytics",icon:k,color:"from-indigo-500 to-indigo-600"},{name:"Settings",href:"/app/settings",icon:A,color:"from-gray-500 to-gray-600"}]},healthcare:{id:"healthcare",name:"Healthcare",displayName:"Healthcare Management",description:"Patient & Practice Management",primaryColor:"teal",routes:[{name:"Dashboard",href:"/app/healthcare/dashboard",icon:b,color:"from-blue-500 to-blue-600"},{name:"Patients",href:"/app/healthcare/patients",icon:y,color:"from-green-500 to-green-600"},{name:"Appointments",href:"/app/healthcare/appointments",icon:R,color:"from-pink-500 to-rose-600"},{name:"Medical Records",href:"/app/healthcare/records",icon:P,color:"from-teal-500 to-cyan-600"},{name:"Analytics",href:"/app/healthcare/analytics",icon:k,color:"from-indigo-500 to-indigo-600"},{name:"Settings",href:"/app/settings",icon:A,color:"from-gray-500 to-gray-600"}]},education:{id:"education",name:"Education",displayName:"Education Management",description:"Student & Course Management",primaryColor:"indigo",routes:[{name:"Dashboard",href:"/app/education/dashboard",icon:b,color:"from-blue-500 to-blue-600"},{name:"Students",href:"/app/education/students",icon:y,color:"from-green-500 to-green-600"},{name:"Courses",href:"/app/education/courses",icon:L,color:"from-indigo-500 to-purple-600"},{name:"Schedule",href:"/app/education/schedule",icon:R,color:"from-pink-500 to-rose-600"},{name:"Analytics",href:"/app/education/analytics",icon:k,color:"from-indigo-500 to-indigo-600"},{name:"Settings",href:"/app/settings",icon:A,color:"from-gray-500 to-gray-600"}]}};function qe(e){return e.startsWith("/app/recruiter")?Be.recruitment:e.startsWith("/app/sales")?Be.sales:e.startsWith("/app/realestate")?Be.realEstate:e.startsWith("/app/healthcare")?Be.healthcare:e.startsWith("/app/education")?Be.education:Be.crm}function He(){const[e,t]=a.useState(!1),[r,s]=a.useState(!1),[o,l]=a.useState(!1),c=n(),{user:d}=ze(),u=qe(c.pathname).routes;const p=function(e){const t=qe(e);return{name:t.name,displayName:t.displayName,description:t.description,primaryColor:t.primaryColor}}(c.pathname);a.useEffect(()=>{const e=()=>{l(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),a.useEffect(()=>{s(!1)},[c.pathname]);const m=()=>{s(!r)};return le.jsxs(le.Fragment,{children:[o&&r&&le.jsx("div",{className:"fixed inset-0 bg-black/50 lg:hidden",style:{zIndex:90},onClick:m,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m())},role:"button",tabIndex:0,"aria-label":"Close sidebar"}),le.jsx("button",{className:"lg:hidden fixed top-4 left-4 p-3 bg-white rounded-xl shadow-lg border border-slate-200",style:{zIndex:150},onClick:m,children:r?le.jsx(h,{className:"w-5 h-5 text-slate-600"}):le.jsx(z,{className:"w-5 h-5 text-slate-600"})}),le.jsxs("div",{className:`\n          ${o?"fixed inset-y-0 left-0 w-72 transform transition-transform duration-300 ease-in-out "+(r?"translate-x-0":"-translate-x-full"):(e?"w-72":"w-28")+" relative"}\n          bg-white/95 backdrop-blur-xl border-r border-slate-200/50 \n          flex flex-col h-full shadow-xl \n          ${o?"":"transition-all duration-500 ease-out"}\n          overflow-hidden\n        `,style:{zIndex:o?100:"auto"},onMouseEnter:()=>{o||window.setTimeout(()=>t(!0),50)},onMouseLeave:()=>{o||window.setTimeout(()=>t(!1),100)},children:[le.jsx("div",{className:"p-4 border-b border-slate-200/50",children:le.jsxs("div",{className:"flex items-center justify-center",children:[le.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:le.jsx("span",{className:"text-lg font-bold text-white",children:"T"})}),le.jsxs("div",{className:"ml-3 transition-all duration-500 ease-out "+(e||o?"opacity-100 translate-x-0":"opacity-0 -translate-x-4 w-0 overflow-hidden"),children:[le.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent whitespace-nowrap",children:"TalentHub"}),le.jsx("div",{className:"text-xs text-slate-500 whitespace-nowrap",children:p.displayName})]})]})}),le.jsx("nav",{className:"flex-1 p-2 overflow-y-auto","aria-label":"Main navigation",children:le.jsx("div",{className:"space-y-1",children:u.map(t=>{const a=t.icon,r=c.pathname===t.href,s=!t.href.startsWith("/app/recruiter")||function(e){return"recruiter"===(null==e?void 0:e.dashboardType)||"sales@crm.com"===(null==e?void 0:e.email)}(d);return s?le.jsxs(i,{to:t.href,"aria-current":r?"page":void 0,className:`\n                  group flex items-center ${e||o?"justify-start":"justify-center"} \n                  px-4 py-3 mx-1 rounded-xl text-sm font-medium \n                  transition-all duration-300 transform magnetic-hover\n                  focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2\n                  relative overflow-hidden enhanced-gradient-slide\n                  ${r?"bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 shadow-lg border border-blue-200/50":"text-slate-600 hover:bg-gradient-to-r hover:from-slate-50 hover:to-blue-50 hover:text-slate-900 hover:shadow-md"}\n                `,title:e||o?"":t.name,children:[le.jsxs("div",{className:`\n                  w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300\n                  relative overflow-hidden group-hover:scale-110 icon-wiggle\n                  ${r?`bg-gradient-to-r ${t.color} shadow-lg`:"group-hover:bg-slate-600/50"}\n                `,children:[le.jsx(a,{className:"w-5 h-5 transition-all duration-300 enhanced-icon-wiggle "+(r?"text-white":"text-slate-600 group-hover:text-blue-600"),"aria-hidden":"true"}),le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-500"})]}),le.jsx("span",{className:"ml-4 transition-all duration-500 ease-out whitespace-nowrap font-medium "+(e||o?"opacity-100 translate-x-0":"opacity-0 -translate-x-4 w-0 overflow-hidden"),children:t.name}),r&&(e||o)&&le.jsx("div",{className:"ml-auto w-2 h-2 bg-blue-500 rounded-full animate-pulse transition-all duration-300"})]},t.name):le.jsxs("div",{className:`\n                    group flex items-center ${e||o?"justify-start":"justify-center"} \n                    px-4 py-3 mx-1 rounded-xl text-sm font-medium \n                    transition-all duration-300 cursor-not-allowed opacity-50\n                    text-slate-400 bg-slate-50\n                  `,title:e||o?"Demo Access Required":`${t.name} (Demo Only)`,children:[le.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-slate-200",children:le.jsx(a,{className:"w-5 h-5 text-slate-400","aria-hidden":"true"})}),le.jsxs("span",{className:"ml-4 transition-all duration-500 ease-out whitespace-nowrap font-medium "+(e||o?"opacity-100 translate-x-0":"opacity-0 -translate-x-4 w-0 overflow-hidden"),children:[t.name,(e||o)&&le.jsx("span",{className:"ml-2 text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Restricted"})]})]},t.name)})})})]})]})}const Ye=[{id:1,type:"success",title:"New Candidate Applied",message:"Sarah Johnson applied for Senior Developer position",name:"Sarah Johnson",time:"2 minutes ago",icon:$,unread:!0},{id:2,type:"info",title:"Interview Scheduled",message:"Interview with Michael Chen scheduled for tomorrow at 2:00 PM",name:"Michael Chen",time:"15 minutes ago",icon:R,unread:!0},{id:3,type:"warning",title:"Application Deadline",message:"Frontend Developer position closes in 2 days",name:"System",time:"1 hour ago",icon:f,unread:!1},{id:4,type:"success",title:"Offer Accepted",message:"Emma Wilson accepted the UX Designer offer",name:"Emma Wilson",time:"3 hours ago",icon:x,unread:!1},{id:5,type:"info",title:"New Job Posted",message:"Backend Developer position has been published",name:"HR Team",time:"5 hours ago",icon:v,unread:!1},{id:6,type:"info",title:"Profile Updated",message:"Alex Rodriguez updated their portfolio",name:"Alex Rodriguez",time:"1 day ago",icon:$,unread:!1}],Fe=()=>{const[e,t]=a.useState(!1),[r,s]=a.useState(Ye),n=a.useRef(null),o=a.useRef(null),i=r.filter(e=>e.unread).length;a.useEffect(()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&o.current&&!o.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return le.jsxs("div",{className:"relative",children:[le.jsxs("button",{ref:o,onClick:()=>t(!e),className:"relative p-3 rounded-xl bg-white/80 backdrop-blur-sm border border-slate-200/50 \n                   hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 \n                   hover:border-blue-300/50 hover:shadow-lg hover:scale-110\n                   transition-all duration-200 transform group\n                   focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",title:"Notifications",children:[le.jsx(V,{className:"w-5 h-5 text-slate-600 group-hover:text-blue-600 transition-colors duration-200"}),i>0&&le.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-red-500 to-pink-500 \n                          rounded-full flex items-center justify-center shadow-lg animate-pulse",children:le.jsx("span",{className:"text-xs font-bold text-white",children:i>9?"9+":i})}),le.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-400/20 to-purple-400/20 \n                        opacity-0 group-hover:opacity-100 transition-opacity duration-200 -z-10 blur-sm"})]}),e&&le.jsxs("div",{ref:n,className:"fixed right-4 top-20 w-96 bg-white/98 backdrop-blur-xl \n                     border border-slate-200/50 rounded-2xl shadow-2xl\n                     animate-in slide-in-from-top-2 duration-300",style:{maxHeight:"calc(100vh - 100px)",zIndex:700},children:[le.jsx("div",{className:"p-4 border-b border-slate-200/50",children:le.jsxs("div",{className:"flex items-center justify-between",children:[le.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),le.jsxs("div",{className:"flex items-center space-x-2",children:[i>0&&le.jsxs("button",{onClick:()=>{s(e=>e.map(e=>({...e,unread:!1})))},className:"relative text-xs text-blue-600 hover:text-white font-medium \n                               px-3 py-2 rounded-lg transition-all duration-200 overflow-hidden group\n                               border border-blue-200 hover:border-blue-500",children:[le.jsx("span",{className:"relative z-10",children:"Mark all read"}),le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 \n                                    transform -translate-x-full group-hover:translate-x-0 \n                                    transition-transform duration-200 ease-out"})]}),le.jsxs("button",{onClick:()=>t(!1),className:"relative p-2 rounded-lg transition-all duration-200 overflow-hidden group\n                             hover:shadow-md",children:[le.jsx(h,{className:"w-4 h-4 text-slate-500 group-hover:text-white relative z-10 transition-colors duration-200"}),le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-400 to-slate-500 \n                                  transform scale-0 group-hover:scale-100 \n                                  transition-transform duration-200 ease-out rounded-lg"})]})]})]})}),le.jsx("div",{className:"max-h-96 overflow-y-auto scrollbar-thin",children:0===r.length?le.jsxs("div",{className:"p-8 text-center",children:[le.jsx(V,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),le.jsx("p",{className:"text-slate-500",children:"No notifications yet"})]}):le.jsx("div",{className:"p-2 stagger-fade-in",children:r.map(e=>{const t=e.icon,a=(e=>{const t={success:{icon:"text-green-500",bg:"from-green-50 to-emerald-50 border-green-200"},warning:{icon:"text-yellow-500",bg:"from-yellow-50 to-amber-50 border-yellow-200"},error:{icon:"text-red-500",bg:"from-red-50 to-rose-50 border-red-200"},default:{icon:"text-blue-500",bg:"from-blue-50 to-indigo-50 border-blue-200"}};return t[e]||t.default})(e.type);return le.jsxs("div",{className:`\n                        group relative p-3 mb-2 rounded-xl border transition-all duration-200\n                        hover:shadow-md hover:scale-[1.02] cursor-pointer\n                        ${e.unread?`bg-gradient-to-r ${a.bg} shadow-sm`:"bg-slate-50/50 border-slate-200/50 hover:bg-slate-100/50"}\n                      `,onClick:()=>{return t=e.id,void s(e=>e.map(e=>e.id===t?{...e,unread:!1}:e));var t},children:[e.unread&&le.jsx("div",{className:"absolute left-1 top-1/2 transform -translate-y-1/2 w-2 h-2 \n                                        bg-blue-500 rounded-full animate-pulse"}),le.jsxs("div",{className:"flex items-start space-x-3 ml-2",children:[le.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0\n                                        bg-white/80 backdrop-blur-sm border border-slate-200/50\n                                        group-hover:scale-110 transition-transform duration-200",children:le.jsx(t,{className:`w-4 h-4 ${a.icon}`})}),le.jsxs("div",{className:"flex-1 min-w-0",children:[le.jsxs("div",{className:"flex items-center justify-between mb-1",children:[le.jsx("h4",{className:"text-sm font-medium text-slate-900 truncate",children:e.title}),le.jsx("button",{onClick:t=>{var a;t.stopPropagation(),a=e.id,s(e=>e.filter(e=>e.id!==a))},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white/80 \n                                         rounded-lg transition-all duration-200",children:le.jsx(h,{className:"w-3 h-3 text-slate-400"})})]}),le.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:e.message}),le.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[le.jsxs("span",{className:"flex items-center space-x-1",children:[le.jsx($,{className:"w-3 h-3"}),le.jsx("span",{children:e.name})]}),le.jsxs("span",{className:"flex items-center space-x-1",children:[le.jsx(W,{className:"w-3 h-3"}),le.jsx("span",{children:e.time})]})]})]})]})]},e.id)})})}),le.jsx("div",{className:"p-3 border-t border-slate-200/50 bg-slate-50/50",children:le.jsxs("button",{className:"relative w-full text-sm text-white font-medium \n                               py-3 rounded-lg transition-all duration-200 overflow-hidden group\n                               bg-gradient-to-r from-blue-500 to-purple-500 hover:shadow-lg hover:scale-[1.02]",children:[le.jsx("span",{className:"relative z-10",children:"View all notifications"}),le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 \n                              transform translate-y-full group-hover:translate-y-0 \n                              transition-transform duration-200 ease-out"})]})})]})]})},Ge=()=>{const[e,t]=a.useState(!1),[r,s]=a.useState(!1),n=a.useRef(null),o=a.useRef(null),{user:i,logout:c}=ze(),d=l();a.useEffect(()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&o.current&&!o.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const u=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U";return le.jsxs("div",{className:"relative",children:[le.jsxs("button",{ref:o,onClick:()=>t(!e),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:"relative group focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 rounded-full",title:`${(null==i?void 0:i.name)||"User"} - Click for profile menu`,children:[le.jsxs("div",{className:`\n          relative w-10 h-10 rounded-full overflow-hidden\n          bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500\n          transition-all duration-300 transform avatar-soft-hover\n          ${r?"scale-110 shadow-xl":"scale-100 shadow-lg"}\n        `,children:[le.jsx("div",{className:"absolute inset-0.5 bg-white rounded-full flex items-center justify-center",children:le.jsx("span",{className:"text-sm font-bold bg-gradient-to-br from-blue-600 to-purple-600 bg-clip-text text-transparent",children:u(null==i?void 0:i.name)})}),le.jsx("div",{className:`\n            absolute inset-0 rounded-full border-2 border-transparent\n            bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400\n            transition-all duration-500\n            ${r?"animate-spin opacity-100":"opacity-0"}\n          `,style:{background:"conic-gradient(from 0deg, #3b82f6, #8b5cf6, #ec4899, #3b82f6)",WebkitMask:"radial-gradient(circle, transparent 18px, black 20px)",mask:"radial-gradient(circle, transparent 18px, black 20px)"}}),le.jsx("div",{className:`\n            absolute inset-0 rounded-full bg-gradient-to-r from-blue-400/30 to-purple-400/30\n            transition-all duration-300\n            ${r?"animate-ping opacity-75":"opacity-0"}\n          `}),le.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 border-2 border-white rounded-full animate-pulse"})]}),le.jsx("div",{className:`\n          absolute inset-0 rounded-full bg-gradient-to-r from-blue-400/20 to-purple-400/20 blur-md -z-10\n          transition-all duration-300\n          ${r?"opacity-100 scale-150":"opacity-0 scale-100"}\n        `})]}),e&&le.jsxs("div",{ref:n,className:"fixed right-4 top-20 w-72 bg-white/98 backdrop-blur-xl \n                     border border-slate-200/50 rounded-2xl shadow-2xl\n                     animate-in slide-in-from-top-2 duration-300 overflow-hidden",style:{zIndex:300},children:[le.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-slate-200/50",children:le.jsxs("div",{className:"flex items-center space-x-3",children:[le.jsxs("div",{className:"relative w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 shadow-lg",children:[le.jsx("div",{className:"absolute inset-0.5 bg-white rounded-full flex items-center justify-center",children:le.jsx("span",{className:"text-lg font-bold bg-gradient-to-br from-blue-600 to-purple-600 bg-clip-text text-transparent",children:u(null==i?void 0:i.name)})}),le.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center shadow-md",children:le.jsx(J,{className:"w-3 h-3 text-yellow-700"})})]}),le.jsxs("div",{className:"flex-1 min-w-0",children:[le.jsx("h3",{className:"text-sm font-semibold text-slate-900 truncate",children:(null==i?void 0:i.name)||"Demo User"}),le.jsxs("p",{className:"text-xs text-slate-600 truncate flex items-center space-x-1",children:[le.jsx(U,{className:"w-3 h-3"}),le.jsx("span",{children:(null==i?void 0:i.email)||"demo@crm.com"})]}),le.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[le.jsx("div",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full font-medium",children:"Online"}),le.jsx("div",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"Admin"})]})]})]})}),le.jsxs("div",{className:"p-2",children:[le.jsxs("div",{className:"mb-2",children:[le.jsxs("button",{onClick:()=>{d("/app/profile"),t(!1)},className:"w-full flex items-center space-x-3 p-3 rounded-xl text-left\n                               hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 \n                               hover:shadow-md transition-all duration-300 transform hover:scale-[1.02]\n                               group liquid-hover",children:[le.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center\n                               group-hover:bg-gradient-to-r group-hover:from-blue-500 group-hover:to-purple-500\n                               group-hover:scale-110 transition-all duration-300 icon-wiggle",children:le.jsx($,{className:"w-4 h-4 text-blue-600 group-hover:text-white transition-colors duration-300"})}),le.jsxs("div",{className:"flex-1",children:[le.jsx("div",{className:"text-sm font-medium text-slate-900",children:"View Profile"}),le.jsx("div",{className:"text-xs text-slate-500",children:"Manage your account"})]})]}),le.jsxs("button",{onClick:()=>{d("/app/settings"),t(!1)},className:"w-full flex items-center space-x-3 p-3 rounded-xl text-left\n                               hover:bg-gradient-to-r hover:from-slate-50 hover:to-blue-50 \n                               hover:shadow-md transition-all duration-300 transform hover:scale-[1.02]\n                               group liquid-hover",children:[le.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center\n                               group-hover:bg-gradient-to-r group-hover:from-slate-500 group-hover:to-blue-500\n                               group-hover:scale-110 transition-all duration-300 icon-wiggle",children:le.jsx(A,{className:"w-4 h-4 text-slate-600 group-hover:text-white transition-colors duration-300"})}),le.jsxs("div",{className:"flex-1",children:[le.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Settings"}),le.jsx("div",{className:"text-xs text-slate-500",children:"Preferences & privacy"})]})]})]}),le.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-slate-200 to-transparent my-2"}),le.jsxs("button",{onClick:()=>{c(),t(!1)},className:"w-full flex items-center space-x-3 p-3 rounded-xl text-left\n                         hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 \n                         hover:shadow-md transition-all duration-300 transform hover:scale-[1.02]\n                         group liquid-hover",children:[le.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center\n                             group-hover:bg-gradient-to-r group-hover:from-red-500 group-hover:to-pink-500\n                             group-hover:scale-110 transition-all duration-300 icon-wiggle",children:le.jsx(Z,{className:"w-4 h-4 text-red-600 group-hover:text-white transition-colors duration-300"})}),le.jsxs("div",{className:"flex-1",children:[le.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Sign Out"}),le.jsx("div",{className:"text-xs text-slate-500",children:"End your session"})]})]})]}),le.jsx("div",{className:"p-3 bg-slate-50/50 border-t border-slate-200/50",children:le.jsx("div",{className:"text-xs text-slate-500 text-center",children:"CRM Pro v2.1.0 â€¢ Demo Mode"})})]})]})};function Ke(){const e=n(),[t,r]=a.useState("");return le.jsx("header",{className:"bg-white/95 backdrop-blur-xl border-b border-slate-200/50 px-6 py-4 shadow-sm relative",children:le.jsxs("div",{className:"flex items-center justify-between",children:[le.jsx("div",{className:"flex items-center space-x-6",children:le.jsxs("div",{className:"relative hidden md:block",children:[le.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:le.jsx(B,{className:"h-4 w-4 text-slate-400"})}),le.jsx("input",{type:"text",placeholder:(()=>{switch(e.pathname){case"/app/candidates":return"Search candidates...";case"/app/jobs":return"Search jobs...";case"/app/companies":return"Search clients...";case"/app/calendar":return"Search events...";case"/app/tasks":return"Search tasks...";case"/app/contacts":return"Search contacts...";default:return"Search candidates, jobs, clients..."}})(),value:t,onChange:e=>r(e.target.value),className:"w-80 pl-10 pr-4 py-2.5 bg-slate-50/80 border border-slate-200/50 rounded-xl\n                         text-sm placeholder-slate-400 smart-search-bar\n                         focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:border-blue-300\n                         hover:bg-white/80 hover:border-slate-300/50\n                         transition-all duration-300"})]})}),le.jsxs("div",{className:"flex items-center space-x-4",children:[le.jsx(Fe,{}),le.jsx(Ge,{})]})]})})}function Xe(e,t,r={}){const{preventDefault:s=!0,stopPropagation:n=!0,ignoreInputs:o=!0,enabled:i=!0}=r,l=a.useRef(t);l.current=t,a.useEffect(()=>{if(!i)return;const t=t=>{if(o){const e=document.activeElement;if(e&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||e.isContentEditable))return}(Array.isArray(e)?e:[e]).every(e=>{const a=e.toLowerCase();switch(a){case"ctrl":case"control":return t.ctrlKey;case"alt":return t.altKey;case"shift":return t.shiftKey;case"meta":case"cmd":return t.metaKey;case"escape":case"esc":return"Escape"===t.key;case"enter":return"Enter"===t.key;case"space":return" "===t.key;case"tab":return"Tab"===t.key;case"backspace":return"Backspace"===t.key;case"delete":return"Delete"===t.key;case"arrowup":case"up":return"ArrowUp"===t.key;case"arrowdown":case"down":return"ArrowDown"===t.key;case"arrowleft":case"left":return"ArrowLeft"===t.key;case"arrowright":case"right":return"ArrowRight"===t.key;default:return t.key.toLowerCase()===a}})&&(s&&t.preventDefault(),n&&t.stopPropagation(),l.current(t))};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,s,n,o,i])}function Qe(e){a.useEffect(()=>{const t=t=>{e.forEach(({keys:e,callback:a,options:r={}})=>{const{preventDefault:s=!0,stopPropagation:n=!0,ignoreInputs:o=!0,enabled:i=!0}=r;if(!i)return;if(o){const e=document.activeElement;if(e&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||e.isContentEditable))return}(Array.isArray(e)?e:[e]).every(e=>{const a=e.toLowerCase();switch(a){case"ctrl":case"control":return t.ctrlKey;case"alt":return t.altKey;case"shift":return t.shiftKey;case"meta":case"cmd":return t.metaKey;case"escape":case"esc":return"Escape"===t.key;case"enter":return"Enter"===t.key;case"space":return" "===t.key;case"tab":return"Tab"===t.key;case"backspace":return"Backspace"===t.key;case"delete":return"Delete"===t.key;case"arrowup":case"up":return"ArrowUp"===t.key;case"arrowdown":case"down":return"ArrowDown"===t.key;case"arrowleft":case"left":return"ArrowLeft"===t.key;case"arrowright":case"right":return"ArrowRight"===t.key;default:return t.key.toLowerCase()===a}})&&(s&&t.preventDefault(),n&&t.stopPropagation(),a(t))})};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e])}const et={"/app/dashboard":"Dashboard","/app/candidates":"Candidates","/app/candidates/add":"Add Candidate","/app/contacts":"Contacts","/app/deals":"Jobs","/app/deals/add":"Post New Job","/app/companies":"Clients","/app/companies/add":"Add Client","/app/calendar":"Calendar","/app/tasks":"Tasks","/app/analytics":"Analytics Dashboard","/app/team":"Team","/app/settings":"System Settings","/app/automation":"Automation","/app/email-automation":"Email Automation","/app/reminders":"Reminders","/app/profile":"Profile"};function tt(){const e=n(),t=l();return Qe([{keys:"1",callback:()=>t("/app/dashboard"),options:{ignoreInputs:!0}},{keys:"2",callback:()=>t("/app/contacts"),options:{ignoreInputs:!0}},{keys:"3",callback:()=>t("/app/deals"),options:{ignoreInputs:!0}},{keys:"4",callback:()=>t("/app/team"),options:{ignoreInputs:!0}},{keys:"5",callback:()=>t("/app/settings"),options:{ignoreInputs:!0}}]),le.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[le.jsx("div",{className:"flex-shrink-0",style:{zIndex:100},children:le.jsx(He,{})}),le.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[le.jsx("div",{className:"flex-shrink-0",style:{zIndex:200},children:le.jsx(Ke,{title:(()=>{if(et[e.pathname])return et[e.pathname];if(e.pathname.startsWith("/app/contacts/")&&"/app/contacts/add"!==e.pathname)return"Contact Details";if(e.pathname.endsWith("/add")){const t=e.pathname.replace("/add","");if(et[t])return`Add ${et[t].slice(0,-1)}`}return"Dashboard"})()})}),le.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",style:{zIndex:10},children:le.jsx("div",{className:"p-3 lg:p-4",children:le.jsx("div",{className:"w-full max-w-none",children:le.jsx(Ue,{children:le.jsx(o,{})})})})})]})]})}const at={metrics:{totalCandidates:1247,activeJobs:23,interviewsScheduled:8,offersExtended:5,placementsMade:18,conversionRate:12.5,trends:{candidates:{value:12,direction:"up",period:"this month"},jobs:{value:8,direction:"up",period:"this week"},interviews:{value:5,direction:"down",period:"this week"},offers:{value:15,direction:"up",period:"this month"}},sparklineData:{candidates:[1180,1195,1210,1185,1220,1205,1235,1215,1240,1247],jobs:[18,20,19,21,22,20,23,21,22,23],interviews:[12,10,15,11,9,13,8,10,9,8],offers:[3,4,2,5,4,6,3,4,5,5]}},pipelineData:[{stage:"Registration",count:150,color:"bg-blue-500",conversionRate:100},{stage:"Resume Share",count:120,color:"bg-purple-500",conversionRate:80},{stage:"Shortlisting",count:85,color:"bg-amber-500",conversionRate:71},{stage:"Interview",count:45,color:"bg-cyan-500",conversionRate:53},{stage:"Selection",count:25,color:"bg-green-500",conversionRate:56},{stage:"Placement",count:18,color:"bg-emerald-600",conversionRate:72}],recentCandidates:[{id:"1",name:"Tanishka Negi",position:"Software Engineer",status:"shortlisted",appliedDate:"2024-01-15",rating:4.5,avatar:null},{id:"2",name:"Rahul Sharma",position:"Product Manager",status:"interviewed",appliedDate:"2024-01-14",rating:4.2,avatar:null},{id:"3",name:"Priya Patel",position:"UI/UX Designer",status:"new",appliedDate:"2024-01-13",rating:4,avatar:null}],upcomingInterviews:[{id:"1",candidateName:"Tanishka Negi",position:"Software Engineer",dateTime:"2024-01-16T10:00:00",type:"video",interviewer:"John Doe"},{id:"2",candidateName:"Rahul Sharma",position:"Product Manager",dateTime:"2024-01-16T14:30:00",type:"phone",interviewer:"Jane Smith"},{id:"3",candidateName:"Priya Patel",position:"UI/UX Designer",dateTime:"2024-01-17T09:00:00",type:"in-person",interviewer:"Mike Johnson"}],recentActivities:[{id:"1",type:"candidate-added",title:"New candidate added",description:"Tanishka Negi applied for Software Engineer position",user:"John Doe",timestamp:new Date(Date.now()-9e5),candidateId:"1",jobId:"1"},{id:"2",type:"interview-scheduled",title:"Interview scheduled",description:"Video interview with Rahul Sharma for Product Manager",user:"Jane Smith",timestamp:new Date(Date.now()-72e5),candidateId:"2",jobId:"2"},{id:"3",type:"email-sent",title:"Email sent",description:"Follow-up email sent to Priya Patel",user:"Mike Johnson",timestamp:new Date(Date.now()-144e5),candidateId:"3"},{id:"4",type:"status-updated",title:"Status updated",description:"Sarah Johnson moved to Interview stage",user:"Lisa Chen",timestamp:new Date(Date.now()-216e5),candidateId:"4"},{id:"5",type:"note-added",title:"Note added",description:"Added interview feedback for Alex Wilson",user:"David Brown",timestamp:new Date(Date.now()-288e5),candidateId:"5"},{id:"6",type:"offer-sent",title:"Offer sent",description:"Job offer sent to Maria Garcia for Senior Developer",user:"John Doe",timestamp:new Date(Date.now()-864e5),candidateId:"6",jobId:"3"}]};function rt(){const[e,t]=a.useState(null),[r,s]=a.useState(!0),[n,o]=a.useState(null);return a.useEffect(()=>{(async()=>{try{s(!0),await new Promise(e=>setTimeout(e,500)),t(at.metrics)}catch(e){o(e.message)}finally{s(!1)}})()},[]),{metrics:e,loading:r,error:n}}function st(){const[e,t]=a.useState([]),[r,s]=a.useState(!0),[n,o]=a.useState(null);return a.useEffect(()=>{(async()=>{try{s(!0),await new Promise(e=>setTimeout(e,300)),t(at.pipelineData)}catch(e){o(e.message)}finally{s(!1)}})()},[]),{pipelineData:e,loading:r,error:n}}function nt(){const[e,t]=a.useState([]),[r,s]=a.useState([]),[n,o]=a.useState([]),[i,l]=a.useState(!0),[c,d]=a.useState(null);return a.useEffect(()=>{(async()=>{try{l(!0),await new Promise(e=>setTimeout(e,200)),t(at.recentCandidates),s(at.upcomingInterviews),o(at.recentActivities)}catch(e){d(e.message)}finally{l(!1)}})()},[]),{recentCandidates:e,upcomingInterviews:r,recentActivities:n,loading:i,error:c}}function ot({title:e="Recruitment Dashboard"}){const{user:t}=ze(),r=l(),s=n(),[o,i]=a.useState(""),[c,d]=a.useState([]),[u,p]=a.useState(!1),[m,h]=a.useState(!1),[g,f]=a.useState(!1),x=a.useRef(null),b=a.useRef(null),w=a.useRef(null),{searchCandidatesAndJobs:N}={searchCandidatesAndJobs:async e=>{await new Promise(e=>setTimeout(e,200));const t=[...at.recentCandidates,{id:"4",name:"Sarah Johnson",position:"Data Scientist",status:"new",appliedDate:"2024-01-12",rating:4.3},{id:"5",name:"Mike Chen",position:"DevOps Engineer",status:"interviewed",appliedDate:"2024-01-11",rating:4.1}],a=e.toLowerCase(),r=t.filter(e=>e.name.toLowerCase().includes(a)||e.position.toLowerCase().includes(a)),s=[{id:"1",title:"Software Engineer",company:"Tech Corp",location:"San Francisco, CA"},{id:"2",title:"Product Manager",company:"StartupXYZ",location:"New York, NY"},{id:"3",title:"UI/UX Designer",company:"Design Studio",location:"Remote"},{id:"4",title:"Data Scientist",company:"Analytics Inc",location:"Boston, MA"}].filter(e=>e.title.toLowerCase().includes(a)||e.company.toLowerCase().includes(a)||e.location.toLowerCase().includes(a));return{candidates:r.slice(0,5),jobs:s.slice(0,5)}},getUpcomingInterviews:async()=>(await new Promise(e=>setTimeout(e,100)),at.upcomingInterviews)},[S]=a.useState([{id:1,type:"interview",title:"Interview Reminder",message:"Interview with Sarah Johnson in 30 minutes",time:"30 min",urgent:!0},{id:2,type:"interview",title:"Interview Reminder",message:"Interview with Mike Chen at 3:00 PM",time:"2 hours",urgent:!1},{id:3,type:"candidate",title:"New Application",message:"New candidate applied for Senior Developer",time:"1 hour",urgent:!1}]),E=()=>{const e=s.pathname.split("/").filter(Boolean),t=[];if(t.push({label:"Recruitment",path:"/app/recruiter"}),e.length>2){const a=e[2],r={dashboard:"Dashboard",candidates:"Candidates",jobs:"Jobs",interviews:"Interviews",offers:"Offers",calendar:"Calendar",analytics:"Analytics",reports:"Reports",settings:"Settings"};if(r[a]&&t.push({label:r[a],path:`/app/recruiter/${a}`}),e.length>3){const r=e[3];"add"===r?t.push({label:"candidates"===a?"Add Candidate":"Add Job",path:s.pathname}):"schedule"===r?t.push({label:"Schedule Interview",path:s.pathname}):"create"===r?t.push({label:"Create Offer",path:s.pathname}):t.push({label:"Details",path:s.pathname})}}return t},k=[{icon:y,label:"Add Candidate",action:()=>r("/app/recruiter/candidates/add"),color:"blue"},{icon:v,label:"Post Job",action:()=>r("/app/recruiter/jobs/add"),color:"green"},{icon:R,label:"Schedule Interview",action:()=>r("/app/recruiter/interviews/schedule"),color:"purple"},{icon:j,label:"Create Report",action:()=>r("/app/recruiter/reports"),color:"amber"}];a.useEffect(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&p(!1),b.current&&!b.current.contains(e.target)&&h(!1),w.current&&!w.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const _=S.filter(e=>e.urgent).length;return le.jsx("header",{className:"bg-white/95 backdrop-blur-xl border-b border-slate-200/50 px-6 py-4 shadow-sm relative",children:le.jsxs("div",{className:"flex items-center justify-between",children:[le.jsxs("div",{className:"flex items-center space-x-6",children:[le.jsx("nav",{className:"flex items-center space-x-2 text-sm",children:E().map((e,t)=>le.jsxs("div",{className:"flex items-center space-x-2",children:[t>0&&le.jsx(q,{className:"w-4 h-4 text-gray-400"}),le.jsx("button",{onClick:()=>r(e.path),className:(t===E().length-1?"text-gray-900 font-medium":"text-gray-500 hover:text-gray-700")+" transition-colors",children:e.label})]},e.path))}),le.jsxs("div",{className:"relative hidden md:block",ref:x,children:[le.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:le.jsx(B,{className:"h-4 w-4 text-slate-400"})}),le.jsx("input",{type:"text",placeholder:(()=>{switch(s.pathname){case"/app/recruiter/candidates":return"Search candidates by name, skills, position...";case"/app/recruiter/jobs":return"Search jobs by title, company, location...";case"/app/recruiter/interviews":return"Search interviews by candidate, position...";case"/app/recruiter/offers":return"Search offers by candidate, company...";default:return"Search candidates, jobs, interviews..."}})(),value:o,onChange:e=>(async e=>{if(i(e),e.trim().length>2)try{const t=await N(e);d(t),p(!0)}catch(t){d([])}else d([]),p(!1)})(e.target.value),onFocus:()=>o.length>2&&p(!0),className:"w-80 pl-10 pr-4 py-2.5 bg-slate-50/80 border border-slate-200/50 rounded-xl\n                         text-sm placeholder-slate-400\n                         focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:border-blue-300\n                         hover:bg-white/80 hover:border-slate-300/50\n                         transition-all duration-300"}),u&&c.length>0&&le.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-lg border border-gray-200 z-50 max-h-96 overflow-y-auto",children:le.jsxs("div",{className:"p-2",children:[c.candidates&&c.candidates.length>0&&le.jsxs("div",{className:"mb-4",children:[le.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide px-3 py-2",children:"Candidates"}),c.candidates.map(e=>le.jsxs("button",{onClick:()=>{r(`/app/recruiter/candidates/${e.id}`),p(!1),i("")},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[le.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:e.name.charAt(0)}),le.jsxs("div",{className:"flex-1 text-left",children:[le.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),le.jsx("p",{className:"text-xs text-gray-500",children:e.position})]})]},e.id))]}),c.jobs&&c.jobs.length>0&&le.jsxs("div",{children:[le.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide px-3 py-2",children:"Jobs"}),c.jobs.map(e=>le.jsxs("button",{onClick:()=>{r(`/app/recruiter/jobs/${e.id}`),p(!1),i("")},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[le.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center",children:le.jsx(v,{className:"w-4 h-4 text-white"})}),le.jsxs("div",{className:"flex-1 text-left",children:[le.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),le.jsxs("p",{className:"text-xs text-gray-500",children:[e.company," â€¢ ",e.location]})]})]},e.id))]})]})})]})]}),le.jsxs("div",{className:"flex items-center space-x-4",children:[le.jsxs("div",{className:"relative",ref:b,children:[le.jsxs("button",{onClick:()=>h(!m),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[le.jsx(H,{className:"w-4 h-4"}),le.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Quick Actions"})]}),m&&le.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:le.jsx("div",{className:"p-2",children:k.map((e,t)=>le.jsxs("button",{onClick:()=>{e.action(),h(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[le.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center "+("blue"===e.color?"bg-blue-100 text-blue-600":"green"===e.color?"bg-green-100 text-green-600":"purple"===e.color?"bg-purple-100 text-purple-600":"bg-amber-100 text-amber-600"),children:le.jsx(e.icon,{className:"w-4 h-4"})}),le.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.label})]},t))})})]}),le.jsxs("div",{className:"relative",ref:w,children:[le.jsxs("button",{onClick:()=>f(!g),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[le.jsx(V,{className:"w-5 h-5"}),_>0&&le.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:_})]}),g&&le.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50 max-h-96 overflow-y-auto",children:[le.jsx("div",{className:"p-4 border-b border-gray-100",children:le.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"})}),le.jsx("div",{className:"p-2",children:S.map(e=>le.jsx("div",{className:`p-3 rounded-lg mb-2 ${e.urgent?"bg-red-50 border border-red-200":"hover:bg-gray-50"} transition-colors`,children:le.jsxs("div",{className:"flex items-start space-x-3",children:[le.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+("interview"===e.type?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"),children:"interview"===e.type?le.jsx(R,{className:"w-4 h-4"}):le.jsx(y,{className:"w-4 h-4"})}),le.jsxs("div",{className:"flex-1",children:[le.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),le.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.message}),le.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.time," ago"]})]})]})},e.id))}),le.jsx("div",{className:"p-3 border-t border-gray-100",children:le.jsx("button",{className:"w-full text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All Notifications"})})]})]}),le.jsx(Ge,{})]})]})})}const it={"/app/recruiter":"Recruitment Dashboard","/app/recruiter/dashboard":"Recruitment Dashboard","/app/recruiter/candidates":"Candidates","/app/recruiter/candidates/add":"Add Candidate","/app/recruiter/candidates/duplicates":"Duplicate Management","/app/recruiter/jobs":"Jobs & Requirements","/app/recruiter/jobs/add":"Post New Job","/app/recruiter/interviews":"Interviews","/app/recruiter/interviews/schedule":"Schedule Interview","/app/recruiter/offers":"Job Offers","/app/recruiter/offers/create":"Create Offer","/app/recruiter/clients":"Client Management","/app/recruiter/clients/add":"Add New Client","/app/recruiter/calendar":"Interview Calendar","/app/recruiter/communication":"Communication & Collaboration","/app/recruiter/automation":"Workflow Automation","/app/recruiter/analytics":"Recruitment Analytics","/app/recruiter/integrations":"Integrations & API","/app/recruiter/reports":"Daily Reports","/app/recruiter/settings":"Recruitment Settings"};function lt(){const e=n(),t=l();return Qe([{keys:"r+d",callback:()=>t("/app/recruiter/dashboard"),options:{ignoreInputs:!0}},{keys:"r+c",callback:()=>t("/app/recruiter/candidates"),options:{ignoreInputs:!0}},{keys:"r+j",callback:()=>t("/app/recruiter/jobs"),options:{ignoreInputs:!0}},{keys:"r+i",callback:()=>t("/app/recruiter/interviews"),options:{ignoreInputs:!0}},{keys:"r+o",callback:()=>t("/app/recruiter/offers"),options:{ignoreInputs:!0}},{keys:"r+k",callback:()=>t("/app/recruiter/calendar"),options:{ignoreInputs:!0}},{keys:"r+a",callback:()=>t("/app/recruiter/analytics"),options:{ignoreInputs:!0}},{keys:"r+r",callback:()=>t("/app/recruiter/reports"),options:{ignoreInputs:!0}}]),le.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[le.jsx("div",{className:"flex-shrink-0",style:{zIndex:100},children:le.jsx(He,{})}),le.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[le.jsx("div",{className:"flex-shrink-0",style:{zIndex:200},children:le.jsx(ot,{title:it[e.pathname]?it[e.pathname]:e.pathname.startsWith("/app/recruiter/candidates/")&&"/app/recruiter/candidates/add"!==e.pathname?"Candidate Details":e.pathname.startsWith("/app/recruiter/jobs/")&&"/app/recruiter/jobs/add"!==e.pathname?"Job Details":e.pathname.startsWith("/app/recruiter/interviews/")&&"/app/recruiter/interviews/schedule"!==e.pathname?"Interview Details":e.pathname.startsWith("/app/recruiter/offers/")&&"/app/recruiter/offers/create"!==e.pathname?"Offer Details":e.pathname.startsWith("/app/recruiter/clients/")&&"/app/recruiter/clients/add"!==e.pathname?"Client Details":"Recruitment Dashboard"})}),le.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",style:{zIndex:10},children:le.jsx("div",{className:"p-3 lg:p-4",children:le.jsx("div",{className:"w-full max-w-none",children:le.jsx(Ue,{children:le.jsx(o,{})})})})})]})]})}const ct=({children:e})=>{const{isAuthenticated:t,isLoading:a}=ze();return a?le.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:le.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):t?e:le.jsx(c,{to:"/login",replace:!0})},dt=({children:e})=>{const{user:t,isAuthenticated:r,isLoading:s}=ze(),{showToast:n}=Je(),o="recruiter"===(null==t?void 0:t.dashboardType);return a.useEffect(()=>{o&&r&&!s&&n({type:"error",title:"Access Restricted",message:"You can only access the Recruiter Dashboard. Redirecting you now.",duration:4e3})},[o,r,s,n]),s?le.jsx("div",{className:"flex items-center justify-center min-h-screen",children:le.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?o?le.jsx(c,{to:"/app/recruiter/dashboard",replace:!0}):e:le.jsx(c,{to:"/login",replace:!0})},ut=({children:e})=>{const{user:t,isAuthenticated:r,isLoading:s}=ze(),{showToast:n}=Je(),o="recruiter"===(null==t?void 0:t.dashboardType)||"sales@crm.com"===(null==t?void 0:t.email);return a.useEffect(()=>{o||!r||s||n({type:"error",title:"Access Restricted",message:"You can only access the CRM Dashboard. Redirecting you now.",duration:4e3})},[o,r,s,n]),s?le.jsx("div",{className:"flex items-center justify-center min-h-screen",children:le.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?o?e:le.jsx(c,{to:"/app/dashboard",replace:!0}):le.jsx(c,{to:"/login",replace:!0})};const pt=new class{constructor(){this.errors=[],this.metrics={totalTrackedPages:0,successfulRestorations:0,failedRestorations:0,storageErrors:0,validationErrors:0,permissionErrors:0},this.maxErrorHistory=100,this.isMonitoring=!1}logError(e,t={}){const a={timestamp:Date.now(),error:{name:e.name,message:e.message,stack:e.stack},context:{operation:t.operation||"unknown",path:t.path,userRole:t.userRole,userId:t.userId,component:t.component,...t},id:this.generateErrorId()};return this.errors.push(a),this.errors.length>this.maxErrorHistory&&(this.errors=this.errors.slice(-this.maxErrorHistory)),this.updateMetricsFromError(e,t),this.isMonitoring,a.id}logSuccess(e,t={}){"pageTracked"===e?this.metrics.totalTrackedPages++:"pageRestored"===e&&this.metrics.successfulRestorations++,this.isMonitoring&&t.path}updateMetricsFromError(e,t){var a,r,s,n;"pageRestoration"===t.operation&&this.metrics.failedRestorations++,("QuotaExceededError"===e.name||(null==(a=e.message)?void 0:a.includes("storage")))&&this.metrics.storageErrors++,("routeValidation"===t.operation||(null==(r=e.message)?void 0:r.includes("validation")))&&this.metrics.validationErrors++,((null==(s=e.message)?void 0:s.includes("permission"))||(null==(n=e.message)?void 0:n.includes("unauthorized")))&&this.metrics.permissionErrors++}generateErrorId(){return Date.now().toString(36)+Math.random().toString(36).substr(2,5)}getHealthStatus(){const e=this.getRecentErrors(3e5).length,t=this.metrics.totalTrackedPages+this.metrics.successfulRestorations,a=t>0?this.metrics.successfulRestorations/t*100:100;let r="healthy",s=[];return e>10?(r="critical",s.push("High error rate detected")):e>5&&(r="warning",s.push("Elevated error rate")),a<80&&(r="healthy"===r?"warning":"critical",s.push("Low success rate for page restoration")),this.metrics.storageErrors>5&&(r="healthy"===r?"warning":"critical",s.push("Multiple storage errors detected")),{status:r,issues:s,metrics:{...this.metrics},recentErrorCount:e,successRate:Math.round(a),storageAvailable:Se.isAvailable(),storageInfo:Se.getStorageInfo()}}getRecentErrors(e=6e4){const t=Date.now()-e;return this.errors.filter(e=>e.timestamp>t)}getErrorStats(){const e={},t={},a={};return this.errors.forEach(r=>{const s=r.error.name||"Unknown",n=r.context.operation||"unknown",o=r.context.component||"unknown";e[s]=(e[s]||0)+1,t[n]=(t[n]||0)+1,a[o]=(a[o]||0)+1}),{totalErrors:this.errors.length,errorsByType:e,errorsByOperation:t,errorsByComponent:a,recentErrors:this.getRecentErrors().length}}async runDiagnostics(e,t){const a={timestamp:Date.now(),storage:this.diagnoseStorage(),permissions:this.diagnosePermissions(t),userContext:this.diagnoseUserContext(e,t),systemHealth:this.getHealthStatus()};return this.isMonitoring,a}diagnoseStorage(){const e={available:Se.isAvailable(),info:Se.getStorageInfo(),issues:[]};e.available||e.issues.push("No storage available");try{const t="__lastPageMemory_test__",a={test:!0,timestamp:Date.now()};Se.set(t,a)||e.issues.push("Storage write test failed");const r=Se.get(t);r&&!0===r.test||e.issues.push("Storage read test failed"),Se.remove(t)}catch(t){e.issues.push(`Storage test error: ${t.message}`)}return e}diagnosePermissions(e){const t={userRole:e,issues:[]};if(!e)return t.issues.push("No user role provided"),t;const a={};return["/app/dashboard","/app/contacts","/app/candidates","/app/team","/app/recruiter/dashboard"].forEach(r=>{try{const t=Ae(r,e);a[r]={allowed:t.allowed,reason:t.reason}}catch(s){a[r]={allowed:!1,reason:"validation_error",error:s.message},t.issues.push(`Route validation error for ${r}: ${s.message}`)}}),t.routeAccess=a,t}diagnoseUserContext(e,t){const a={userId:e,userRole:t,issues:[]};if(e||a.issues.push("No user ID provided"),t||a.issues.push("No user role provided"),e)try{const r=`lastVisitedPage_${e}`,s=Se.get(r);if(a.hasStoredData=!!s,s){a.storedData={path:s.path,timestamp:s.timestamp,userRole:s.userRole,age:Date.now()-s.timestamp},s.userId!==e&&a.issues.push("Stored data user ID mismatch"),s.userRole!==t&&a.issues.push("Stored data user role mismatch");const r=Date.now()-6048e5;s.timestamp<r&&a.issues.push("Stored data is expired")}}catch(r){a.issues.push(`Error checking stored data: ${r.message}`)}return a}reset(){this.errors=[],this.metrics={totalTrackedPages:0,successfulRestorations:0,failedRestorations:0,storageErrors:0,validationErrors:0,permissionErrors:0},this.isMonitoring}exportData(){return{timestamp:Date.now(),errors:this.errors,metrics:this.metrics,healthStatus:this.getHealthStatus(),errorStats:this.getErrorStats()}}setMonitoring(e){this.isMonitoring=e}},mt=e=>`lastVisitedPage_${e}`,ht=()=>{const{user:e}=ze(),t=a.useCallback(t=>{const a={path:t,userId:null==e?void 0:e.id,userRole:null==e?void 0:e.role,operation:"setLastPage"};try{if(!e||!e.id||!e.role)return!1;if(!t||"string"!=typeof t)return!1;const a=Le(t,e.role);if(!a.isValid)return!1;const s=a.sanitizedPath;if(s.includes("/login")||s.includes("/register")||"/"===s)return!1;if(!s.startsWith("/app/"))return!1;if(["/app/404","/app/error","/app/loading","/app/not-found"].some(e=>s.startsWith(e)))return!1;if(!_e(s,e.role))return!1;const n={path:s,timestamp:Date.now(),userRole:e.role,userId:e.id};if(!o(n))return!1;const i=mt(e.id);let l;try{l=Se.set(i,n)}catch(r){return!1}return!!l&&(pt.logSuccess("pageTracked",{path:s,userRole:e.role,userId:e.id}),!0)}catch(s){return pt.logError(s,{...a,operation:"setLastPage"}),!1}},[e]),r=a.useCallback(()=>{if(!e)return null;const t=mt(e.id),a=Se.get(t);return a?a.userId!==e.id?(Se.remove(t),null):a.path:null},[e]),s=a.useCallback(()=>{if(!e)return;const t=mt(e.id);Se.remove(t)},[e]),n=a.useCallback((t=null)=>{const a={userRole:t||(null==e?void 0:e.role),userId:null==e?void 0:e.id,operation:"getRestorablePage"};try{const a=t||(null==e?void 0:e.role);if(!a)return null;if(!(null==e?void 0:e.id))return ke(a);let p,m,h;try{p=r()}catch(n){0;try{s()}catch(i){}return ke(a)}if(!p)return null;try{m=Se.get(mt(e.id))}catch(l){0;try{s()}catch(i){}return ke(a)}if(m&&!o(m))return s(),ke(a);if(m){const e=Date.now()-6048e5;if(m.timestamp<e)return s(),ke(a);if(m.timestamp>Date.now()+3e5)return s(),ke(a)}try{h=Ae(p,a,e.id)}catch(c){return s(),ke(a)}if(!h.allowed)switch(s(),h.reason){case"role_mismatch":case"admin_required":case"insufficient_permissions":case"invalid_parameters":case"route_not_found":case"malformed_path":case"invalid_path":case"invalid_role":return h.redirectTo;default:return ke(a)}if(m&&m.userRole!==a){let t;0;try{t=Ae(p,a,e.id)}catch(d){return s(),ke(a)}if(!t.allowed)return s(),ke(a);try{const t={...m,userRole:a,timestamp:Date.now()},r=mt(e.id);Se.set(r,t);0}catch(u){0}}return pt.logSuccess("pageRestored",{path:p,userRole:a,userId:e.id}),p}catch(p){pt.logError(p,{...a,operation:"getRestorablePage"});try{s()}catch(i){}return ke(t||(null==e?void 0:e.role)||"user")}},[e,r,s]),o=e=>e&&"object"==typeof e&&"string"==typeof e.path&&"number"==typeof e.timestamp&&"string"==typeof e.userRole&&"string"==typeof e.userId&&e.path.length>0&&e.timestamp>0&&e.userRole.length>0&&e.userId.length>0,i=a.useCallback(()=>Se.isAvailable(),[]),l=a.useCallback((t,a)=>{if(!e||t===a)return;const n=r();if(n){if(Ae(n,t,e.id).allowed){const a=mt(e.id),r=Se.get(a);if(r){const e={...r,userRole:t,timestamp:Date.now()};Se.set(a,e)}}else s()}},[e,r,s]),c=a.useCallback(()=>Se.getStorageInfo(),[]),d=a.useCallback(async()=>{if(!e)return{error:"No user context available"};try{return await pt.runDiagnostics(e.id,e.role)}catch(t){return pt.logError(t,{operation:"runDiagnostics",userId:e.id,userRole:e.role}),{error:t.message}}},[e]),u=a.useCallback(()=>pt.getHealthStatus(),[]);return{setLastPage:t,getLastPage:r,clearLastPage:s,getRestorablePage:n,handleRoleChange:l,isStorageAvailable:i,getStorageInfo:c,runDiagnostics:d,getHealthStatus:u}},gt=()=>{const{user:e,isAuthenticated:t,isLoading:r,forceLogout:s,restoreLastPage:n}=ze(),{getLastPage:o,clearLastPage:i}=ht(),[l,d]=a.useState(null),[u,p]=a.useState(!0);return a.useEffect(()=>{(async()=>{try{if(r)return;const a="true"===new URLSearchParams(window.location.search).get("logout");if(t&&e){let t=null;const a=n();if(a){const r=Le(a,e.role);r.isValid&&(t=r.sanitizedPath)}if(!t){const a=o();if(a){const r=Le(a,e.role);r.isValid?t=r.sanitizedPath:i()}}if(t)d(t);else{const t=ke(e.role);d(t)}}else{if(a)s(),i();else{o();s()}d("/login")}}catch(a){const e="true"===new URLSearchParams(window.location.search).get("logout");s(),e&&i(),d("/login")}finally{p(!1)}})()},[t,e,r,s,n,o,i]),u||r?le.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:le.jsxs("div",{className:"text-center",children:[le.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),le.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]})}):l?le.jsx(c,{to:l,replace:!0}):le.jsx(c,{to:"/login",replace:!0})},ft=()=>{const e=n(),{setLastPage:t}=ht(),{user:r,isAuthenticated:s}=ze(),o=a.useRef(null),i=a.useRef(0),l=a.useRef(0),c=a.useCallback((e,t)=>{const a=Date.now();a-l.current>3e5&&(i.current=0),i.current++,l.current=a;return((e,t={})=>{(new Date).toISOString(),e.name,e.message,e.stack,t.path,t.userRole,t.userId,navigator.userAgent,window.location.href,document.referrer,performance.memory&&(performance.memory.usedJSHeapSize,performance.memory.totalJSHeapSize,performance.memory.jsHeapSizeLimit),performance.timing&&(performance.timing.loadEventEnd,performance.timing.navigationStart,performance.timing.domContentLoadedEventEnd,performance.timing.navigationStart)})(e,{path:t,userRole:null==r?void 0:r.role,userId:null==r?void 0:r.id,errorCount:i.current,component:"RouteTracker"}),!(i.current>10)},[r]);return a.useEffect(()=>{if(!s||!r)return;if(!r.id||!r.role)return;const a=e.pathname;if(o.current===a)return;if(i.current>10){if(Date.now()-l.current<3e5)return;i.current=0}let n;try{n=Le(a,r.role)}catch(d){return void c(d,a)}if(xt(a,n))try{t(a)&&(o.current=a,i.current>0&&(i.current=0))}catch(u){if(!c(u,a))return}},[e.pathname,s,r,t,c]),a.useEffect(()=>()=>{o.current=null,i.current=0,l.current=0},[]),null},xt=(e,t=null)=>{try{if(t)return t.isValid;if(e.includes("/login")||e.includes("/register")||"/"===e)return!1;if(!e.startsWith("/app/"))return!1;if(["/app/404","/app/error","/app/loading","/app/not-found","/app/unauthorized","/app/maintenance"].some(t=>e.startsWith(t)))return!1;if(e.includes("undefined")||e.includes("null")||e.includes("//"))return!1;if(["<",">",'"',"'","&","%3C","%3E"].some(t=>e.includes(t)))return!1;if(e.length>500)return!1;const a=e.split("/").filter(Boolean);if(a.length>10)return!1;for(const e of a)if(0===e.length||"."===e||".."===e)return!1;return!0}catch(a){return!1}},bt=({as:e="button",variant:t="primary",size:a="md",icon:r,loading:s=!1,disabled:n=!1,onClick:o,children:i,className:l="",type:c="button","aria-label":d,...u})=>{const p={primary:"bg-gradient-to-r from-blue-500 to-purple-600 text-white focus:ring-blue-500 shadow-lg hover:shadow-xl",secondary:"border border-gray-300 bg-white/80 backdrop-blur-sm text-gray-700 hover:text-white focus:ring-blue-500 hover:shadow-lg",ghost:"bg-transparent text-gray-700 hover:text-white focus:ring-blue-500",danger:"bg-gradient-to-r from-red-500 to-red-600 text-white focus:ring-red-500 shadow-lg hover:shadow-xl"},m={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-base gap-2",lg:"px-6 py-3 text-lg gap-2.5"},h={className:`relative inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98] overflow-hidden group ${p[t]||p.primary} ${m[a]||m.md} ${l}`,onClick:o,disabled:n||s,...u};"button"===e&&(h.type=c),!i&&d&&(h["aria-label"]=d);return le.jsxs(e,{...h,children:[(()=>{switch(t){case"primary":return le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700 to-blue-700 \n                          transform translate-y-full group-hover:translate-y-0 \n                          transition-transform duration-200 ease-out"});case"secondary":return le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 \n                          transform -translate-x-full group-hover:translate-x-0 \n                          transition-transform duration-200 ease-out"});case"ghost":return le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-500 to-gray-600 \n                          transform scale-0 group-hover:scale-100 \n                          transition-transform duration-200 ease-out rounded-xl"});case"danger":return le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-700 to-red-800 \n                          transform translate-x-full group-hover:translate-x-0 \n                          transition-transform duration-200 ease-out"});default:return null}})(),le.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[s?le.jsx(Y,{className:"animate-spin",size:"sm"===a?14:"lg"===a?20:16}):r?le.jsx("span",{className:"flex items-center",children:r}):null,i]})]})};class yt extends s.Component{constructor(e){super(e),t(this,"handleReload",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?le.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:le.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[le.jsx("div",{className:"flex justify-center mb-4",children:le.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:le.jsx(F,{className:"w-8 h-8 text-red-600"})})}),le.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),le.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try reloading the page."}),le.jsx(bt,{onClick:this.handleReload,variant:"primary",icon:le.jsx(G,{className:"w-4 h-4"}),className:"w-full",children:"Reload Page"}),!1]})}):this.props.children}}const vt=[{id:"1",name:"John Smith",email:"john.smith@techcorp.com",phone:"+1 (555) 123-4567",company:"TechCorp Inc.",status:"active",avatar:null,createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-20T14:45:00Z"},{id:"2",name:"Sarah Johnson",email:"sarah.j@innovate.com",phone:"+1 (555) 987-6543",company:"Innovate Solutions",status:"lead",avatar:null,createdAt:"2024-01-18T09:15:00Z",updatedAt:"2024-01-22T16:20:00Z"},{id:"3",name:"Michael Chen",email:"mchen@startupxyz.com",phone:"+1 (555) 456-7890",company:"StartupXYZ",status:"active",avatar:null,createdAt:"2024-01-20T11:00:00Z",updatedAt:"2024-01-25T13:30:00Z"},{id:"4",name:"Emily Davis",email:"emily.davis@globaltech.com",phone:"+1 (555) 321-0987",company:"Global Tech",status:"inactive",avatar:null,createdAt:"2024-01-12T08:45:00Z",updatedAt:"2024-01-18T10:15:00Z"},{id:"5",name:"David Wilson",email:"dwilson@futuresoft.com",phone:"+1 (555) 654-3210",company:"FutureSoft",status:"lead",avatar:null,createdAt:"2024-01-25T14:20:00Z",updatedAt:"2024-01-28T09:40:00Z"}],wt=[{id:"1",name:"Enterprise Software License",value:5e4,stage:"proposal",probability:75,contactId:"1",contactName:"John Smith",contactAvatar:null,expectedCloseDate:"2024-02-15",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-28T14:45:00Z",notes:"Client is interested in our premium package. Waiting for final approval from their board.",source:"Website",assignedTo:"Sales Rep 1"},{id:"2",name:"Cloud Migration Project",value:125e3,stage:"negotiation",probability:85,contactId:"2",contactName:"Sarah Johnson",contactAvatar:null,expectedCloseDate:"2024-02-28",createdAt:"2024-01-18T09:15:00Z",updatedAt:"2024-01-29T16:20:00Z",notes:"Technical requirements finalized. Negotiating pricing and timeline.",source:"Referral",assignedTo:"Sales Rep 2"},{id:"3",name:"Mobile App Development",value:75e3,stage:"qualified",probability:60,contactId:"3",contactName:"Michael Chen",contactAvatar:null,expectedCloseDate:"2024-03-10",createdAt:"2024-01-20T11:00:00Z",updatedAt:"2024-01-30T13:30:00Z",notes:"Initial requirements gathering completed. Preparing detailed proposal.",source:"Cold Call",assignedTo:"Sales Rep 1"},{id:"4",name:"Security Audit Service",value:25e3,stage:"closed_won",probability:100,contactId:"4",contactName:"Emily Davis",contactAvatar:null,expectedCloseDate:"2024-01-30",createdAt:"2024-01-12T08:45:00Z",updatedAt:"2024-01-30T10:15:00Z",notes:"Contract signed and project initiated. Payment received.",source:"LinkedIn",assignedTo:"Sales Rep 3"},{id:"5",name:"AI Integration Consulting",value:2e5,stage:"lead",probability:30,contactId:"5",contactName:"David Wilson",contactAvatar:null,expectedCloseDate:"2024-04-15",createdAt:"2024-01-25T14:20:00Z",updatedAt:"2024-01-30T09:40:00Z",notes:"Initial contact made. Scheduling discovery call to understand requirements.",source:"Trade Show",assignedTo:"Sales Rep 2"},{id:"6",name:"Website Redesign",value:15e3,stage:"closed_lost",probability:0,contactId:"1",contactName:"John Smith",contactAvatar:null,expectedCloseDate:"2024-01-25",createdAt:"2024-01-10T12:00:00Z",updatedAt:"2024-01-25T15:30:00Z",notes:"Client decided to go with a different vendor due to budget constraints.",source:"Website",assignedTo:"Sales Rep 1"},{id:"7",name:"Data Analytics Platform",value:18e4,stage:"qualified",probability:70,contactId:"2",contactName:"Sarah Johnson",contactAvatar:null,expectedCloseDate:"2024-03-20",createdAt:"2024-01-28T14:30:00Z",updatedAt:"2024-01-30T11:15:00Z",notes:"Demo completed successfully. Client impressed with our analytics capabilities.",source:"Referral",assignedTo:"Sales Rep 3"},{id:"8",name:"CRM Implementation",value:95e3,stage:"proposal",probability:65,contactId:"3",contactName:"Michael Chen",contactAvatar:null,expectedCloseDate:"2024-03-05",createdAt:"2024-01-22T09:45:00Z",updatedAt:"2024-01-30T16:30:00Z",notes:"Proposal submitted. Waiting for client feedback on customization requirements.",source:"Cold Email",assignedTo:"Sales Rep 1"}],jt={totalContacts:vt.length,activeDeals:wt.filter(e=>!["closed_won","closed_lost"].includes(e.stage)).length,totalRevenue:wt.filter(e=>"closed_won"===e.stage).reduce((e,t)=>e+t.value,0),conversionRate:67,contactsTrend:12,dealsTrend:-5,revenueTrend:23,conversionTrend:8,recentActivities:[{id:"1",type:"deal_won",title:"Deal closed successfully",description:"Security Audit Service - $25,000",timestamp:"2024-01-30T10:15:00Z"},{id:"2",type:"contact_added",title:"New contact added",description:"David Wilson from FutureSoft",timestamp:"2024-01-25T14:20:00Z"},{id:"3",type:"deal_updated",title:"Deal stage updated",description:"Cloud Migration Project moved to Negotiation",timestamp:"2024-01-29T16:20:00Z"},{id:"4",type:"contact_updated",title:"Contact information updated",description:"Michael Chen contact details updated",timestamp:"2024-01-25T13:30:00Z"}]},Nt=(e=500)=>new Promise(t=>setTimeout(t,e)),Rt={"POST /auth/login":async e=>{await Nt(500);const{email:t,password:a}=e,r=[{email:"admin@crm.com",password:"admin123",name:"Admin User",role:"admin"},{email:"sales@crm.com",password:"sales123",name:"Sales User",role:"user"},{email:"demo@crm.com",password:"demo123",name:"Demo User",role:"user"}].find(e=>e.email===t&&e.password===a);if(!r)throw new Error("Invalid credentials");return{data:{token:"demo-token-"+Date.now(),user:{id:"demo-user-"+r.role,name:r.name,email:r.email,avatar:null,role:r.role,isDemo:!0}}}},"GET /auth/me":async()=>(await Nt(300),{data:{id:"demo-user",name:"Demo User",email:"demo@crm.com",avatar:null,role:"user",isDemo:!0}}),"GET /contacts":async()=>(await Nt(500),{data:vt}),"GET /contacts/:id":async e=>{await Nt(300);const t=vt.find(t=>t.id===e);if(!t)throw new Error("Contact not found");return{data:t}},"POST /contacts":async e=>{await Nt(400);const t={id:Date.now().toString(),...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return vt.push(t),{data:t}},"PUT /contacts/:id":async(e,t)=>{await Nt(400);const a=vt.findIndex(t=>t.id===e);if(-1===a)throw new Error("Contact not found");return vt[a]={...vt[a],...t,updatedAt:(new Date).toISOString()},{data:vt[a]}},"DELETE /contacts/:id":async e=>{await Nt(300);const t=vt.findIndex(t=>t.id===e);if(-1===t)throw new Error("Contact not found");return vt.splice(t,1),{data:{message:"Contact deleted successfully"}}},"GET /deals":async()=>(await Nt(500),{data:wt}),"GET /deals/:id":async e=>{await Nt(300);const t=wt.find(t=>t.id===e);if(!t)throw new Error("Deal not found");return{data:t}},"POST /deals":async e=>{await Nt(400);const t={id:Date.now().toString(),...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return wt.push(t),{data:t}},"PUT /deals/:id":async(e,t)=>{await Nt(400);const a=wt.findIndex(t=>t.id===e);if(-1===a)throw new Error("Deal not found");return wt[a]={...wt[a],...t,updatedAt:(new Date).toISOString()},{data:wt[a]}},"DELETE /deals/:id":async e=>{await Nt(300);const t=wt.findIndex(t=>t.id===e);if(-1===t)throw new Error("Deal not found");return wt.splice(t,1),{data:{message:"Deal deleted successfully"}}},"GET /dashboard/stats":async()=>(await Nt(400),{data:jt}),"GET /dashboard/metrics":async()=>(await Nt(400),{data:{...jt,pipelineValue:wt.filter(e=>!["closed_won","closed_lost"].includes(e.stage)).reduce((e,t)=>e+t.value,0),avgDealSize:wt.length?wt.reduce((e,t)=>e+t.value,0)/wt.length:0,conversionRate:wt.length?wt.filter(e=>"closed_won"===e.stage).length/wt.length*100:0,activitiesThisWeek:24,upcomingTasks:8,overdueItems:3}}),"PUT /users/me":async e=>(await Nt(400),{data:{id:"demo-user",name:e.name||"Demo User",email:e.email||"demo@crm.com",avatar:e.avatar||null,role:"user",isDemo:!0,...e}}),"GET /calendar/events":async()=>(await Nt(400),{data:[{id:"1",title:"Sales Call with TechCorp",type:"call",date:"2024-02-15",time:"10:00",duration:60,attendees:["John Smith"],companyName:"TechCorp Inc.",dealName:"Enterprise Software License",location:"Phone Call",description:"Discuss pricing and implementation timeline",status:"scheduled",priority:"high"},{id:"2",title:"Product Demo - Cloud Migration",type:"meeting",date:"2024-02-16",time:"14:30",duration:90,attendees:["Sarah Johnson","Mike Wilson"],companyName:"Innovate Solutions",dealName:"Cloud Migration Project",location:"Conference Room A",description:"Demonstrate our cloud migration capabilities",status:"scheduled",priority:"high"}]}),"POST /calendar/events":async e=>(await Nt(400),{data:{id:Date.now().toString(),...e,status:"scheduled",createdAt:(new Date).toISOString()}}),"POST /auth/logout":async()=>(await Nt(200),{data:{message:"Logged out successfully"}}),"POST /auth/register":async e=>{await Nt(500);const{name:t,email:a,password:r}=e;if(vt.find(e=>e.email===a))throw new Error("Email already exists");return{data:{token:"demo-token-"+Date.now(),user:{id:"demo-user-"+Date.now(),name:t,email:a,avatar:null,role:"user",isDemo:!0}}}},"PATCH /deals/:id/stage":async(e,t)=>{await Nt(300);const a=wt.findIndex(t=>t.id===e);if(-1===a)throw new Error("Deal not found");return wt[a]={...wt[a],stage:t.stage,updatedAt:(new Date).toISOString()},{data:wt[a]}},"PUT /users/me/password":async e=>(await Nt(400),{data:{message:"Password updated successfully"}}),"PUT /users/me/preferences":async e=>(await Nt(400),{data:{message:"Preferences updated successfully"}}),"GET /":async()=>(await Nt(200),{data:{message:"Demo API is working"}}),"GET /health":async()=>(await Nt(100),{data:{status:"ok",mode:"demo"}})},St=(e,t)=>{const a=e.replace(/^\/|\/$/g,""),r=t.replace(/^\/|\/$/g,""),s=a?a.split("/"):[],n=r?r.split("/"):[];if(s.length!==n.length)return null;const o={};for(let i=0;i<s.length;i++){const e=s[i],t=n[i];if(e.startsWith(":"))o[e.slice(1)]=t;else if(e!==t)return null}return o},Et=()=>"true"===localStorage.getItem("isDemoMode"),kt=m.create({baseURL:"http://localhost:3000/api",headers:{"Content-Type":"application/json"},timeout:1e4}),_t=e=>{if(!navigator.onLine)return"You appear to be offline. Please check your internet connection.";if("ECONNABORTED"===e.code||"Network Error"===e.message)return"Network error. Please check your connection and try again.";if("ECONNABORTED"===e.code&&e.message.includes("timeout"))return"Request timed out. Please try again.";if(e.response){const{status:t,data:a}=e.response;if(null==a?void 0:a.message)return a.message;switch(t){case 400:return"Invalid request. Please check your input and try again.";case 401:return"Authentication failed. Please log in again.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 409:return"This action conflicts with existing data.";case 422:return"The provided data is invalid.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:return"Server error. Please try again later.";case 502:case 503:case 504:return"Service temporarily unavailable. Please try again later.";default:return`An error occurred (${t}). Please try again.`}}return"An unexpected error occurred. Please try again."};kt.interceptors.request.use(e=>{const t=localStorage.getItem("authToken"),a="true"===localStorage.getItem("isDemoMode");return t&&(e.headers.Authorization=`Bearer ${t}`),a&&(e.headers["X-Demo-Mode"]="true"),e},e=>Promise.reject(e)),kt.interceptors.response.use(e=>e,async e=>{var t,a;const r="true"===localStorage.getItem("isDemoMode");if(r&&e.config&&!e.config.__isRetryRequest)try{const t=e.config.method.toUpperCase();let a=e.config.url;a.includes(e.config.baseURL)&&(a=a.replace(e.config.baseURL,"")),a.startsWith("/api")&&(a=a.replace("/api","")),a.startsWith("/")||(a="/"+a);const r=await(async(t,a,r)=>{if("true"!==localStorage.getItem("isDemoMode"))return null;for(const[s,n]of Object.entries(Rt)){const[o,i]=s.split(" ");if(o===t){const t=St(i,a);if(null!==t)try{const e=Object.values(t);return await n(...e,r)}catch(e){throw{response:{status:400,data:{message:e.message}}}}}}throw{response:{status:404,data:{message:`Demo API endpoint not found: ${t} ${a}`}}}})(t,a,e.config.data);return{data:r.data,status:200,statusText:"OK",headers:{},config:e.config}}catch(n){}if(401===(null==(t=e.response)?void 0:t.status)&&!r)return localStorage.removeItem("authToken"),localStorage.removeItem("isDemoMode"),window.location.href="/login",Promise.reject(e);const s={...e,userMessage:_t(e),isNetworkError:!e.response,isOffline:!navigator.onLine,canRetry:(null==(a=e.response)?void 0:a.status)>=500||!e.response};return Promise.reject(s)});const Dt=()=>{const{showToast:e}=Je(),t=(t,a={})=>{const{defaultMessage:r="An error occurred",showRetry:s=!1,onRetry:n=null}=a,o=t.userMessage||t.message||r;e("error",o),s&&t.canRetry},a=async(r,s={})=>{const{loadingMessage:n,successMessage:o,errorMessage:i,showRetry:l=!1,enableRetry:c=!1,maxRetries:d=2}=s;try{n&&e("info",n),navigator.onLine||(e("info","Waiting for internet connection..."),await new Promise(e=>{if(navigator.onLine)e();else{const t=()=>{window.removeEventListener("online",t),e()};window.addEventListener("online",t)}}),e("success","Connection restored!"));const t=c?await(async(e,t=2,a=1e3)=>{var r,s,n,o;let i;for(let c=0;c<=t;c++)try{return await e()}catch(l){if(i=l,(null==(r=l.response)?void 0:r.status)>=400&&(null==(s=l.response)?void 0:s.status)<500&&408!==(null==(n=l.response)?void 0:n.status)&&429!==(null==(o=l.response)?void 0:o.status))break;if(c===t)break;await new Promise(e=>setTimeout(e,a*Math.pow(2,c)))}throw i})(r,d):await r();return o&&e("success",o),t}catch(u){throw t(u,{defaultMessage:i,showRetry:l,onRetry:c?()=>a(r,s):null}),u}};return{handleError:t,executeWithErrorHandling:a,showOfflineNotification:()=>{e("error","You are currently offline. Some features may not work properly.")},showOnlineNotification:()=>{e("success","Connection restored! You are back online.")}}},At=()=>{const{showOfflineNotification:e,showOnlineNotification:t}=Dt();return a.useEffect(()=>{const a=()=>{t()},r=()=>{e()};return window.addEventListener("online",a),window.addEventListener("offline",r),navigator.onLine||e(),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}},[e,t]),null},It=({width:e="100%",height:t="1rem",className:a="",...r})=>{const s={width:"number"==typeof e?`${e}px`:e,height:"number"==typeof t?`${t}px`:t};return le.jsx("div",{className:`animate-pulse bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 bg-[length:200%_100%] rounded ${a}`,style:s,...r,children:le.jsx("style",{children:"\n        @keyframes shimmer {\n          0% {\n            background-position: -200% 0;\n          }\n          100% {\n            background-position: 200% 0;\n          }\n        }\n        .animate-pulse {\n          animation: shimmer 1.5s ease-in-out infinite;\n        }\n      "})})},Ct=a.memo(()=>{const[e,t]=a.useState(!0);return a.useEffect(()=>{if(Et()){const e=setTimeout(()=>{t(!1)},2e3);return()=>clearTimeout(e)}},[]),Et()&&e?le.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-center py-2 px-4 z-50 shadow-lg animate-slide-down",children:le.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[le.jsx("span",{className:"text-lg",children:"ðŸš€"}),le.jsx("span",{className:"font-medium",children:"Demo Mode Active"}),le.jsx("span",{className:"text-sm opacity-90",children:"- All data is simulated for demonstration"}),le.jsx("button",{onClick:()=>t(!1),className:"ml-4 text-white hover:text-yellow-200 transition-colors","aria-label":"Close demo mode indicator",children:"âœ•"})]})}):null}),Tt=a.lazy(()=>X(()=>import("./Login-B1_1-CxI.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Pt=a.lazy(()=>X(()=>import("./Dashboard-CyM9bmkw.js"),__vite__mapDeps([7,1,8,6,4,5]))),Lt=a.lazy(()=>X(()=>import("./Contacts-D5_XCwYe.js"),__vite__mapDeps([9,1,10,11,12,6,3,13,14,2,4,5]))),Ot=a.lazy(()=>X(()=>import("./ContactDetails-CGpWHBAN.js"),__vite__mapDeps([15,1,16,11,10,13,6,3,14,2,4,5]))),Mt=a.lazy(()=>X(()=>import("./Jobs-CCIza69F.js"),__vite__mapDeps([17,1,12,4,6,5]))),zt=a.lazy(()=>X(()=>import("./Companies-BaCNYV8v.js"),__vite__mapDeps([18,1,10,11,12,19,4,6,5]))),$t=a.lazy(()=>X(()=>import("./Calendar-B0Gk7ThT.js"),__vite__mapDeps([20,1,6,4,5]))),Vt=a.lazy(()=>X(()=>import("./Tasks-CPR-4TGw.js"),__vite__mapDeps([21,1,6,4,5]))),Wt=a.lazy(()=>X(()=>import("./Candidates-Dq6Ak7yU.js"),__vite__mapDeps([22,1,12,23,4,6,24,25,5]))),Jt=a.lazy(()=>X(()=>import("./AddCandidate-5VFXvnSX.js"),__vite__mapDeps([26,1,4,6,5]))),Ut=a.lazy(()=>X(()=>import("./AddClient-BDgNTN1G.js"),__vite__mapDeps([27,1,4,6,5]))),Zt=a.lazy(()=>X(()=>import("./AddJob-qIr541ff.js"),__vite__mapDeps([28,1,4,6,5]))),Bt=a.lazy(()=>X(()=>import("./Settings-2iD9lI1B.js"),__vite__mapDeps([29,1,16,3,6,4,5]))),qt=a.lazy(()=>X(()=>import("./Profile-BP1mjwM2.js"),__vite__mapDeps([30,1,16,10,11,6,4,5]))),Ht=a.lazy(()=>X(()=>import("./Team-Be-PnHPD.js"),__vite__mapDeps([31,1,16,3,12,4,6,5]))),Yt=a.lazy(()=>X(()=>import("./AddMember-CFcHOCRg.js"),__vite__mapDeps([32,1,16,3,4,6,5]))),Ft=a.lazy(()=>X(()=>import("./EmailAutomation-t6VDuf7l.js"),__vite__mapDeps([33,1,4,6,5]))),Gt=a.lazy(()=>X(()=>import("./ReminderSystem-D9z7pIFR.js"),__vite__mapDeps([34,1,4,6,5]))),Kt=a.lazy(()=>X(()=>import("./AutomationDashboard-CMZkpBbZ.js"),__vite__mapDeps([35,1,4,6,5]))),Xt=a.lazy(()=>X(()=>import("./NotFound-CRKlBLC4.js"),__vite__mapDeps([36,4,1,6,5]))),Qt=a.lazy(()=>X(()=>import("./ComingSoon-s66vMaM_.js"),__vite__mapDeps([37,1,4,6,5]))),ea=a.lazy(()=>X(()=>import("./AnalyticsDashboard-BdTWsAEL.js"),__vite__mapDeps([38,1,16,6,4,5]))),ta=a.lazy(()=>X(()=>import("./CSVImport-BHWOJ68s.js"),__vite__mapDeps([39,1,25,6,4,5]))),aa=a.lazy(()=>X(()=>import("./CSVExport-Cmkccbdo.js"),__vite__mapDeps([40,1,25,4,6,5]))),ra=a.lazy(()=>X(()=>import("./RecruiterDashboard-B_ea4573.js"),__vite__mapDeps([41,8,1,6,4,5]))),sa=a.lazy(()=>X(()=>import("./RecruiterCandidates-CD2t7kEa.js"),__vite__mapDeps([42,1,12,23,4,6,24,25,13,43,5]))),na=a.lazy(()=>X(()=>import("./RecruiterAddCandidate-BXF0wYau.js"),__vite__mapDeps([44,1,45,43,6,4,5]))),oa=a.lazy(()=>X(()=>import("./RecruiterClients-DahqDhWJ.js"),__vite__mapDeps([46,1,4,6,5]))),ia=a.lazy(()=>X(()=>import("./RecruiterClientDetail-BBil_xJn.js"),__vite__mapDeps([47,1,4,6,5]))),la=a.lazy(()=>X(()=>import("./RecruiterAddClient-B9aEchJn.js"),__vite__mapDeps([48,1,4,6,5]))),ca=a.lazy(()=>X(()=>import("./RecruiterCalendar-C4Z8kuW6.js"),__vite__mapDeps([49,1,50,4,6,5]))),da=a.lazy(()=>X(()=>import("./RecruiterScheduleInterview-CHjqSlgd.js"),__vite__mapDeps([51,1,4,6,5]))),ua=a.lazy(()=>X(()=>import("./RecruiterInterviews-Bh7347ut.js"),__vite__mapDeps([52,1,50,6,4,5]))),pa=a.lazy(()=>X(()=>import("./RecruiterOffers-DXzOusbb.js"),__vite__mapDeps([53,1,19,6,23,4,5]))),ma=a.lazy(()=>X(()=>import("./RecruiterDuplicateManagement-DWqq2_1O.js"),__vite__mapDeps([54,1,45,43,6,4,5]))),ha=a.lazy(()=>X(()=>import("./RecruiterWorkflowAutomation-Bgpv1bvN.js"),__vite__mapDeps([55,1,13,6,4,5]))),ga=a.lazy(()=>X(()=>import("./RecruiterAdvancedAnalytics-FRxrpXJa.js"),__vite__mapDeps([56,1,16,11,8,19,6,4,5]))),fa=a.lazy(()=>X(()=>import("./RecruiterCommunication-DDtSovpg.js"),__vite__mapDeps([57,1,6,4,5]))),xa=a.lazy(()=>X(()=>import("./IntegrationsPage-CiElqbjq.js"),__vite__mapDeps([58,1,6,4,5]))),ba=a.memo(()=>le.jsx("div",{className:"flex items-center justify-center min-h-screen",children:le.jsxs("div",{className:"text-center",children:[le.jsx(It,{width:"200px",height:"24px",className:"mb-4"}),le.jsx(It,{width:"300px",height:"16px",className:"mb-2"}),le.jsx(It,{width:"250px",height:"16px"})]})}));function ya(){return le.jsx(yt,{children:le.jsx(d,{children:le.jsx(Me,{children:le.jsxs(We,{children:[le.jsx(Ct,{}),le.jsx(At,{}),le.jsx(ft,{}),le.jsx(a.Suspense,{fallback:le.jsx(ba,{}),children:le.jsxs(u,{children:[le.jsx(p,{path:"/",element:le.jsx(gt,{})}),le.jsx(p,{element:le.jsx(Ze,{}),children:le.jsx(p,{path:"/login",element:le.jsx(Tt,{})})}),le.jsxs(p,{path:"/app",element:le.jsx(ct,{children:le.jsx(dt,{children:le.jsx(tt,{})})}),children:[le.jsx(p,{path:"dashboard",element:le.jsx(Pt,{})}),le.jsx(p,{path:"candidates",element:le.jsx(Wt,{})}),le.jsx(p,{path:"candidates/add",element:le.jsx(Jt,{})}),le.jsx(p,{path:"contacts",element:le.jsx(Lt,{})}),le.jsx(p,{path:"contacts/:id",element:le.jsx(Ot,{})}),le.jsx(p,{path:"jobs",element:le.jsx(Mt,{})}),le.jsx(p,{path:"jobs/add",element:le.jsx(Zt,{})}),le.jsx(p,{path:"companies",element:le.jsx(zt,{})}),le.jsx(p,{path:"companies/add",element:le.jsx(Ut,{})}),le.jsx(p,{path:"calendar",element:le.jsx($t,{})}),le.jsx(p,{path:"tasks",element:le.jsx(Vt,{})}),le.jsx(p,{path:"analytics",element:le.jsx(ea,{})}),le.jsx(p,{path:"email",element:le.jsx(Qt,{title:"Email",description:"Integrated email management system"})}),le.jsx(p,{path:"calls",element:le.jsx(Qt,{title:"Calls",description:"Call tracking and management"})}),le.jsx(p,{path:"documents",element:le.jsx(Qt,{title:"Documents",description:"Document storage and management"})}),le.jsx(p,{path:"goals",element:le.jsx(Qt,{title:"Goals",description:"Set and track your business goals"})}),le.jsx(p,{path:"projects",element:le.jsx(Qt,{title:"Projects",description:"Project management and collaboration"})}),le.jsx(p,{path:"team",element:le.jsx(Ht,{})}),le.jsx(p,{path:"team/add",element:le.jsx(Yt,{})}),le.jsx(p,{path:"automation",element:le.jsx(Kt,{})}),le.jsx(p,{path:"email-automation",element:le.jsx(Ft,{})}),le.jsx(p,{path:"reminders",element:le.jsx(Gt,{})}),le.jsx(p,{path:"csv-import",element:le.jsx(ta,{})}),le.jsx(p,{path:"csv-export",element:le.jsx(aa,{})}),le.jsx(p,{path:"profile",element:le.jsx(qt,{})}),le.jsx(p,{path:"settings",element:le.jsx(Bt,{})})]}),le.jsxs(p,{path:"/app/recruiter",element:le.jsx(ut,{children:le.jsx(lt,{})}),children:[le.jsx(p,{index:!0,element:le.jsx(ra,{})}),le.jsx(p,{path:"dashboard",element:le.jsx(ra,{})}),le.jsx(p,{path:"candidates",element:le.jsx(sa,{})}),le.jsx(p,{path:"candidates/add",element:le.jsx(na,{})}),le.jsx(p,{path:"candidates/duplicates",element:le.jsx(ma,{})}),le.jsx(p,{path:"clients",element:le.jsx(oa,{})}),le.jsx(p,{path:"clients/add",element:le.jsx(la,{})}),le.jsx(p,{path:"clients/:id",element:le.jsx(ia,{})}),le.jsx(p,{path:"jobs",element:le.jsx(Qt,{title:"Jobs",description:"Job posting and management"})}),le.jsx(p,{path:"interviews",element:le.jsx(ua,{})}),le.jsx(p,{path:"offers",element:le.jsx(pa,{})}),le.jsx(p,{path:"calendar",element:le.jsx(ca,{})}),le.jsx(p,{path:"calendar/schedule",element:le.jsx(da,{})}),le.jsx(p,{path:"automation",element:le.jsx(ha,{})}),le.jsx(p,{path:"analytics",element:le.jsx(ga,{})}),le.jsx(p,{path:"communication",element:le.jsx(fa,{})}),le.jsx(p,{path:"integrations",element:le.jsx(xa,{})}),le.jsx(p,{path:"reports",element:le.jsx(Qt,{title:"Reports",description:"Daily reporting system"})}),le.jsx(p,{path:"csv-import",element:le.jsx(ta,{})}),le.jsx(p,{path:"csv-export",element:le.jsx(aa,{})})]}),le.jsx(p,{path:"*",element:le.jsx(Xt,{})})]})})]})})})})}X(()=>import("./final-optimizations-IMy1NYqo.js"),[]),ce.createRoot(document.getElementById("root")).render(le.jsx(s.StrictMode,{children:le.jsx(ya,{})}));export{bt as B,ye as C,xe as E,ve as I,be as J,It as S,Je as a,Xe as b,Dt as c,kt as d,rt as e,st as f,nt as g,le as j,ze as u};
