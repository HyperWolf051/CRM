import{J as e,E as a,j as t,B as s}from"./index-ttUf3tF4.js";import{r as l}from"./react-vendor-DD48japz.js";import{E as r}from"./EmptyState-nX7VcrPq.js";import{a as i}from"./router-vendor-CZVZXlDA.js";import{P as n,T as d,E as o,U as c,u as x,o as m,W as g,z as h,B as p,M as u,O as y,Y as j}from"./icons-vendor-RT1IJ55c.js";import"./http-vendor-ei4kQ0Q2.js";function b(){const b=i(),[f,N]=l.useState([]),[v,w]=l.useState([]),[S,C]=l.useState(!0),[k,T]=l.useState(null);l.useEffect(()=>{A()},[]);const A=async()=>{try{C(!0),T(null);const[t,s]=await Promise.all([e.getAll(),a.getAll()]);t.success?N(Array.isArray(t.data)?t.data:[]):N(D),s.success?w(Array.isArray(s.data)?s.data:[]):w([]),t.success||s.success||T("Failed to load data. Please try again.")}catch(t){T("Failed to load jobs. Please try again."),N(D),w([])}finally{C(!1)}},D=[{id:1,title:"Senior React Developer",employerId:1,location:"Bengaluru, Karnataka",employmentType:"Full-time",minSalary:18e5,maxSalary:25e5,description:"We are looking for a Senior React Developer to join our growing team...",qualification:"5+ years React experience, TypeScript, Node.js, AWS",closingDate:new Date(Date.now()+1296e6).toISOString().split("T")[0]}],[L,P]=l.useState("grid"),[F,E]=l.useState(""),[J,M]=l.useState("all"),[I,Y]=l.useState("all"),[R,B]=l.useState("all"),[U,$]=l.useState(!1),K=[{id:"all",name:"All Jobs",count:f.length,color:"bg-gray-100 text-gray-800"},{id:"active",name:"Active",count:f.filter(e=>"active"===e.status).length,color:"bg-green-100 text-green-800"},{id:"paused",name:"Paused",count:f.filter(e=>"paused"===e.status).length,color:"bg-yellow-100 text-yellow-800"},{id:"closed",name:"Closed",count:f.filter(e=>"closed"===e.status).length,color:"bg-red-100 text-red-800"}],W=f.filter(e=>{const a=v.find(a=>a.id===e.employerId),t=(null==a?void 0:a.name)||"Unknown Company",s=e.title.toLowerCase().includes(F.toLowerCase())||t.toLowerCase().includes(F.toLowerCase())||e.location.toLowerCase().includes(F.toLowerCase()),l="all"===I||e.employmentType===I,r="all"===R||e.location===R;return s&&l&&r}),H=f.length,O=f.filter(e=>"active"===e.status).length,q=f.reduce((e,a)=>e+(a.applicants||0),0),z=f.length?q/f.length:0,G=()=>{b("/app/jobs/add")},Q=async a=>{if(window.confirm("Are you sure you want to delete this job posting?"))try{C(!0),await e.delete(a),await A(),alert("Job deleted successfully!")}catch(t){alert("Failed to delete job. Please try again.")}finally{C(!1)}};return t.jsx("div",{className:"min-h-full bg-gradient-to-br from-slate-50 to-blue-50",children:t.jsx("div",{className:"space-y-6 animate-fade-in",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Jobs Management"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage job postings, track applicants, and streamline hiring"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>P("grid"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+("grid"===L?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Grid"}),t.jsx("button",{onClick:()=>P("table"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+("table"===L?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Table"}),t.jsxs("button",{onClick:G,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg text-sm font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2",children:[t.jsx(n,{className:"w-4 h-4"}),t.jsx("span",{children:"Add Job"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(d,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(o,{className:"w-6 h-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Applicants"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(c,{className:"w-6 h-6 text-purple-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Applicants"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.round(z)})]}),t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx(x,{className:"w-6 h-6 text-orange-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:K.map(e=>t.jsxs("button",{onClick:()=>M(e.id),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(J===e.id?e.color+" shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[e.name," (",e.count,")"]},e.id))}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Search jobs, companies, locations...",value:F,onChange:e=>E(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900 w-full"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>$(!U),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2 "+(U?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[t.jsx(g,{className:"w-4 h-4"}),t.jsx("span",{children:"Filters"})]}),t.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-600 hover:bg-gray-200 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2",children:[t.jsx(h,{className:"w-4 h-4"}),t.jsx("span",{children:"Export"})]})]})]}),U&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Type"}),t.jsx("select",{value:I,onChange:e=>Y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900",children:[{id:"all",name:"All Types"},{id:"Full-time",name:"Full-time"},{id:"Part-time",name:"Part-time"},{id:"Contract",name:"Contract"},{id:"Internship",name:"Internship"}].map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),t.jsx("select",{value:R,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900",children:[{id:"all",name:"All Locations"},{id:"remote",name:"Remote"},{id:"Bengaluru, Karnataka",name:"Bengaluru, Karnataka"},{id:"Mumbai, Maharashtra",name:"Mumbai, Maharashtra"},{id:"Delhi, NCR",name:"Delhi, NCR"},{id:"Hyderabad, Telangana",name:"Hyderabad, Telangana"},{id:"Chennai, Tamil Nadu",name:"Chennai, Tamil Nadu"},{id:"Pune, Maharashtra",name:"Pune, Maharashtra"}].map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:()=>{Y("all"),B("all"),E("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-lg hover:bg-gray-100 transition-all duration-200",children:"Clear Filters"})})]})]}),0===W.length?t.jsx(r,{icon:t.jsx(p,{className:"w-16 h-16"}),title:"No jobs found",description:F||"all"!==J||"all"!==I||"all"!==R?"No jobs match your current filters. Try adjusting your search criteria.":"You haven't posted any jobs yet. Start building your talent pipeline by posting your first job opening.",action:t.jsx(s,{variant:"primary",icon:t.jsx(n,{className:"w-4 h-4"}),onClick:G,children:"Post Your First Job"})}):"grid"===L?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map(e=>{const a=v.find(a=>a.id===e.employerId),s=(null==a?void 0:a.name)||"Unknown Company",l=e.minSalary&&e.maxSalary?`₹${(e.minSalary/1e5).toFixed(1)}L - ₹${(e.maxSalary/1e5).toFixed(1)}L`:"Salary not specified";return t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 cursor-pointer hover:scale-[1.02]",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),t.jsx("p",{className:"text-gray-600 text-sm",children:s})]})}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(u,{className:"w-4 h-4 mr-2"}),e.location||"Location not specified"]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(x,{className:"w-4 h-4 mr-2"}),l]}),e.minExperienceYears&&e.maxExperienceYears&&t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(c,{className:"w-4 h-4 mr-2"}),e.minExperienceYears,"-",e.maxExperienceYears," years experience"]})]}),e.closingDate&&t.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:t.jsxs("span",{children:["Deadline: ",new Date(e.closingDate).toLocaleDateString()]})}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:e.employmentType}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:a=>{a.stopPropagation(),Q(e.id)},className:"p-1 text-gray-400 hover:text-red-600",children:t.jsx(y,{className:"w-4 h-4"})}),t.jsx("button",{onClick:e=>{e.stopPropagation()},className:"p-1 text-gray-400 hover:text-green-600",children:t.jsx(j,{className:"w-4 h-4"})})]})]})})]},e.id)})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Job Title"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Company"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Location"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Type"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Salary"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),t.jsx("tbody",{children:W.map(e=>{const a=v.find(a=>a.id===e.employerId),s=(null==a?void 0:a.name)||"Unknown Company",l=e.minSalary&&e.maxSalary?`₹${(e.minSalary/1e5).toFixed(1)}L - ₹${(e.maxSalary/1e5).toFixed(1)}L`:"Not specified";return t.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",children:[t.jsx("td",{className:"py-4 px-4",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:e.title}),e.closingDate&&t.jsxs("div",{className:"text-sm text-gray-500",children:["Deadline: ",new Date(e.closingDate).toLocaleDateString()]})]})}),t.jsx("td",{className:"py-4 px-4",children:t.jsx("div",{className:"text-gray-900",children:s})}),t.jsx("td",{className:"py-4 px-4",children:t.jsx("div",{className:"text-gray-900",children:e.location||"Not specified"})}),t.jsx("td",{className:"py-4 px-4",children:t.jsx("div",{className:"text-gray-900",children:e.employmentType})}),t.jsx("td",{className:"py-4 px-4",children:t.jsx("div",{className:"text-gray-900",children:l})}),t.jsx("td",{className:"py-4 px-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:e=>{e.stopPropagation()},className:"p-1 text-gray-400 hover:text-blue-600",children:t.jsx(j,{className:"w-4 h-4"})}),t.jsx("button",{onClick:a=>{a.stopPropagation(),Q(e.id)},className:"p-1 text-gray-400 hover:text-red-600",children:t.jsx(y,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]})]})})})}export{b as default};
