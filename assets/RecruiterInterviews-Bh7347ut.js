import{j as e}from"./index-CovdTvDO.js";import{r as s,b as t}from"./react-vendor-DD48japz.js";import{u as l}from"./useInterviews-B1pbTDF1.js";import{r as a,C as n,U as r,V as i,E as o,y as d,X as c,ac as u,a as x,c as m,l as b,Q as h,p,_ as g,a1 as j,B as v,ab as f,a0 as N,e as w,j as y,Y as C}from"./icons-vendor-Cvv-27T5.js";import{a as k}from"./router-vendor-CA0F1SnT.js";import"./http-vendor-ei4kQ0Q2.js";const S={phone:{name:"Phone Interview",icon:o,color:"bg-blue-500",description:"Audio call interview"},video:{name:"Video Interview",icon:i,color:"bg-green-500",description:"Video conference interview"},"in-person":{name:"In-Person Interview",icon:r,color:"bg-purple-500",description:"Face-to-face interview"}},I={low:{name:"Low",color:"bg-gray-100 text-gray-700"},medium:{name:"Medium",color:"bg-blue-100 text-blue-700"},high:{name:"High",color:"bg-orange-100 text-orange-700"},urgent:{name:"Urgent",color:"bg-red-100 text-red-700"}},D=({isOpen:l,onClose:r,onSchedule:i,selectedDate:o,candidateId:d,jobId:c,existingInterview:u})=>{const[x,m]=s.useState({candidateId:d||"",candidateName:"",jobId:c||"",jobTitle:"",client:"",type:"video",scheduledDate:o?o.toISOString().split("T")[0]:"",scheduledTime:"10:00",duration:60,interviewer:{id:"",name:"",email:"",role:""},location:"",meetingLink:"",notes:"",round:1,priority:"medium"}),[b,h]=s.useState({}),[p,g]=s.useState(!1),j=[{id:"1",name:"Tanishka Negi",jobTitle:"Senior React Developer"},{id:"2",name:"Rahul Sharma",jobTitle:"Product Manager"},{id:"3",name:"Priya Patel",jobTitle:"UI/UX Designer"},{id:"4",name:"Alex Wilson",jobTitle:"DevOps Engineer"},{id:"5",name:"Maria Garcia",jobTitle:"Senior React Developer"}],v=[{id:"1",title:"Senior React Developer",client:"TechCorp Solutions"},{id:"2",title:"Product Manager",client:"StartupXYZ"},{id:"3",title:"UI/UX Designer",client:"Design Studio Pro"},{id:"4",title:"DevOps Engineer",client:"CloudTech Inc"}],f=[{id:"1",name:"John Doe",email:"john@techcorp.com",role:"Technical Lead"},{id:"2",name:"Jane Smith",email:"jane@startupxyz.com",role:"VP Product"},{id:"3",name:"Mike Johnson",email:"mike@designstudio.com",role:"Design Director"},{id:"4",name:"Sarah Davis",email:"sarah@cloudtech.com",role:"DevOps Manager"}];s.useEffect(()=>{u?m({candidateId:u.candidateId,candidateName:u.candidateName,jobId:u.jobId,jobTitle:u.jobTitle,client:u.client,type:u.type,scheduledDate:u.scheduledDate.toISOString().split("T")[0],scheduledTime:u.scheduledDate.toTimeString().slice(0,5),duration:u.duration,interviewer:u.interviewer,location:u.location||"",meetingLink:u.meetingLink||"",notes:u.notes||"",round:u.round,priority:u.priority}):o&&m(e=>({...e,scheduledDate:o.toISOString().split("T")[0]}))},[u,o]);const N=(e,s)=>{if(m(t=>({...t,[e]:s})),b[e]&&h(s=>({...s,[e]:null})),"candidateId"===e){const e=j.find(e=>e.id===s);e&&m(s=>({...s,candidateName:e.name}))}if("jobId"===e){const e=v.find(e=>e.id===s);e&&m(s=>({...s,jobTitle:e.title,client:e.client}))}if("interviewerId"===e){const e=f.find(e=>e.id===s);e&&m(s=>({...s,interviewer:e}))}if("type"===e){let e="",t="";switch(s){case"phone":e="Phone";break;case"video":e="Virtual",t="https://meet.google.com/new";break;case"in-person":e="Office"}m(s=>({...s,location:e,meetingLink:t}))}};return l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl border border-slate-200/50 shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:u?"Edit Interview":"Schedule Interview"}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors duration-200",children:e.jsx(a,{className:"w-5 h-5 text-slate-500 rotate-45"})})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return x.candidateId||(e.candidateId="Please select a candidate"),x.jobId||(e.jobId="Please select a job"),x.scheduledDate||(e.scheduledDate="Please select a date"),x.scheduledTime||(e.scheduledTime="Please select a time"),x.interviewer.id||(e.interviewer="Please select an interviewer"),x.location||(e.location="Please enter a location"),h(e),0===Object.keys(e).length})()){g(!0);try{const e=new Date(`${x.scheduledDate}T${x.scheduledTime}`),s={...x,scheduledDate:e};await i(s),r()}catch(s){}finally{g(!1)}}},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Candidate *"}),e.jsxs("select",{value:x.candidateId,onChange:e=>N("candidateId",e.target.value),className:"w-full px-3 py-2 bg-slate-50 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors "+(b.candidateId?"border-red-300":"border-slate-200"),children:[e.jsx("option",{value:"",children:"Select candidate..."}),j.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),b.candidateId&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),b.candidateId]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Job Position *"}),e.jsxs("select",{value:x.jobId,onChange:e=>N("jobId",e.target.value),className:"w-full px-3 py-2 bg-slate-50 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors "+(b.jobId?"border-red-300":"border-slate-200"),children:[e.jsx("option",{value:"",children:"Select job..."}),v.map(s=>e.jsxs("option",{value:s.id,children:[s.title," - ",s.client]},s.id))]}),b.jobId&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),b.jobId]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Interview Type"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(S).map(([s,l])=>e.jsxs("button",{type:"button",onClick:()=>N("type",s),className:"p-4 rounded-xl border-2 transition-all duration-200 "+(x.type===s?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"),children:[t.createElement(l.icon,{className:"w-6 h-6 mx-auto mb-2 "+(x.type===s?"text-blue-600":"text-slate-600")}),e.jsx("div",{className:"text-sm font-medium "+(x.type===s?"text-blue-900":"text-slate-900"),children:l.name}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:l.description})]},s))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date *"}),e.jsx("input",{type:"date",value:x.scheduledDate,onChange:e=>N("scheduledDate",e.target.value),className:"w-full px-3 py-2 bg-slate-50 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors "+(b.scheduledDate?"border-red-300":"border-slate-200")}),b.scheduledDate&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),b.scheduledDate]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Time *"}),e.jsx("input",{type:"time",value:x.scheduledTime,onChange:e=>N("scheduledTime",e.target.value),className:"w-full px-3 py-2 bg-slate-50 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors "+(b.scheduledTime?"border-red-300":"border-slate-200")}),b.scheduledTime&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),b.scheduledTime]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Duration (minutes)"}),e.jsxs("select",{value:x.duration,onChange:e=>N("duration",parseInt(e.target.value)),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors",children:[e.jsx("option",{value:"15",children:"15 minutes"}),e.jsx("option",{value:"30",children:"30 minutes"}),e.jsx("option",{value:"45",children:"45 minutes"}),e.jsx("option",{value:"60",children:"1 hour"}),e.jsx("option",{value:"75",children:"1.5 hours"}),e.jsx("option",{value:"90",children:"1.5 hours"}),e.jsx("option",{value:"120",children:"2 hours"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Interviewer *"}),e.jsxs("select",{value:x.interviewer.id,onChange:e=>N("interviewerId",e.target.value),className:"w-full px-3 py-2 bg-slate-50 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors "+(b.interviewer?"border-red-300":"border-slate-200"),children:[e.jsx("option",{value:"",children:"Select interviewer..."}),f.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.role]},s.id))]}),b.interviewer&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),b.interviewer]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Location *"}),e.jsx("input",{type:"text",value:x.location,onChange:e=>N("location",e.target.value),placeholder:"Conference Room A, Virtual, Phone, etc.",className:"w-full px-3 py-2 bg-slate-50 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors "+(b.location?"border-red-300":"border-slate-200")}),b.location&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),b.location]})]}),"video"===x.type&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Meeting Link"}),e.jsx("input",{type:"url",value:x.meetingLink,onChange:e=>N("meetingLink",e.target.value),placeholder:"https://meet.google.com/...",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Interview Round"}),e.jsxs("select",{value:x.round,onChange:e=>N("round",parseInt(e.target.value)),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors",children:[e.jsx("option",{value:"1",children:"Round 1 - Screening"}),e.jsx("option",{value:"2",children:"Round 2 - Technical"}),e.jsx("option",{value:"3",children:"Round 3 - Manager"}),e.jsx("option",{value:"4",children:"Round 4 - Final"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Priority"}),e.jsx("select",{value:x.priority,onChange:e=>N("priority",e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors",children:Object.entries(I).map(([s,t])=>e.jsx("option",{value:s,children:t.name},s))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:x.notes,onChange:e=>N("notes",e.target.value),rows:3,placeholder:"Interview agenda, focus areas, special instructions...",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors resize-none"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-slate-200",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-slate-600 hover:text-slate-800 font-medium rounded-xl hover:bg-slate-100 transition-all duration-200",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[p&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:u?"Update Interview":"Schedule Interview"})]})]})]})]})})}):null},T=({isOpen:t,onClose:l,interview:a,onSaveNotes:n})=>{const[r,i]=s.useState((null==a?void 0:a.notes)||""),[o,x]=s.useState(!1);return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl border border-slate-200/50 shadow-2xl w-full max-w-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(d,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Interview Notes"}),e.jsxs("p",{className:"text-sm text-slate-600",children:[null==a?void 0:a.candidateName," - ",null==a?void 0:a.jobTitle]})]})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors duration-200",children:e.jsx(c,{className:"w-5 h-5 text-slate-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:r,onChange:e=>i(e.target.value),rows:8,placeholder:"Add your interview notes, observations, and feedback here...",className:"w-full px-3 py-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors resize-none"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-slate-200",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 text-slate-600 hover:text-slate-800 font-medium rounded-xl hover:bg-slate-100 transition-all duration-200",children:"Cancel"}),e.jsxs("button",{onClick:async()=>{x(!0);try{await n(a.id,r),l()}catch(e){}finally{x(!1)}},disabled:o,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[o&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Notes"})]})]})]})]})})}):null},P=[{value:"scheduled",label:"Scheduled",color:"bg-blue-100 text-blue-800",icon:m,description:"Interview is scheduled and confirmed"},{value:"in-progress",label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:b,description:"Interview is currently happening"},{value:"completed",label:"Completed",color:"bg-green-100 text-green-800",icon:x,description:"Interview has been completed"},{value:"cancelled",label:"Cancelled",color:"bg-red-100 text-red-800",icon:c,description:"Interview has been cancelled"},{value:"rescheduled",label:"Rescheduled",color:"bg-orange-100 text-orange-800",icon:h,description:"Interview has been rescheduled"},{value:"no-show",label:"No Show",color:"bg-gray-100 text-gray-800",icon:n,description:"Candidate did not attend the interview"}],R=({isOpen:l,onClose:a,interview:n,onUpdateStatus:r})=>{var i,o;const[d,u]=s.useState((null==n?void 0:n.status)||"scheduled"),[m,b]=s.useState(""),[h,p]=s.useState(!1);return l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl border border-slate-200/50 shadow-2xl w-full max-w-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(x,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Interview Status"}),e.jsxs("p",{className:"text-sm text-slate-600",children:[null==n?void 0:n.candidateName," - ",null==n?void 0:n.jobTitle]})]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors duration-200",children:e.jsx(c,{className:"w-5 h-5 text-slate-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"Current Status"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(null==(i=P.find(e=>e.value===(null==n?void 0:n.status)))?void 0:i.color)||"bg-gray-100 text-gray-800"}`,children:(null==(o=P.find(e=>e.value===(null==n?void 0:n.status)))?void 0:o.label)||(null==n?void 0:n.status)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"New Status"}),e.jsx("div",{className:"space-y-2",children:P.map(s=>e.jsx("button",{onClick:()=>u(s.value),className:"w-full p-4 rounded-xl border-2 transition-all duration-200 text-left "+(d===s.value?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[t.createElement(s.icon,{className:"w-5 h-5 "+(d===s.value?"text-blue-600":"text-slate-600")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium "+(d===s.value?"text-blue-900":"text-slate-900"),children:s.label}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:s.description})]})]})},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:m,onChange:e=>b(e.target.value),rows:3,placeholder:"Add any additional notes about the status change...",className:"w-full px-3 py-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors resize-none"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-slate-200",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-slate-600 hover:text-slate-800 font-medium rounded-xl hover:bg-slate-100 transition-all duration-200",children:"Cancel"}),e.jsxs("button",{onClick:async()=>{p(!0);try{await r(n.id,d,m),a()}catch(e){}finally{p(!1)}},disabled:h||d===(null==n?void 0:n.status),className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[h&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{children:"Update Status"})]})]})]})]})})}):null},L={phone:{name:"Phone",icon:o,color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-700",borderColor:"border-blue-200"},video:{name:"Video",icon:i,color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-700",borderColor:"border-green-200"},"in-person":{name:"In-Person",icon:r,color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700",borderColor:"border-purple-200"}},O={scheduled:{name:"Scheduled",color:"bg-blue-100 text-blue-800",icon:m},"in-progress":{name:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:b},completed:{name:"Completed",color:"bg-green-100 text-green-800",icon:x},cancelled:{name:"Cancelled",color:"bg-red-100 text-red-800",icon:c},rescheduled:{name:"Rescheduled",color:"bg-orange-100 text-orange-800",icon:h},"no-show":{name:"No Show",color:"bg-gray-100 text-gray-800",icon:n}},U={low:{name:"Low",color:"bg-gray-100 text-gray-700"},medium:{name:"Medium",color:"bg-blue-100 text-blue-700"},high:{name:"High",color:"bg-orange-100 text-orange-700"},urgent:{name:"Urgent",color:"bg-red-100 text-red-700"}},A=({interview:l,onJoin:a,onReschedule:n,onAddNotes:r,onUpdateStatus:o,onViewDetails:c})=>{const[u,x]=s.useState(!1),p=L[l.type],g=O[l.status],j=U[l.priority],{date:k,time:S}={date:(I=l.scheduledDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:I.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};var I;const D=l.scheduledDate.toDateString()===(new Date).toDateString(),T=l.scheduledDate<new Date;return e.jsxs("div",{className:`\n      bg-white rounded-xl border border-slate-200 p-6 hover:shadow-lg transition-all duration-200\n      ${D?"ring-2 ring-blue-200 bg-blue-50/30":""}\n      ${T&&"scheduled"===l.status?"border-orange-200 bg-orange-50/30":""}\n    `,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${p.bgColor}`,children:t.createElement(p.icon,{className:`w-5 h-5 ${p.textColor}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-lg",children:l.candidateName}),e.jsxs("p",{className:"text-sm text-slate-600 flex items-center space-x-1",children:[e.jsx(v,{className:"w-3 h-3"}),e.jsx("span",{children:l.jobTitle})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.color}`,children:j.name}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>x(!u),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(f,{className:"w-4 h-4 text-slate-500"})}),u&&e.jsxs("div",{className:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-10 min-w-[160px]",children:[e.jsxs("button",{onClick:()=>{c(l),x(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center space-x-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]}),e.jsxs("button",{onClick:()=>{n(l),x(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center space-x-2",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:"Reschedule"})]}),e.jsxs("button",{onClick:()=>{r(l),x(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-50 flex items-center space-x-2",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Notes"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{className:D?"font-medium text-blue-700":"",children:k})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{className:D?"font-medium text-blue-700":"",children:S})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate max-w-[120px]",children:l.location})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.color}`,children:g.name})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-slate-600",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:l.interviewer.name}),e.jsx("span",{className:"text-slate-400",children:"•"}),e.jsx("span",{children:l.interviewer.role})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-slate-600",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:l.client})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-slate-500",children:["Round ",l.round," • ",l.duration," minutes"]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.color} text-white`,children:p.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:["scheduled"===l.status&&e.jsxs(e.Fragment,{children:["video"===l.type&&l.meetingLink&&e.jsxs("button",{onClick:()=>a(l),className:"flex-1 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(i,{className:"w-4 h-4"}),e.jsx("span",{children:"Join"})]}),e.jsxs("button",{onClick:()=>n(l),className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:"Reschedule"})]})]}),e.jsxs("button",{onClick:()=>r(l),className:"px-4 py-2 border border-slate-300 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors flex items-center space-x-2",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsx("span",{children:"Notes"})]}),e.jsx("button",{onClick:()=>o(l),className:"px-4 py-2 border border-slate-300 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Update Status"})]}),l.notes&&e.jsx("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:l.notes})})]})},F=({filters:t,onFilterChange:l,onClearFilters:a})=>{var n,r;const[i,o]=s.useState(!1),d={type:[{value:"all",label:"All Types"},{value:"phone",label:"Phone"},{value:"video",label:"Video"},{value:"in-person",label:"In-Person"}],status:[{value:"all",label:"All Status"},{value:"scheduled",label:"Scheduled"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"rescheduled",label:"Rescheduled"}],priority:[{value:"all",label:"All Priorities"},{value:"urgent",label:"Urgent"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]},c=Object.values(t).filter(e=>e&&"all"!==e&&""!==e).length;return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>o(!i),className:"px-4 py-2 text-sm font-medium rounded-xl transition-all duration-200 flex items-center space-x-2 "+(i||c>0?"bg-blue-100 text-blue-700":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"),children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:"Filters"}),c>0&&e.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:c}),e.jsx(j,{className:"w-4 h-4 transition-transform "+(i?"rotate-180":"")})]}),i&&e.jsxs("div",{className:"absolute top-12 left-0 bg-white rounded-xl shadow-lg border border-slate-200 p-4 z-20 min-w-[320px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Filter Interviews"}),e.jsx("button",{onClick:a,className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear All"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"date",value:(null==(n=t.dateRange)?void 0:n.start)||"",onChange:e=>l("dateRange",{...t.dateRange,start:e.target.value?new Date(e.target.value):null}),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),e.jsx("input",{type:"date",value:(null==(r=t.dateRange)?void 0:r.end)||"",onChange:e=>l("dateRange",{...t.dateRange,end:e.target.value?new Date(e.target.value):null}),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Interview Type"}),e.jsx("select",{value:t.type||"all",onChange:e=>l("type",e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:d.type.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),e.jsx("select",{value:t.status||"all",onChange:e=>l("status",e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:d.status.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Priority"}),e.jsx("select",{value:t.priority||"all",onChange:e=>l("priority",e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:d.priority.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Position"}),e.jsx("input",{type:"text",placeholder:"Filter by job title...",value:t.position||"",onChange:e=>l("position",e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Interviewer"}),e.jsx("input",{type:"text",placeholder:"Filter by interviewer name...",value:t.interviewer||"",onChange:e=>l("interviewer",e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})]})]})]})},M=()=>{k();const[t,i]=s.useState(""),[o,d]=s.useState({type:"all",status:"all",priority:"all",dateRange:null,position:"",interviewer:""}),[c,u]=s.useState(!1),[h,g]=s.useState(!1),[j,v]=s.useState(!1),[f,N]=s.useState(null),{interviews:w,loading:y,error:C,updateInterview:S,getInterviewStats:I}=l(o),P=I(),L=w.filter(e=>{const s=t.toLowerCase();return e.candidateName.toLowerCase().includes(s)||e.jobTitle.toLowerCase().includes(s)||e.client.toLowerCase().includes(s)||e.interviewer.name.toLowerCase().includes(s)}),O=e=>{e.meetingLink&&window.open(e.meetingLink,"_blank")},U=e=>{N(e),u(!0)},M=e=>{N(e),g(!0)},V=e=>{N(e),v(!0)},$=e=>{},z=()=>{N(null),u(!0)};return y?e.jsx("div",{className:"min-h-full bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading interviews..."})]})})}):C?e.jsx("div",{className:"min-h-full bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx(n,{className:"w-12 h-12 mx-auto"})}),e.jsxs("p",{className:"text-slate-600",children:["Error loading interviews: ",C]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):e.jsxs("div",{className:"min-h-full bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent",children:"Interviews"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage and track candidate interviews"})]}),e.jsxs("button",{onClick:z,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(a,{className:"w-5 h-5"}),e.jsx("span",{children:"Schedule Interview"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-xl border border-slate-200/50 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Interviews"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:P.total})]}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(m,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-xl border border-slate-200/50 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Today"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:P.today})]}),e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(b,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-xl border border-slate-200/50 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"This Week"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:P.thisWeek})]}),e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(r,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-xl border border-slate-200/50 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:P.completed})]}),e.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:e.jsx(x,{className:"w-6 h-6 text-emerald-600"})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search interviews by candidate, job, or interviewer...",value:t,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/95 backdrop-blur-xl border border-slate-200/50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300 transition-colors"})]}),e.jsx(F,{filters:o,onFilterChange:(e,s)=>{d(t=>({...t,[e]:s}))},onClearFilters:()=>{d({type:"all",status:"all",priority:"all",dateRange:null,position:"",interviewer:""}),i("")}})]}),L.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:L.map(s=>e.jsx(A,{interview:s,onJoin:O,onReschedule:U,onAddNotes:M,onUpdateStatus:V,onViewDetails:$},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-slate-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(m,{className:"w-10 h-10 text-slate-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"No interviews found"}),e.jsx("p",{className:"text-slate-500 text-sm mb-6 max-w-md mx-auto",children:t||Object.values(o).some(e=>e&&"all"!==e)?"No interviews match your current search and filters.":"You haven't scheduled any interviews yet. Start by scheduling your first interview."}),e.jsxs("button",{onClick:z,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-2 mx-auto",children:[e.jsx(a,{className:"w-5 h-5"}),e.jsx("span",{children:"Schedule Interview"})]})]})]}),c&&e.jsx(D,{isOpen:c,onClose:()=>{u(!1),N(null)},onSchedule:async e=>{u(!1),N(null)},existingInterview:f}),h&&e.jsx(T,{isOpen:h,onClose:()=>{g(!1),N(null)},interview:f,onSaveNotes:async(e,s)=>{await S(e,{notes:s})}}),j&&e.jsx(R,{isOpen:j,onClose:()=>{v(!1),N(null)},interview:f,onUpdateStatus:async(e,s,t)=>{await S(e,{status:s,statusNotes:t})}})]})};export{M as default};
